(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function _b(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Zc={exports:{}},ka={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function Sb(){if(Lp)return ka;Lp=1;var p=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var h in l)h!=="key"&&(o[h]=l[h])}else o=l;return l=o.ref,{$$typeof:p,type:a,key:c,ref:l!==void 0?l:null,props:o}}return ka.Fragment=t,ka.jsx=n,ka.jsxs=n,ka}var Op;function Eb(){return Op||(Op=1,Zc.exports=Sb()),Zc.exports}var Z=Eb(),Wc={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function Tb(){if(Np)return vt;Np=1;var p=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function x(C,q,K){this.props=C,this.context=q,this.refs=E,this.updater=K||A}x.prototype.isReactComponent={},x.prototype.setState=function(C,q){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,q,"setState")},x.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function w(){}w.prototype=x.prototype;function P(C,q,K){this.props=C,this.context=q,this.refs=E,this.updater=K||A}var U=P.prototype=new w;U.constructor=P,_(U,x.prototype),U.isPureReactComponent=!0;var H=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function Y(C,q,K,X,tt,dt){return K=dt.ref,{$$typeof:p,type:C,key:q,ref:K!==void 0?K:null,props:dt}}function Q(C,q){return Y(C.type,q,void 0,void 0,void 0,C.props)}function $(C){return typeof C=="object"&&C!==null&&C.$$typeof===p}function it(C){var q={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(K){return q[K]})}var W=/\/+/g;function ht(C,q){return typeof C=="object"&&C!==null&&C.key!=null?it(""+C.key):q.toString(36)}function bt(){}function gt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(bt,bt):(C.status="pending",C.then(function(q){C.status==="pending"&&(C.status="fulfilled",C.value=q)},function(q){C.status==="pending"&&(C.status="rejected",C.reason=q)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ot(C,q,K,X,tt){var dt=typeof C;(dt==="undefined"||dt==="boolean")&&(C=null);var nt=!1;if(C===null)nt=!0;else switch(dt){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(C.$$typeof){case p:case t:nt=!0;break;case m:return nt=C._init,ot(nt(C._payload),q,K,X,tt)}}if(nt)return tt=tt(C),nt=X===""?"."+ht(C,0):X,H(tt)?(K="",nt!=null&&(K=nt.replace(W,"$&/")+"/"),ot(tt,q,K,"",function(ne){return ne})):tt!=null&&($(tt)&&(tt=Q(tt,K+(tt.key==null||C&&C.key===tt.key?"":(""+tt.key).replace(W,"$&/")+"/")+nt)),q.push(tt)),1;nt=0;var yt=X===""?".":X+":";if(H(C))for(var At=0;At<C.length;At++)X=C[At],dt=yt+ht(X,At),nt+=ot(X,q,K,dt,tt);else if(At=b(C),typeof At=="function")for(C=At.call(C),At=0;!(X=C.next()).done;)X=X.value,dt=yt+ht(X,At++),nt+=ot(X,q,K,dt,tt);else if(dt==="object"){if(typeof C.then=="function")return ot(gt(C),q,K,X,tt);throw q=String(C),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return nt}function O(C,q,K){if(C==null)return C;var X=[],tt=0;return ot(C,X,"","",function(dt){return q.call(K,dt,tt++)}),X}function z(C){if(C._status===-1){var q=C._result;q=q(),q.then(function(K){(C._status===0||C._status===-1)&&(C._status=1,C._result=K)},function(K){(C._status===0||C._status===-1)&&(C._status=2,C._result=K)}),C._status===-1&&(C._status=0,C._result=q)}if(C._status===1)return C._result.default;throw C._result}var V=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function mt(){}return vt.Children={map:O,forEach:function(C,q,K){O(C,function(){q.apply(this,arguments)},K)},count:function(C){var q=0;return O(C,function(){q++}),q},toArray:function(C){return O(C,function(q){return q})||[]},only:function(C){if(!$(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},vt.Component=x,vt.Fragment=n,vt.Profiler=l,vt.PureComponent=P,vt.StrictMode=a,vt.Suspense=d,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,vt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return F.H.useMemoCache(C)}},vt.cache=function(C){return function(){return C.apply(null,arguments)}},vt.cloneElement=function(C,q,K){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var X=_({},C.props),tt=C.key,dt=void 0;if(q!=null)for(nt in q.ref!==void 0&&(dt=void 0),q.key!==void 0&&(tt=""+q.key),q)!G.call(q,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&q.ref===void 0||(X[nt]=q[nt]);var nt=arguments.length-2;if(nt===1)X.children=K;else if(1<nt){for(var yt=Array(nt),At=0;At<nt;At++)yt[At]=arguments[At+2];X.children=yt}return Y(C.type,tt,void 0,void 0,dt,X)},vt.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},vt.createElement=function(C,q,K){var X,tt={},dt=null;if(q!=null)for(X in q.key!==void 0&&(dt=""+q.key),q)G.call(q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(tt[X]=q[X]);var nt=arguments.length-2;if(nt===1)tt.children=K;else if(1<nt){for(var yt=Array(nt),At=0;At<nt;At++)yt[At]=arguments[At+2];tt.children=yt}if(C&&C.defaultProps)for(X in nt=C.defaultProps,nt)tt[X]===void 0&&(tt[X]=nt[X]);return Y(C,dt,void 0,void 0,null,tt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(C){return{$$typeof:h,render:C}},vt.isValidElement=$,vt.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:z}},vt.memo=function(C,q){return{$$typeof:g,type:C,compare:q===void 0?null:q}},vt.startTransition=function(C){var q=F.T,K={};F.T=K;try{var X=C(),tt=F.S;tt!==null&&tt(K,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(mt,V)}catch(dt){V(dt)}finally{F.T=q}},vt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},vt.use=function(C){return F.H.use(C)},vt.useActionState=function(C,q,K){return F.H.useActionState(C,q,K)},vt.useCallback=function(C,q){return F.H.useCallback(C,q)},vt.useContext=function(C){return F.H.useContext(C)},vt.useDebugValue=function(){},vt.useDeferredValue=function(C,q){return F.H.useDeferredValue(C,q)},vt.useEffect=function(C,q,K){var X=F.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(C,q)},vt.useId=function(){return F.H.useId()},vt.useImperativeHandle=function(C,q,K){return F.H.useImperativeHandle(C,q,K)},vt.useInsertionEffect=function(C,q){return F.H.useInsertionEffect(C,q)},vt.useLayoutEffect=function(C,q){return F.H.useLayoutEffect(C,q)},vt.useMemo=function(C,q){return F.H.useMemo(C,q)},vt.useOptimistic=function(C,q){return F.H.useOptimistic(C,q)},vt.useReducer=function(C,q,K){return F.H.useReducer(C,q,K)},vt.useRef=function(C){return F.H.useRef(C)},vt.useState=function(C){return F.H.useState(C)},vt.useSyncExternalStore=function(C,q,K){return F.H.useSyncExternalStore(C,q,K)},vt.useTransition=function(){return F.H.useTransition()},vt.version="19.1.1",vt}var kp;function Eu(){return kp||(kp=1,Wc.exports=Tb()),Wc.exports}var J=Eu(),Jc={exports:{}},Pa={},tu={exports:{}},eu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function wb(){return Pp||(Pp=1,(function(p){function t(O,z){var V=O.length;O.push(z);t:for(;0<V;){var mt=V-1>>>1,C=O[mt];if(0<l(C,z))O[mt]=z,O[V]=C,V=mt;else break t}}function n(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var z=O[0],V=O.pop();if(V!==z){O[0]=V;t:for(var mt=0,C=O.length,q=C>>>1;mt<q;){var K=2*(mt+1)-1,X=O[K],tt=K+1,dt=O[tt];if(0>l(X,V))tt<C&&0>l(dt,X)?(O[mt]=dt,O[tt]=V,mt=tt):(O[mt]=X,O[K]=V,mt=K);else if(tt<C&&0>l(dt,V))O[mt]=dt,O[tt]=V,mt=tt;else break t}}return z}function l(O,z){var V=O.sortIndex-z.sortIndex;return V!==0?V:O.id-z.id}if(p.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;p.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();p.unstable_now=function(){return c.now()-h}}var d=[],g=[],m=1,v=null,b=3,A=!1,_=!1,E=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function H(O){for(var z=n(g);z!==null;){if(z.callback===null)a(g);else if(z.startTime<=O)a(g),z.sortIndex=z.expirationTime,t(d,z);else break;z=n(g)}}function F(O){if(E=!1,H(O),!_)if(n(d)!==null)_=!0,G||(G=!0,ht());else{var z=n(g);z!==null&&ot(F,z.startTime-O)}}var G=!1,Y=-1,Q=5,$=-1;function it(){return x?!0:!(p.unstable_now()-$<Q)}function W(){if(x=!1,G){var O=p.unstable_now();$=O;var z=!0;try{t:{_=!1,E&&(E=!1,P(Y),Y=-1),A=!0;var V=b;try{e:{for(H(O),v=n(d);v!==null&&!(v.expirationTime>O&&it());){var mt=v.callback;if(typeof mt=="function"){v.callback=null,b=v.priorityLevel;var C=mt(v.expirationTime<=O);if(O=p.unstable_now(),typeof C=="function"){v.callback=C,H(O),z=!0;break e}v===n(d)&&a(d),H(O)}else a(d);v=n(d)}if(v!==null)z=!0;else{var q=n(g);q!==null&&ot(F,q.startTime-O),z=!1}}break t}finally{v=null,b=V,A=!1}z=void 0}}finally{z?ht():G=!1}}}var ht;if(typeof U=="function")ht=function(){U(W)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,gt=bt.port2;bt.port1.onmessage=W,ht=function(){gt.postMessage(null)}}else ht=function(){w(W,0)};function ot(O,z){Y=w(function(){O(p.unstable_now())},z)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(O){O.callback=null},p.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<O?Math.floor(1e3/O):5},p.unstable_getCurrentPriorityLevel=function(){return b},p.unstable_next=function(O){switch(b){case 1:case 2:case 3:var z=3;break;default:z=b}var V=b;b=z;try{return O()}finally{b=V}},p.unstable_requestPaint=function(){x=!0},p.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=b;b=O;try{return z()}finally{b=V}},p.unstable_scheduleCallback=function(O,z,V){var mt=p.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?mt+V:mt):V=mt,O){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=V+C,O={id:m++,callback:z,priorityLevel:O,startTime:V,expirationTime:C,sortIndex:-1},V>mt?(O.sortIndex=V,t(g,O),n(d)===null&&O===n(g)&&(E?(P(Y),Y=-1):E=!0,ot(F,V-mt))):(O.sortIndex=C,t(d,O),_||A||(_=!0,G||(G=!0,ht()))),O},p.unstable_shouldYield=it,p.unstable_wrapCallback=function(O){var z=b;return function(){var V=b;b=z;try{return O.apply(this,arguments)}finally{b=V}}}})(eu)),eu}var Hp;function xb(){return Hp||(Hp=1,tu.exports=wb()),tu.exports}var iu={exports:{}},Ee={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function Cb(){if(zp)return Ee;zp=1;var p=Eu();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(d,g,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:d,containerInfo:g,implementation:m}}var c=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ee.createPortal=function(d,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(d,g,null,m)},Ee.flushSync=function(d){var g=c.T,m=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=g,a.p=m,a.d.f()}},Ee.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(d,g))},Ee.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Ee.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var m=g.as,v=h(m,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?a.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:A}):m==="script"&&a.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ee.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);a.d.M(d,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(d)},Ee.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,v=h(m,g.crossOrigin);a.d.L(d,m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ee.preloadModule=function(d,g){if(typeof d=="string")if(g){var m=h(g.as,g.crossOrigin);a.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(d)},Ee.requestFormReset=function(d){a.d.r(d)},Ee.unstable_batchedUpdates=function(d,g){return d(g)},Ee.useFormState=function(d,g,m){return c.H.useFormState(d,g,m)},Ee.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ee.version="19.1.1",Ee}var Fp;function Rb(){if(Fp)return iu.exports;Fp=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(t){console.error(t)}}return p(),iu.exports=Cb(),iu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Mb(){if(Up)return Pa;Up=1;var p=xb(),t=Eu(),n=Rb();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(a(188))}function d(e){var i=e.alternate;if(!i){if(i=o(e),i===null)throw Error(a(188));return i!==e?null:e}for(var s=e,r=i;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){s=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return h(u),e;if(f===r)return h(u),i;f=f.sibling}throw Error(a(188))}if(s.return!==r.return)s=u,r=f;else{for(var y=!1,S=u.child;S;){if(S===s){y=!0,s=u,r=f;break}if(S===r){y=!0,r=u,s=f;break}S=S.sibling}if(!y){for(S=f.child;S;){if(S===s){y=!0,s=f,r=u;break}if(S===r){y=!0,r=f,s=u;break}S=S.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ht(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Symbol.for("react.client.reference");function gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===bt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case U:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case H:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return i=e.displayName||null,i!==null?i:gt(e.type)||"Memo";case Q:i=e._payload,e=e._init;try{return gt(e(i))}catch{}}return null}var ot=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},mt=[],C=-1;function q(e){return{current:e}}function K(e){0>C||(e.current=mt[C],mt[C]=null,C--)}function X(e,i){C++,mt[C]=e.current,e.current=i}var tt=q(null),dt=q(null),nt=q(null),yt=q(null);function At(e,i){switch(X(nt,i),X(dt,e),X(tt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?ap(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=ap(i),e=rp(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(tt),X(tt,e)}function ne(){K(tt),K(dt),K(nt)}function Bt(e){e.memoizedState!==null&&X(yt,e);var i=tt.current,s=rp(i,e.type);i!==s&&(X(dt,e),X(tt,s))}function ui(e){dt.current===e&&(K(tt),K(dt)),yt.current===e&&(K(yt),Ma._currentValue=V)}var Ai=Object.prototype.hasOwnProperty,Lt=p.unstable_scheduleCallback,It=p.unstable_cancelCallback,ce=p.unstable_shouldYield,Zt=p.unstable_requestPaint,me=p.unstable_now,vn=p.unstable_getCurrentPriorityLevel,Qa=p.unstable_ImmediatePriority,$a=p.unstable_UserBlockingPriority,_i=p.unstable_NormalPriority,Hl=p.unstable_LowPriority,Za=p.unstable_IdlePriority,zl=p.log,Fl=p.unstable_setDisableYieldValue,bn=null,Wt=null;function Ue(e){if(typeof zl=="function"&&Fl(e),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(bn,e)}catch{}}var ue=Math.clz32?Math.clz32:lm,zs=Math.log,rm=Math.LN2;function lm(e){return e>>>=0,e===0?32:31-(zs(e)/rm|0)|0}var Wa=256,Ja=4194304;function yn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tr(e,i,s){var r=e.pendingLanes;if(r===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var S=r&134217727;return S!==0?(r=S&~f,r!==0?u=yn(r):(y&=S,y!==0?u=yn(y):s||(s=S&~e,s!==0&&(u=yn(s))))):(S=r&~f,S!==0?u=yn(S):y!==0?u=yn(y):s||(s=r&~e,s!==0&&(u=yn(s)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:u}function Fs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function om(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var e=Wa;return Wa<<=1,(Wa&4194048)===0&&(Wa=256),e}function Iu(){var e=Ja;return Ja<<=1,(Ja&62914560)===0&&(Ja=4194304),e}function Ul(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Us(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function cm(e,i,s,r,u,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var S=e.entanglements,T=e.expirationTimes,L=e.hiddenUpdates;for(s=y&~s;0<s;){var B=31-ue(s),I=1<<B;S[B]=0,T[B]=-1;var N=L[B];if(N!==null)for(L[B]=null,B=0;B<N.length;B++){var k=N[B];k!==null&&(k.lane&=-536870913)}s&=~I}r!==0&&qu(e,r,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function qu(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var r=31-ue(i);e.entangledLanes|=i,e.entanglements[r]=e.entanglements[r]|1073741824|s&4194090}function Gu(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var r=31-ue(s),u=1<<r;u&i|e[r]&i&&(e[r]|=i),s&=~u}}function Bl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vu(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:wp(e.type))}function um(e,i){var s=z.p;try{return z.p=e,i()}finally{z.p=s}}var qi=Math.random().toString(36).slice(2),_e="__reactFiber$"+qi,De="__reactProps$"+qi,Xn="__reactContainer$"+qi,Il="__reactEvents$"+qi,hm="__reactListeners$"+qi,dm="__reactHandles$"+qi,Xu="__reactResources$"+qi,Bs="__reactMarker$"+qi;function ql(e){delete e[_e],delete e[De],delete e[Il],delete e[hm],delete e[dm]}function Yn(e){var i=e[_e];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Xn]||s[_e]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=up(e);e!==null;){if(s=e[_e])return s;e=up(e)}return i}e=s,s=e.parentNode}return null}function Kn(e){if(e=e[_e]||e[Xn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function js(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Qn(e){var i=e[Xu];return i||(i=e[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function he(e){e[Bs]=!0}var Yu=new Set,Ku={};function An(e,i){$n(e,i),$n(e+"Capture",i)}function $n(e,i){for(Ku[e]=i,e=0;e<i.length;e++)Yu.add(i[e])}var fm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},$u={};function pm(e){return Ai.call($u,e)?!0:Ai.call(Qu,e)?!1:fm.test(e)?$u[e]=!0:(Qu[e]=!0,!1)}function er(e,i,s){if(pm(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function ir(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Si(e,i,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+r)}}var Gl,Zu;function Zn(e){if(Gl===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Gl=i&&i[1]||"",Zu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gl+e+Zu}var Vl=!1;function Xl(e,i){if(!e||Vl)return"";Vl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(k){var N=k}Reflect.construct(e,[],I)}else{try{I.call()}catch(k){N=k}e.call(I.prototype)}}else{try{throw Error()}catch(k){N=k}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(k){if(k&&N&&typeof k.stack=="string")return[k.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),y=f[0],S=f[1];if(y&&S){var T=y.split(`
`),L=S.split(`
`);for(u=r=0;r<T.length&&!T[r].includes("DetermineComponentFrameRoot");)r++;for(;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;if(r===T.length||u===L.length)for(r=T.length-1,u=L.length-1;1<=r&&0<=u&&T[r]!==L[u];)u--;for(;1<=r&&0<=u;r--,u--)if(T[r]!==L[u]){if(r!==1||u!==1)do if(r--,u--,0>u||T[r]!==L[u]){var B=`
`+T[r].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=r&&0<=u);break}}}finally{Vl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zn(s):""}function gm(e){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Xl(e.type,!1);case 11:return Xl(e.type.render,!1);case 1:return Xl(e.type,!0);case 31:return Zn("Activity");default:return""}}function Wu(e){try{var i="";do i+=gm(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ju(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mm(e){var i=Ju(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),r=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,f=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return u.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function nr(e){e._valueTracker||(e._valueTracker=mm(e))}function th(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),r="";return e&&(r=Ju(e)?e.checked?"true":"false":e.value),e=r,e!==s?(i.setValue(e),!0):!1}function sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vm=/[\n"\\]/g;function Qe(e){return e.replace(vm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Yl(e,i,s,r,u,f,y,S){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ke(i)):e.value!==""+Ke(i)&&(e.value=""+Ke(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Kl(e,y,Ke(i)):s!=null?Kl(e,y,Ke(s)):r!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ke(S):e.removeAttribute("name")}function eh(e,i,s,r,u,f,y,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+Ke(s):"",i=i!=null?""+Ke(i):s,S||i===e.value||(e.value=i),e.defaultValue=i}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=S?e.checked:!!r,e.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Kl(e,i,s){i==="number"&&sr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Wn(e,i,s,r){if(e=e.options,i){i={};for(var u=0;u<s.length;u++)i["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=i.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Ke(s),i=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}i!==null||e[u].disabled||(i=e[u])}i!==null&&(i.selected=!0)}}function ih(e,i,s){if(i!=null&&(i=""+Ke(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Ke(s):""}function nh(e,i,s,r){if(i==null){if(r!=null){if(s!=null)throw Error(a(92));if(ot(r)){if(1<r.length)throw Error(a(93));r=r[0]}s=r}s==null&&(s=""),i=s}s=Ke(i),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r)}function Jn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var bm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sh(e,i,s){var r=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":r?e.setProperty(i,s):typeof s!="number"||s===0||bm.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function ah(e,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in i)r=i[u],i.hasOwnProperty(u)&&s[u]!==r&&sh(e,u,r)}else for(var f in i)i.hasOwnProperty(f)&&sh(e,f,i[f])}function Ql(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Am=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ar(e){return Am.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var $l=null;function Zl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ts=null,es=null;function rh(e){var i=Kn(e);if(i&&(e=i.stateNode)){var s=e[De]||null;t:switch(e=i.stateNode,i.type){case"input":if(Yl(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qe(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var r=s[i];if(r!==e&&r.form===e.form){var u=r[De]||null;if(!u)throw Error(a(90));Yl(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(i=0;i<s.length;i++)r=s[i],r.form===e.form&&th(r)}break t;case"textarea":ih(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Wn(e,!!s.multiple,i,!1)}}}var Wl=!1;function lh(e,i,s){if(Wl)return e(i,s);Wl=!0;try{var r=e(i);return r}finally{if(Wl=!1,(ts!==null||es!==null)&&(Gr(),ts&&(i=ts,e=es,es=ts=null,rh(i),e)))for(i=0;i<e.length;i++)rh(e[i])}}function Is(e,i){var s=e.stateNode;if(s===null)return null;var r=s[De]||null;if(r===null)return null;s=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=!1;if(Ei)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Jl=!1}var Gi=null,to=null,rr=null;function oh(){if(rr)return rr;var e,i=to,s=i.length,r,u="value"in Gi?Gi.value:Gi.textContent,f=u.length;for(e=0;e<s&&i[e]===u[e];e++);var y=s-e;for(r=1;r<=y&&i[s-r]===u[f-r];r++);return rr=u.slice(e,1<r?1-r:void 0)}function lr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function ch(){return!1}function Le(e){function i(s,r,u,f,y){this._reactName=s,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?or:ch,this.isPropagationStopped=ch,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=Le(_n),Gs=m({},_n,{view:0,detail:0}),_m=Le(Gs),eo,io,Vs,ur=m({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(eo=e.screenX-Vs.screenX,io=e.screenY-Vs.screenY):io=eo=0,Vs=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:io}}),uh=Le(ur),Sm=m({},ur,{dataTransfer:0}),Em=Le(Sm),Tm=m({},Gs,{relatedTarget:0}),no=Le(Tm),wm=m({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),xm=Le(wm),Cm=m({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rm=Le(Cm),Mm=m({},_n,{data:0}),hh=Le(Mm),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nm(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Om[e])?!!i[e]:!1}function so(){return Nm}var km=m({},Gs,{key:function(e){if(e.key){var i=Dm[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(e){return e.type==="keypress"?lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pm=Le(km),Hm=m({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=Le(Hm),zm=m({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),Fm=Le(zm),Um=m({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bm=Le(Um),jm=m({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Im=Le(jm),qm=m({},_n,{newState:0,oldState:0}),Gm=Le(qm),Vm=[9,13,27,32],ao=Ei&&"CompositionEvent"in window,Xs=null;Ei&&"documentMode"in document&&(Xs=document.documentMode);var Xm=Ei&&"TextEvent"in window&&!Xs,fh=Ei&&(!ao||Xs&&8<Xs&&11>=Xs),ph=" ",gh=!1;function mh(e,i){switch(e){case"keyup":return Vm.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var is=!1;function Ym(e,i){switch(e){case"compositionend":return vh(i);case"keypress":return i.which!==32?null:(gh=!0,ph);case"textInput":return e=i.data,e===ph&&gh?null:e;default:return null}}function Km(e,i){if(is)return e==="compositionend"||!ao&&mh(e,i)?(e=oh(),rr=to=Gi=null,is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return fh&&i.locale!=="ko"?null:i.data;default:return null}}var Qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Qm[e.type]:i==="textarea"}function yh(e,i,s,r){ts?es?es.push(r):es=[r]:ts=r,i=$r(i,"onChange"),0<i.length&&(s=new cr("onChange","change",null,s,r),e.push({event:s,listeners:i}))}var Ys=null,Ks=null;function $m(e){tp(e,0)}function hr(e){var i=js(e);if(th(i))return e}function Ah(e,i){if(e==="change")return i}var _h=!1;if(Ei){var ro;if(Ei){var lo="oninput"in document;if(!lo){var Sh=document.createElement("div");Sh.setAttribute("oninput","return;"),lo=typeof Sh.oninput=="function"}ro=lo}else ro=!1;_h=ro&&(!document.documentMode||9<document.documentMode)}function Eh(){Ys&&(Ys.detachEvent("onpropertychange",Th),Ks=Ys=null)}function Th(e){if(e.propertyName==="value"&&hr(Ks)){var i=[];yh(i,Ks,e,Zl(e)),lh($m,i)}}function Zm(e,i,s){e==="focusin"?(Eh(),Ys=i,Ks=s,Ys.attachEvent("onpropertychange",Th)):e==="focusout"&&Eh()}function Wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hr(Ks)}function Jm(e,i){if(e==="click")return hr(i)}function tv(e,i){if(e==="input"||e==="change")return hr(i)}function ev(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Be=typeof Object.is=="function"?Object.is:ev;function Qs(e,i){if(Be(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),r=Object.keys(i);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var u=s[r];if(!Ai.call(i,u)||!Be(e[u],i[u]))return!1}return!0}function wh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xh(e,i){var s=wh(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=i&&r>=i)return{node:s,offset:i-e};e=r}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=wh(s)}}function Ch(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ch(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Rh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=sr(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=sr(e.document)}return i}function oo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var iv=Ei&&"documentMode"in document&&11>=document.documentMode,ns=null,co=null,$s=null,uo=!1;function Mh(e,i,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;uo||ns==null||ns!==sr(r)||(r=ns,"selectionStart"in r&&oo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$s&&Qs($s,r)||($s=r,r=$r(co,"onSelect"),0<r.length&&(i=new cr("onSelect","select",null,i,s),e.push({event:i,listeners:r}),i.target=ns)))}function Sn(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var ss={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},ho={},Dh={};Ei&&(Dh=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function En(e){if(ho[e])return ho[e];if(!ss[e])return e;var i=ss[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Dh)return ho[e]=i[s];return e}var Lh=En("animationend"),Oh=En("animationiteration"),Nh=En("animationstart"),nv=En("transitionrun"),sv=En("transitionstart"),av=En("transitioncancel"),kh=En("transitionend"),Ph=new Map,fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fo.push("scrollEnd");function ri(e,i){Ph.set(e,i),An(i,[e])}var Hh=new WeakMap;function $e(e,i){if(typeof e=="object"&&e!==null){var s=Hh.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Wu(i)},Hh.set(e,i),i)}return{value:e,source:i,stack:Wu(i)}}var Ze=[],as=0,po=0;function dr(){for(var e=as,i=po=as=0;i<e;){var s=Ze[i];Ze[i++]=null;var r=Ze[i];Ze[i++]=null;var u=Ze[i];Ze[i++]=null;var f=Ze[i];if(Ze[i++]=null,r!==null&&u!==null){var y=r.pending;y===null?u.next=u:(u.next=y.next,y.next=u),r.pending=u}f!==0&&zh(s,u,f)}}function fr(e,i,s,r){Ze[as++]=e,Ze[as++]=i,Ze[as++]=s,Ze[as++]=r,po|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function go(e,i,s,r){return fr(e,i,s,r),pr(e)}function rs(e,i){return fr(e,null,null,i),pr(e)}function zh(e,i,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var u=!1,f=e.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&i!==null&&(u=31-ue(s),e=f.hiddenUpdates,r=e[u],r===null?e[u]=[i]:r.push(i),i.lane=s|536870912),f):null}function pr(e){if(50<_a)throw _a=0,_c=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ls={};function rv(e,i,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(e,i,s,r){return new rv(e,i,s,r)}function mo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ti(e,i){var s=e.alternate;return s===null?(s=je(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Fh(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function gr(e,i,s,r,u,f){var y=0;if(r=e,typeof e=="function")mo(e)&&(y=1);else if(typeof e=="string")y=ob(e,s,tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case $:return e=je(31,s,i,u),e.elementType=$,e.lanes=f,e;case _:return Tn(s.children,u,f,i);case E:y=8,u|=24;break;case x:return e=je(12,s,i,u|2),e.elementType=x,e.lanes=f,e;case F:return e=je(13,s,i,u),e.elementType=F,e.lanes=f,e;case G:return e=je(19,s,i,u),e.elementType=G,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:case U:y=10;break t;case P:y=9;break t;case H:y=11;break t;case Y:y=14;break t;case Q:y=16,r=null;break t}y=29,s=Error(a(130,e===null?"null":typeof e,"")),r=null}return i=je(y,s,i,u),i.elementType=e,i.type=r,i.lanes=f,i}function Tn(e,i,s,r){return e=je(7,e,r,i),e.lanes=s,e}function vo(e,i,s){return e=je(6,e,null,i),e.lanes=s,e}function bo(e,i,s){return i=je(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var os=[],cs=0,mr=null,vr=0,We=[],Je=0,wn=null,wi=1,xi="";function xn(e,i){os[cs++]=vr,os[cs++]=mr,mr=e,vr=i}function Uh(e,i,s){We[Je++]=wi,We[Je++]=xi,We[Je++]=wn,wn=e;var r=wi;e=xi;var u=32-ue(r)-1;r&=~(1<<u),s+=1;var f=32-ue(i)+u;if(30<f){var y=u-u%5;f=(r&(1<<y)-1).toString(32),r>>=y,u-=y,wi=1<<32-ue(i)+u|s<<u|r,xi=f+e}else wi=1<<f|s<<u|r,xi=e}function yo(e){e.return!==null&&(xn(e,1),Uh(e,1,0))}function Ao(e){for(;e===mr;)mr=os[--cs],os[cs]=null,vr=os[--cs],os[cs]=null;for(;e===wn;)wn=We[--Je],We[Je]=null,xi=We[--Je],We[Je]=null,wi=We[--Je],We[Je]=null}var Re=null,Xt=null,Dt=!1,Cn=null,hi=!1,_o=Error(a(519));function Rn(e){var i=Error(a(418,""));throw Js($e(i,e)),_o}function Bh(e){var i=e.stateNode,s=e.type,r=e.memoizedProps;switch(i[_e]=e,i[De]=r,s){case"dialog":wt("cancel",i),wt("close",i);break;case"iframe":case"object":case"embed":wt("load",i);break;case"video":case"audio":for(s=0;s<Ea.length;s++)wt(Ea[s],i);break;case"source":wt("error",i);break;case"img":case"image":case"link":wt("error",i),wt("load",i);break;case"details":wt("toggle",i);break;case"input":wt("invalid",i),eh(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),nr(i);break;case"select":wt("invalid",i);break;case"textarea":wt("invalid",i),nh(i,r.value,r.defaultValue,r.children),nr(i)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||r.suppressHydrationWarning===!0||sp(i.textContent,s)?(r.popover!=null&&(wt("beforetoggle",i),wt("toggle",i)),r.onScroll!=null&&wt("scroll",i),r.onScrollEnd!=null&&wt("scrollend",i),r.onClick!=null&&(i.onclick=Zr),i=!0):i=!1,i||Rn(e)}function jh(e){for(Re=e.return;Re;)switch(Re.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:Re=Re.return}}function Zs(e){if(e!==Re)return!1;if(!Dt)return jh(e),Dt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||zc(e.type,e.memoizedProps)),s=!s),s&&Xt&&Rn(e),jh(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){Xt=oi(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}Xt=null}}else i===27?(i=Xt,ln(e.type)?(e=jc,jc=null,Xt=e):Xt=i):Xt=Re?oi(e.stateNode.nextSibling):null;return!0}function Ws(){Xt=Re=null,Dt=!1}function Ih(){var e=Cn;return e!==null&&(ke===null?ke=e:ke.push.apply(ke,e),Cn=null),e}function Js(e){Cn===null?Cn=[e]:Cn.push(e)}var So=q(null),Mn=null,Ci=null;function Vi(e,i,s){X(So,i._currentValue),i._currentValue=s}function Ri(e){e._currentValue=So.current,K(So)}function Eo(e,i,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),e===s)break;e=e.return}}function To(e,i,s,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=u;for(var T=0;T<i.length;T++)if(S.context===i[T]){f.lanes|=s,S=f.alternate,S!==null&&(S.lanes|=s),Eo(f.return,s,e),r||(y=null);break t}f=S.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Eo(y,s,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function ta(e,i,s,r){e=null;for(var u=i,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var S=u.type;Be(u.pendingProps.value,y.value)||(e!==null?e.push(S):e=[S])}}else if(u===yt.current){if(y=u.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ma):e=[Ma])}u=u.return}e!==null&&To(i,e,s,r),i.flags|=262144}function br(e){for(e=e.firstContext;e!==null;){if(!Be(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dn(e){Mn=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Se(e){return qh(Mn,e)}function yr(e,i){return Mn===null&&Dn(e),qh(e,i)}function qh(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ci===null){if(e===null)throw Error(a(308));Ci=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ci=Ci.next=i;return s}var lv=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},ov=p.unstable_scheduleCallback,cv=p.unstable_NormalPriority,se={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wo(){return{controller:new lv,data:new Map,refCount:0}}function ea(e){e.refCount--,e.refCount===0&&ov(cv,function(){e.controller.abort()})}var ia=null,xo=0,us=0,hs=null;function uv(e,i){if(ia===null){var s=ia=[];xo=0,us=Rc(),hs={status:"pending",value:void 0,then:function(r){s.push(r)}}}return xo++,i.then(Gh,Gh),i}function Gh(){if(--xo===0&&ia!==null){hs!==null&&(hs.status="fulfilled");var e=ia;ia=null,us=0,hs=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function hv(e,i){var s=[],r={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){r.status="fulfilled",r.value=i;for(var u=0;u<s.length;u++)(0,s[u])(i)},function(u){for(r.status="rejected",r.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),r}var Vh=O.S;O.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&uv(e,i),Vh!==null&&Vh(e,i)};var Ln=q(null);function Co(){var e=Ln.current;return e!==null?e:jt.pooledCache}function Ar(e,i){i===null?X(Ln,Ln.current):X(Ln,i.pool)}function Xh(){var e=Co();return e===null?null:{parent:se._currentValue,pool:e}}var na=Error(a(460)),Yh=Error(a(474)),_r=Error(a(542)),Ro={then:function(){}};function Kh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sr(){}function Qh(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Sr,Sr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Zh(e),e;default:if(typeof i.status=="string")i.then(Sr,Sr);else{if(e=jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(r){if(i.status==="pending"){var u=i;u.status="fulfilled",u.value=r}},function(r){if(i.status==="pending"){var u=i;u.status="rejected",u.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Zh(e),e}throw sa=i,na}}var sa=null;function $h(){if(sa===null)throw Error(a(459));var e=sa;return sa=null,e}function Zh(e){if(e===na||e===_r)throw Error(a(483))}var Xi=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Do(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(e,i,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ot&2)!==0){var u=r.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),r.pending=i,i=pr(e),zh(e,null,s),i}return fr(e,r,i,s),pr(e)}function aa(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var r=i.lanes;r&=e.pendingLanes,s|=r,i.lanes=s,Gu(e,s)}}function Lo(e,i){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?u=f=i:f=f.next=i}else u=f=i;s={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var Oo=!1;function ra(){if(Oo){var e=hs;if(e!==null)throw e}}function la(e,i,s,r){Oo=!1;var u=e.updateQueue;Xi=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var T=S,L=T.next;T.next=null,y===null?f=L:y.next=L,y=T;var B=e.alternate;B!==null&&(B=B.updateQueue,S=B.lastBaseUpdate,S!==y&&(S===null?B.firstBaseUpdate=L:S.next=L,B.lastBaseUpdate=T))}if(f!==null){var I=u.baseState;y=0,B=L=T=null,S=f;do{var N=S.lane&-536870913,k=N!==S.lane;if(k?(xt&N)===N:(r&N)===N){N!==0&&N===us&&(Oo=!0),B!==null&&(B=B.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ct=e,rt=S;N=i;var Ht=s;switch(rt.tag){case 1:if(ct=rt.payload,typeof ct=="function"){I=ct.call(Ht,I,N);break t}I=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=rt.payload,N=typeof ct=="function"?ct.call(Ht,I,N):ct,N==null)break t;I=m({},I,N);break t;case 2:Xi=!0}}N=S.callback,N!==null&&(e.flags|=64,k&&(e.flags|=8192),k=u.callbacks,k===null?u.callbacks=[N]:k.push(N))}else k={lane:N,tag:S.tag,payload:S.payload,callback:S.callback,next:null},B===null?(L=B=k,T=I):B=B.next=k,y|=N;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;k=S,S=k.next,k.next=null,u.lastBaseUpdate=k,u.shared.pending=null}}while(!0);B===null&&(T=I),u.baseState=T,u.firstBaseUpdate=L,u.lastBaseUpdate=B,f===null&&(u.shared.lanes=0),nn|=y,e.lanes=y,e.memoizedState=I}}function Wh(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Jh(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Wh(s[e],i)}var ds=q(null),Er=q(0);function td(e,i){e=Pi,X(Er,e),X(ds,i),Pi=e|i.baseLanes}function No(){X(Er,Pi),X(ds,ds.current)}function ko(){Pi=Er.current,K(ds),K(Er)}var Qi=0,_t=null,kt=null,Jt=null,Tr=!1,fs=!1,On=!1,wr=0,oa=0,ps=null,dv=0;function Kt(){throw Error(a(321))}function Po(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!Be(e[s],i[s]))return!1;return!0}function Ho(e,i,s,r,u,f){return Qi=f,_t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=e===null||e.memoizedState===null?zd:Fd,On=!1,f=s(r,u),On=!1,fs&&(f=id(i,s,r,u)),ed(e),f}function ed(e){O.H=Lr;var i=kt!==null&&kt.next!==null;if(Qi=0,Jt=kt=_t=null,Tr=!1,oa=0,ps=null,i)throw Error(a(300));e===null||de||(e=e.dependencies,e!==null&&br(e)&&(de=!0))}function id(e,i,s,r){_t=e;var u=0;do{if(fs&&(ps=null),oa=0,fs=!1,25<=u)throw Error(a(301));if(u+=1,Jt=kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}O.H=yv,f=i(s,r)}while(fs);return f}function fv(){var e=O.H,i=e.useState()[0];return i=typeof i.then=="function"?ca(i):i,e=e.useState()[0],(kt!==null?kt.memoizedState:null)!==e&&(_t.flags|=1024),i}function zo(){var e=wr!==0;return wr=0,e}function Fo(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Uo(e){if(Tr){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Tr=!1}Qi=0,Jt=kt=_t=null,fs=!1,oa=wr=0,ps=null}function Oe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?_t.memoizedState=Jt=e:Jt=Jt.next=e,Jt}function te(){if(kt===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var i=Jt===null?_t.memoizedState:Jt.next;if(i!==null)Jt=i,kt=e;else{if(e===null)throw _t.alternate===null?Error(a(467)):Error(a(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Jt===null?_t.memoizedState=Jt=e:Jt=Jt.next=e}return Jt}function Bo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ca(e){var i=oa;return oa+=1,ps===null&&(ps=[]),e=Qh(ps,e,i),i=_t,(Jt===null?i.memoizedState:Jt.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?zd:Fd),e}function xr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ca(e);if(e.$$typeof===U)return Se(e)}throw Error(a(438,String(e)))}function jo(e){var i=null,s=_t.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var r=_t.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(u){return u.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Bo(),_t.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),r=0;r<e;r++)s[r]=it;return i.index++,s}function Mi(e,i){return typeof i=="function"?i(e):i}function Cr(e){var i=te();return Io(i,kt,e)}function Io(e,i,s){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=s;var u=e.baseQueue,f=r.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}i.baseQueue=u=f,r.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{i=u.next;var S=y=null,T=null,L=i,B=!1;do{var I=L.lane&-536870913;if(I!==L.lane?(xt&I)===I:(Qi&I)===I){var N=L.revertLane;if(N===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),I===us&&(B=!0);else if((Qi&N)===N){L=L.next,N===us&&(B=!0);continue}else I={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},T===null?(S=T=I,y=f):T=T.next=I,_t.lanes|=N,nn|=N;I=L.action,On&&s(f,I),f=L.hasEagerState?L.eagerState:s(f,I)}else N={lane:I,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},T===null?(S=T=N,y=f):T=T.next=N,_t.lanes|=I,nn|=I;L=L.next}while(L!==null&&L!==i);if(T===null?y=f:T.next=S,!Be(f,e.memoizedState)&&(de=!0,B&&(s=hs,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=T,r.lastRenderedState=f}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qo(e){var i=te(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var r=s.dispatch,u=s.pending,f=i.memoizedState;if(u!==null){s.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);Be(f,i.memoizedState)||(de=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,r]}function nd(e,i,s){var r=_t,u=te(),f=Dt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var y=!Be((kt||u).memoizedState,s);y&&(u.memoizedState=s,de=!0),u=u.queue;var S=rd.bind(null,r,u,e);if(ua(2048,8,S,[e]),u.getSnapshot!==i||y||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,gs(9,Rr(),ad.bind(null,r,u,s,i),null),jt===null)throw Error(a(349));f||(Qi&124)!==0||sd(r,i,s)}return s}function sd(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=_t.updateQueue,i===null?(i=Bo(),_t.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function ad(e,i,s,r){i.value=s,i.getSnapshot=r,ld(i)&&od(e)}function rd(e,i,s){return s(function(){ld(i)&&od(e)})}function ld(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!Be(e,s)}catch{return!0}}function od(e){var i=rs(e,2);i!==null&&Xe(i,e,2)}function Go(e){var i=Oe();if(typeof e=="function"){var s=e;if(e=s(),On){Ue(!0);try{s()}finally{Ue(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:e},i}function cd(e,i,s,r){return e.baseState=s,Io(e,kt,typeof r=="function"?r:Mi)}function pv(e,i,s,r,u){if(Dr(e))throw Error(a(485));if(e=i.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};O.T!==null?s(!0):f.isTransition=!1,r(f),s=i.pending,s===null?(f.next=i.pending=f,ud(i,f)):(f.next=s.next,i.pending=s.next=f)}}function ud(e,i){var s=i.action,r=i.payload,u=e.state;if(i.isTransition){var f=O.T,y={};O.T=y;try{var S=s(u,r),T=O.S;T!==null&&T(y,S),hd(e,i,S)}catch(L){Vo(e,i,L)}finally{O.T=f}}else try{f=s(u,r),hd(e,i,f)}catch(L){Vo(e,i,L)}}function hd(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){dd(e,i,r)},function(r){return Vo(e,i,r)}):dd(e,i,s)}function dd(e,i,s){i.status="fulfilled",i.value=s,fd(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,ud(e,s)))}function Vo(e,i,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=s,fd(i),i=i.next;while(i!==r)}e.action=null}function fd(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function pd(e,i){return i}function gd(e,i){if(Dt){var s=jt.formState;if(s!==null){t:{var r=_t;if(Dt){if(Xt){e:{for(var u=Xt,f=hi;u.nodeType!==8;){if(!f){u=null;break e}if(u=oi(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Xt=oi(u.nextSibling),r=u.data==="F!";break t}}Rn(r)}r=!1}r&&(i=s[0])}}return s=Oe(),s.memoizedState=s.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:i},s.queue=r,s=kd.bind(null,_t,r),r.dispatch=s,r=Go(!1),f=$o.bind(null,_t,!1,r.queue),r=Oe(),u={state:i,dispatch:null,action:e,pending:null},r.queue=u,s=pv.bind(null,_t,u,f,s),u.dispatch=s,r.memoizedState=e,[i,s,!1]}function md(e){var i=te();return vd(i,kt,e)}function vd(e,i,s){if(i=Io(e,i,pd)[0],e=Cr(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=ca(i)}catch(y){throw y===na?_r:y}else r=i;i=te();var u=i.queue,f=u.dispatch;return s!==i.memoizedState&&(_t.flags|=2048,gs(9,Rr(),gv.bind(null,u,s),null)),[r,f,e]}function gv(e,i){e.action=i}function bd(e){var i=te(),s=kt;if(s!==null)return vd(i,s,e);te(),i=i.memoizedState,s=te();var r=s.queue.dispatch;return s.memoizedState=e,[i,r,!1]}function gs(e,i,s,r){return e={tag:e,create:s,deps:r,inst:i,next:null},i=_t.updateQueue,i===null&&(i=Bo(),_t.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,i.lastEffect=e),e}function Rr(){return{destroy:void 0,resource:void 0}}function yd(){return te().memoizedState}function Mr(e,i,s,r){var u=Oe();r=r===void 0?null:r,_t.flags|=e,u.memoizedState=gs(1|i,Rr(),s,r)}function ua(e,i,s,r){var u=te();r=r===void 0?null:r;var f=u.memoizedState.inst;kt!==null&&r!==null&&Po(r,kt.memoizedState.deps)?u.memoizedState=gs(i,f,s,r):(_t.flags|=e,u.memoizedState=gs(1|i,f,s,r))}function Ad(e,i){Mr(8390656,8,e,i)}function _d(e,i){ua(2048,8,e,i)}function Sd(e,i){return ua(4,2,e,i)}function Ed(e,i){return ua(4,4,e,i)}function Td(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function wd(e,i,s){s=s!=null?s.concat([e]):null,ua(4,4,Td.bind(null,i,e),s)}function Xo(){}function xd(e,i){var s=te();i=i===void 0?null:i;var r=s.memoizedState;return i!==null&&Po(i,r[1])?r[0]:(s.memoizedState=[e,i],e)}function Cd(e,i){var s=te();i=i===void 0?null:i;var r=s.memoizedState;if(i!==null&&Po(i,r[1]))return r[0];if(r=e(),On){Ue(!0);try{e()}finally{Ue(!1)}}return s.memoizedState=[r,i],r}function Yo(e,i,s){return s===void 0||(Qi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=Lf(),_t.lanes|=e,nn|=e,s)}function Rd(e,i,s,r){return Be(s,i)?s:ds.current!==null?(e=Yo(e,s,r),Be(e,i)||(de=!0),e):(Qi&42)===0?(de=!0,e.memoizedState=s):(e=Lf(),_t.lanes|=e,nn|=e,i)}function Md(e,i,s,r,u){var f=z.p;z.p=f!==0&&8>f?f:8;var y=O.T,S={};O.T=S,$o(e,!1,i,s);try{var T=u(),L=O.S;if(L!==null&&L(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var B=hv(T,r);ha(e,i,B,Ve(e))}else ha(e,i,r,Ve(e))}catch(I){ha(e,i,{then:function(){},status:"rejected",reason:I},Ve())}finally{z.p=f,O.T=y}}function mv(){}function Ko(e,i,s,r){if(e.tag!==5)throw Error(a(476));var u=Dd(e).queue;Md(e,u,i,V,s===null?mv:function(){return Ld(e),s(r)})}function Dd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:V},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ld(e){var i=Dd(e).next.queue;ha(e,i,{},Ve())}function Qo(){return Se(Ma)}function Od(){return te().memoizedState}function Nd(){return te().memoizedState}function vv(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ve();e=Yi(s);var r=Ki(i,e,s);r!==null&&(Xe(r,i,s),aa(r,i,s)),i={cache:wo()},e.payload=i;return}i=i.return}}function bv(e,i,s){var r=Ve();s={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Dr(e)?Pd(i,s):(s=go(e,i,s,r),s!==null&&(Xe(s,e,r),Hd(s,i,r)))}function kd(e,i,s){var r=Ve();ha(e,i,s,r)}function ha(e,i,s,r){var u={lane:r,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Dr(e))Pd(i,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,S=f(y,s);if(u.hasEagerState=!0,u.eagerState=S,Be(S,y))return fr(e,i,u,0),jt===null&&dr(),!1}catch{}finally{}if(s=go(e,i,u,r),s!==null)return Xe(s,e,r),Hd(s,i,r),!0}return!1}function $o(e,i,s,r){if(r={lane:2,revertLane:Rc(),action:r,hasEagerState:!1,eagerState:null,next:null},Dr(e)){if(i)throw Error(a(479))}else i=go(e,s,r,2),i!==null&&Xe(i,e,2)}function Dr(e){var i=e.alternate;return e===_t||i!==null&&i===_t}function Pd(e,i){fs=Tr=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Hd(e,i,s){if((s&4194048)!==0){var r=i.lanes;r&=e.pendingLanes,s|=r,i.lanes=s,Gu(e,s)}}var Lr={readContext:Se,use:xr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt},zd={readContext:Se,use:xr,useCallback:function(e,i){return Oe().memoizedState=[e,i===void 0?null:i],e},useContext:Se,useEffect:Ad,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Mr(4194308,4,Td.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Mr(4194308,4,e,i)},useInsertionEffect:function(e,i){Mr(4,2,e,i)},useMemo:function(e,i){var s=Oe();i=i===void 0?null:i;var r=e();if(On){Ue(!0);try{e()}finally{Ue(!1)}}return s.memoizedState=[r,i],r},useReducer:function(e,i,s){var r=Oe();if(s!==void 0){var u=s(i);if(On){Ue(!0);try{s(i)}finally{Ue(!1)}}}else u=i;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=bv.bind(null,_t,e),[r.memoizedState,e]},useRef:function(e){var i=Oe();return e={current:e},i.memoizedState=e},useState:function(e){e=Go(e);var i=e.queue,s=kd.bind(null,_t,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Xo,useDeferredValue:function(e,i){var s=Oe();return Yo(s,e,i)},useTransition:function(){var e=Go(!1);return e=Md.bind(null,_t,e.queue,!0,!1),Oe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var r=_t,u=Oe();if(Dt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),jt===null)throw Error(a(349));(xt&124)!==0||sd(r,i,s)}u.memoizedState=s;var f={value:s,getSnapshot:i};return u.queue=f,Ad(rd.bind(null,r,f,e),[e]),r.flags|=2048,gs(9,Rr(),ad.bind(null,r,f,s,i),null),s},useId:function(){var e=Oe(),i=jt.identifierPrefix;if(Dt){var s=xi,r=wi;s=(r&~(1<<32-ue(r)-1)).toString(32)+s,i=""+i+"R"+s,s=wr++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=dv++,i=""+i+"r"+s.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Qo,useFormState:gd,useActionState:gd,useOptimistic:function(e){var i=Oe();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=$o.bind(null,_t,!0,s),s.dispatch=i,[e,i]},useMemoCache:jo,useCacheRefresh:function(){return Oe().memoizedState=vv.bind(null,_t)}},Fd={readContext:Se,use:xr,useCallback:xd,useContext:Se,useEffect:_d,useImperativeHandle:wd,useInsertionEffect:Sd,useLayoutEffect:Ed,useMemo:Cd,useReducer:Cr,useRef:yd,useState:function(){return Cr(Mi)},useDebugValue:Xo,useDeferredValue:function(e,i){var s=te();return Rd(s,kt.memoizedState,e,i)},useTransition:function(){var e=Cr(Mi)[0],i=te().memoizedState;return[typeof e=="boolean"?e:ca(e),i]},useSyncExternalStore:nd,useId:Od,useHostTransitionStatus:Qo,useFormState:md,useActionState:md,useOptimistic:function(e,i){var s=te();return cd(s,kt,e,i)},useMemoCache:jo,useCacheRefresh:Nd},yv={readContext:Se,use:xr,useCallback:xd,useContext:Se,useEffect:_d,useImperativeHandle:wd,useInsertionEffect:Sd,useLayoutEffect:Ed,useMemo:Cd,useReducer:qo,useRef:yd,useState:function(){return qo(Mi)},useDebugValue:Xo,useDeferredValue:function(e,i){var s=te();return kt===null?Yo(s,e,i):Rd(s,kt.memoizedState,e,i)},useTransition:function(){var e=qo(Mi)[0],i=te().memoizedState;return[typeof e=="boolean"?e:ca(e),i]},useSyncExternalStore:nd,useId:Od,useHostTransitionStatus:Qo,useFormState:bd,useActionState:bd,useOptimistic:function(e,i){var s=te();return kt!==null?cd(s,kt,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:jo,useCacheRefresh:Nd},ms=null,da=0;function Or(e){var i=da;return da+=1,ms===null&&(ms=[]),Qh(ms,e,i)}function fa(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Nr(e,i){throw i.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ud(e){var i=e._init;return i(e._payload)}function Bd(e){function i(M,R){if(e){var D=M.deletions;D===null?(M.deletions=[R],M.flags|=16):D.push(R)}}function s(M,R){if(!e)return null;for(;R!==null;)i(M,R),R=R.sibling;return null}function r(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function u(M,R){return M=Ti(M,R),M.index=0,M.sibling=null,M}function f(M,R,D){return M.index=D,e?(D=M.alternate,D!==null?(D=D.index,D<R?(M.flags|=67108866,R):D):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function y(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function S(M,R,D,j){return R===null||R.tag!==6?(R=vo(D,M.mode,j),R.return=M,R):(R=u(R,D),R.return=M,R)}function T(M,R,D,j){var et=D.type;return et===_?B(M,R,D.props.children,j,D.key):R!==null&&(R.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Q&&Ud(et)===R.type)?(R=u(R,D.props),fa(R,D),R.return=M,R):(R=gr(D.type,D.key,D.props,null,M.mode,j),fa(R,D),R.return=M,R)}function L(M,R,D,j){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=bo(D,M.mode,j),R.return=M,R):(R=u(R,D.children||[]),R.return=M,R)}function B(M,R,D,j,et){return R===null||R.tag!==7?(R=Tn(D,M.mode,j,et),R.return=M,R):(R=u(R,D),R.return=M,R)}function I(M,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=vo(""+R,M.mode,D),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return D=gr(R.type,R.key,R.props,null,M.mode,D),fa(D,R),D.return=M,D;case A:return R=bo(R,M.mode,D),R.return=M,R;case Q:var j=R._init;return R=j(R._payload),I(M,R,D)}if(ot(R)||ht(R))return R=Tn(R,M.mode,D,null),R.return=M,R;if(typeof R.then=="function")return I(M,Or(R),D);if(R.$$typeof===U)return I(M,yr(M,R),D);Nr(M,R)}return null}function N(M,R,D,j){var et=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return et!==null?null:S(M,R,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return D.key===et?T(M,R,D,j):null;case A:return D.key===et?L(M,R,D,j):null;case Q:return et=D._init,D=et(D._payload),N(M,R,D,j)}if(ot(D)||ht(D))return et!==null?null:B(M,R,D,j,null);if(typeof D.then=="function")return N(M,R,Or(D),j);if(D.$$typeof===U)return N(M,R,yr(M,D),j);Nr(M,D)}return null}function k(M,R,D,j,et){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return M=M.get(D)||null,S(R,M,""+j,et);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return M=M.get(j.key===null?D:j.key)||null,T(R,M,j,et);case A:return M=M.get(j.key===null?D:j.key)||null,L(R,M,j,et);case Q:var St=j._init;return j=St(j._payload),k(M,R,D,j,et)}if(ot(j)||ht(j))return M=M.get(D)||null,B(R,M,j,et,null);if(typeof j.then=="function")return k(M,R,D,Or(j),et);if(j.$$typeof===U)return k(M,R,D,yr(R,j),et);Nr(R,j)}return null}function ct(M,R,D,j){for(var et=null,St=null,at=R,lt=R=0,pe=null;at!==null&&lt<D.length;lt++){at.index>lt?(pe=at,at=null):pe=at.sibling;var Mt=N(M,at,D[lt],j);if(Mt===null){at===null&&(at=pe);break}e&&at&&Mt.alternate===null&&i(M,at),R=f(Mt,R,lt),St===null?et=Mt:St.sibling=Mt,St=Mt,at=pe}if(lt===D.length)return s(M,at),Dt&&xn(M,lt),et;if(at===null){for(;lt<D.length;lt++)at=I(M,D[lt],j),at!==null&&(R=f(at,R,lt),St===null?et=at:St.sibling=at,St=at);return Dt&&xn(M,lt),et}for(at=r(at);lt<D.length;lt++)pe=k(at,M,lt,D[lt],j),pe!==null&&(e&&pe.alternate!==null&&at.delete(pe.key===null?lt:pe.key),R=f(pe,R,lt),St===null?et=pe:St.sibling=pe,St=pe);return e&&at.forEach(function(dn){return i(M,dn)}),Dt&&xn(M,lt),et}function rt(M,R,D,j){if(D==null)throw Error(a(151));for(var et=null,St=null,at=R,lt=R=0,pe=null,Mt=D.next();at!==null&&!Mt.done;lt++,Mt=D.next()){at.index>lt?(pe=at,at=null):pe=at.sibling;var dn=N(M,at,Mt.value,j);if(dn===null){at===null&&(at=pe);break}e&&at&&dn.alternate===null&&i(M,at),R=f(dn,R,lt),St===null?et=dn:St.sibling=dn,St=dn,at=pe}if(Mt.done)return s(M,at),Dt&&xn(M,lt),et;if(at===null){for(;!Mt.done;lt++,Mt=D.next())Mt=I(M,Mt.value,j),Mt!==null&&(R=f(Mt,R,lt),St===null?et=Mt:St.sibling=Mt,St=Mt);return Dt&&xn(M,lt),et}for(at=r(at);!Mt.done;lt++,Mt=D.next())Mt=k(at,M,lt,Mt.value,j),Mt!==null&&(e&&Mt.alternate!==null&&at.delete(Mt.key===null?lt:Mt.key),R=f(Mt,R,lt),St===null?et=Mt:St.sibling=Mt,St=Mt);return e&&at.forEach(function(Ab){return i(M,Ab)}),Dt&&xn(M,lt),et}function Ht(M,R,D,j){if(typeof D=="object"&&D!==null&&D.type===_&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case b:t:{for(var et=D.key;R!==null;){if(R.key===et){if(et=D.type,et===_){if(R.tag===7){s(M,R.sibling),j=u(R,D.props.children),j.return=M,M=j;break t}}else if(R.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Q&&Ud(et)===R.type){s(M,R.sibling),j=u(R,D.props),fa(j,D),j.return=M,M=j;break t}s(M,R);break}else i(M,R);R=R.sibling}D.type===_?(j=Tn(D.props.children,M.mode,j,D.key),j.return=M,M=j):(j=gr(D.type,D.key,D.props,null,M.mode,j),fa(j,D),j.return=M,M=j)}return y(M);case A:t:{for(et=D.key;R!==null;){if(R.key===et)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){s(M,R.sibling),j=u(R,D.children||[]),j.return=M,M=j;break t}else{s(M,R);break}else i(M,R);R=R.sibling}j=bo(D,M.mode,j),j.return=M,M=j}return y(M);case Q:return et=D._init,D=et(D._payload),Ht(M,R,D,j)}if(ot(D))return ct(M,R,D,j);if(ht(D)){if(et=ht(D),typeof et!="function")throw Error(a(150));return D=et.call(D),rt(M,R,D,j)}if(typeof D.then=="function")return Ht(M,R,Or(D),j);if(D.$$typeof===U)return Ht(M,R,yr(M,D),j);Nr(M,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(s(M,R.sibling),j=u(R,D),j.return=M,M=j):(s(M,R),j=vo(D,M.mode,j),j.return=M,M=j),y(M)):s(M,R)}return function(M,R,D,j){try{da=0;var et=Ht(M,R,D,j);return ms=null,et}catch(at){if(at===na||at===_r)throw at;var St=je(29,at,null,M.mode);return St.lanes=j,St.return=M,St}finally{}}}var vs=Bd(!0),jd=Bd(!1),ti=q(null),di=null;function $i(e){var i=e.alternate;X(ae,ae.current&1),X(ti,e),di===null&&(i===null||ds.current!==null||i.memoizedState!==null)&&(di=e)}function Id(e){if(e.tag===22){if(X(ae,ae.current),X(ti,e),di===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(di=e)}}else Zi()}function Zi(){X(ae,ae.current),X(ti,ti.current)}function Di(e){K(ti),di===e&&(di=null),K(ae)}var ae=q(0);function kr(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Bc(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Zo(e,i,s,r){i=e.memoizedState,s=s(r,i),s=s==null?i:m({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Wo={enqueueSetState:function(e,i,s){e=e._reactInternals;var r=Ve(),u=Yi(r);u.payload=i,s!=null&&(u.callback=s),i=Ki(e,u,r),i!==null&&(Xe(i,e,r),aa(i,e,r))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var r=Ve(),u=Yi(r);u.tag=1,u.payload=i,s!=null&&(u.callback=s),i=Ki(e,u,r),i!==null&&(Xe(i,e,r),aa(i,e,r))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Ve(),r=Yi(s);r.tag=2,i!=null&&(r.callback=i),i=Ki(e,r,s),i!==null&&(Xe(i,e,s),aa(i,e,s))}};function qd(e,i,s,r,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,y):i.prototype&&i.prototype.isPureReactComponent?!Qs(s,r)||!Qs(u,f):!0}function Gd(e,i,s,r){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,r),i.state!==e&&Wo.enqueueReplaceState(i,i.state,null)}function Nn(e,i){var s=i;if("ref"in i){s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}if(e=e.defaultProps){s===i&&(s=m({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}var Pr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Vd(e){Pr(e)}function Xd(e){console.error(e)}function Yd(e){Pr(e)}function Hr(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Kd(e,i,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Jo(e,i,s){return s=Yi(s),s.tag=3,s.payload={element:null},s.callback=function(){Hr(e,i)},s}function Qd(e){return e=Yi(e),e.tag=3,e}function $d(e,i,s,r){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;e.payload=function(){return u(f)},e.callback=function(){Kd(i,s,r)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Kd(i,s,r),typeof u!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var S=r.stack;this.componentDidCatch(r.value,{componentStack:S!==null?S:""})})}function Av(e,i,s,r,u){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=s.alternate,i!==null&&ta(i,s,u,!0),s=ti.current,s!==null){switch(s.tag){case 13:return di===null?Ec():s.alternate===null&&Yt===0&&(Yt=3),s.flags&=-257,s.flags|=65536,s.lanes=u,r===Ro?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([r]):i.add(r),wc(e,r,u)),!1;case 22:return s.flags|=65536,r===Ro?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([r]):s.add(r)),wc(e,r,u)),!1}throw Error(a(435,s.tag))}return wc(e,r,u),Ec(),!1}if(Dt)return i=ti.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=u,r!==_o&&(e=Error(a(422),{cause:r}),Js($e(e,s)))):(r!==_o&&(i=Error(a(423),{cause:r}),Js($e(i,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=$e(r,s),u=Jo(e.stateNode,r,u),Lo(e,u),Yt!==4&&(Yt=2)),!1;var f=Error(a(520),{cause:r});if(f=$e(f,s),Aa===null?Aa=[f]:Aa.push(f),Yt!==4&&(Yt=2),i===null)return!0;r=$e(r,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=Jo(s.stateNode,r,e),Lo(s,e),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(sn===null||!sn.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Qd(u),$d(u,e,s,r),Lo(s,u),!1}s=s.return}while(s!==null);return!1}var Zd=Error(a(461)),de=!1;function ve(e,i,s,r){i.child=e===null?jd(i,null,s,r):vs(i,e.child,s,r)}function Wd(e,i,s,r,u){s=s.render;var f=i.ref;if("ref"in r){var y={};for(var S in r)S!=="ref"&&(y[S]=r[S])}else y=r;return Dn(i),r=Ho(e,i,s,y,f,u),S=zo(),e!==null&&!de?(Fo(e,i,u),Li(e,i,u)):(Dt&&S&&yo(i),i.flags|=1,ve(e,i,r,u),i.child)}function Jd(e,i,s,r,u){if(e===null){var f=s.type;return typeof f=="function"&&!mo(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,tf(e,i,f,r,u)):(e=gr(s.type,null,r,i,i.mode,u),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!lc(e,u)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Qs,s(y,r)&&e.ref===i.ref)return Li(e,i,u)}return i.flags|=1,e=Ti(f,r),e.ref=i.ref,e.return=i,i.child=e}function tf(e,i,s,r,u){if(e!==null){var f=e.memoizedProps;if(Qs(f,r)&&e.ref===i.ref)if(de=!1,i.pendingProps=r=f,lc(e,u))(e.flags&131072)!==0&&(de=!0);else return i.lanes=e.lanes,Li(e,i,u)}return tc(e,i,s,r,u)}function ef(e,i,s){var r=i.pendingProps,u=r.children,f=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=f!==null?f.baseLanes|s:s,e!==null){for(u=i.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;i.childLanes=f&~r}else i.childLanes=0,i.child=null;return nf(e,i,r,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ar(i,f!==null?f.cachePool:null),f!==null?td(i,f):No(),Id(i);else return i.lanes=i.childLanes=536870912,nf(e,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(Ar(i,f.cachePool),td(i,f),Zi(),i.memoizedState=null):(e!==null&&Ar(i,null),No(),Zi());return ve(e,i,u,s),i.child}function nf(e,i,s,r){var u=Co();return u=u===null?null:{parent:se._currentValue,pool:u},i.memoizedState={baseLanes:s,cachePool:u},e!==null&&Ar(i,null),No(),Id(i),e!==null&&ta(e,i,r,!0),null}function zr(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function tc(e,i,s,r,u){return Dn(i),s=Ho(e,i,s,r,void 0,u),r=zo(),e!==null&&!de?(Fo(e,i,u),Li(e,i,u)):(Dt&&r&&yo(i),i.flags|=1,ve(e,i,s,u),i.child)}function sf(e,i,s,r,u,f){return Dn(i),i.updateQueue=null,s=id(i,r,s,u),ed(e),r=zo(),e!==null&&!de?(Fo(e,i,f),Li(e,i,f)):(Dt&&r&&yo(i),i.flags|=1,ve(e,i,s,f),i.child)}function af(e,i,s,r,u){if(Dn(i),i.stateNode===null){var f=ls,y=s.contextType;typeof y=="object"&&y!==null&&(f=Se(y)),f=new s(r,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wo,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=r,f.state=i.memoizedState,f.refs={},Mo(i),y=s.contextType,f.context=typeof y=="object"&&y!==null?Se(y):ls,f.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Zo(i,s,y,r),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Wo.enqueueReplaceState(f,f.state,null),la(i,r,f,u),ra(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(e===null){f=i.stateNode;var S=i.memoizedProps,T=Nn(s,S);f.props=T;var L=f.context,B=s.contextType;y=ls,typeof B=="object"&&B!==null&&(y=Se(B));var I=s.getDerivedStateFromProps;B=typeof I=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||L!==y)&&Gd(i,f,r,y),Xi=!1;var N=i.memoizedState;f.state=N,la(i,r,f,u),ra(),L=i.memoizedState,S||N!==L||Xi?(typeof I=="function"&&(Zo(i,s,I,r),L=i.memoizedState),(T=Xi||qd(i,s,T,r,N,L,y))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=L),f.props=r,f.state=L,f.context=y,r=T):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{f=i.stateNode,Do(e,i),y=i.memoizedProps,B=Nn(s,y),f.props=B,I=i.pendingProps,N=f.context,L=s.contextType,T=ls,typeof L=="object"&&L!==null&&(T=Se(L)),S=s.getDerivedStateFromProps,(L=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==I||N!==T)&&Gd(i,f,r,T),Xi=!1,N=i.memoizedState,f.state=N,la(i,r,f,u),ra();var k=i.memoizedState;y!==I||N!==k||Xi||e!==null&&e.dependencies!==null&&br(e.dependencies)?(typeof S=="function"&&(Zo(i,s,S,r),k=i.memoizedState),(B=Xi||qd(i,s,B,r,N,k,T)||e!==null&&e.dependencies!==null&&br(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,k,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,k,T)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=k),f.props=r,f.state=k,f.context=T,r=B):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(i.flags|=1024),r=!1)}return f=r,zr(e,i),r=(i.flags&128)!==0,f||r?(f=i.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&r?(i.child=vs(i,e.child,null,u),i.child=vs(i,null,s,u)):ve(e,i,s,u),i.memoizedState=f.state,e=i.child):e=Li(e,i,u),e}function rf(e,i,s,r){return Ws(),i.flags|=256,ve(e,i,s,r),i.child}var ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ic(e){return{baseLanes:e,cachePool:Xh()}}function nc(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=ei),e}function lf(e,i,s){var r=i.pendingProps,u=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(ae.current&2)!==0),y&&(u=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Dt){if(u?$i(i):Zi(),Dt){var S=Xt,T;if(T=S){t:{for(T=S,S=hi;T.nodeType!==8;){if(!S){S=null;break t}if(T=oi(T.nextSibling),T===null){S=null;break t}}S=T}S!==null?(i.memoizedState={dehydrated:S,treeContext:wn!==null?{id:wi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},T=je(18,null,null,0),T.stateNode=S,T.return=i,i.child=T,Re=i,Xt=null,T=!0):T=!1}T||Rn(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Bc(S)?i.lanes=32:i.lanes=536870912,null;Di(i)}return S=r.children,r=r.fallback,u?(Zi(),u=i.mode,S=Fr({mode:"hidden",children:S},u),r=Tn(r,u,s,null),S.return=i,r.return=i,S.sibling=r,i.child=S,u=i.child,u.memoizedState=ic(s),u.childLanes=nc(e,y,s),i.memoizedState=ec,r):($i(i),sc(i,S))}if(T=e.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(f)i.flags&256?($i(i),i.flags&=-257,i=ac(e,i,s)):i.memoizedState!==null?(Zi(),i.child=e.child,i.flags|=128,i=null):(Zi(),u=r.fallback,S=i.mode,r=Fr({mode:"visible",children:r.children},S),u=Tn(u,S,s,null),u.flags|=2,r.return=i,u.return=i,r.sibling=u,i.child=r,vs(i,e.child,null,s),r=i.child,r.memoizedState=ic(s),r.childLanes=nc(e,y,s),i.memoizedState=ec,i=u);else if($i(i),Bc(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var L=y.dgst;y=L,r=Error(a(419)),r.stack="",r.digest=y,Js({value:r,source:null,stack:null}),i=ac(e,i,s)}else if(de||ta(e,i,s,!1),y=(s&e.childLanes)!==0,de||y){if(y=jt,y!==null&&(r=s&-s,r=(r&42)!==0?1:Bl(r),r=(r&(y.suspendedLanes|s))!==0?0:r,r!==0&&r!==T.retryLane))throw T.retryLane=r,rs(e,r),Xe(y,e,r),Zd;S.data==="$?"||Ec(),i=ac(e,i,s)}else S.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=T.treeContext,Xt=oi(S.nextSibling),Re=i,Dt=!0,Cn=null,hi=!1,e!==null&&(We[Je++]=wi,We[Je++]=xi,We[Je++]=wn,wi=e.id,xi=e.overflow,wn=i),i=sc(i,r.children),i.flags|=4096);return i}return u?(Zi(),u=r.fallback,S=i.mode,T=e.child,L=T.sibling,r=Ti(T,{mode:"hidden",children:r.children}),r.subtreeFlags=T.subtreeFlags&65011712,L!==null?u=Ti(L,u):(u=Tn(u,S,s,null),u.flags|=2),u.return=i,r.return=i,r.sibling=u,i.child=r,r=u,u=i.child,S=e.child.memoizedState,S===null?S=ic(s):(T=S.cachePool,T!==null?(L=se._currentValue,T=T.parent!==L?{parent:L,pool:L}:T):T=Xh(),S={baseLanes:S.baseLanes|s,cachePool:T}),u.memoizedState=S,u.childLanes=nc(e,y,s),i.memoizedState=ec,r):($i(i),s=e.child,e=s.sibling,s=Ti(s,{mode:"visible",children:r.children}),s.return=i,s.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=s,i.memoizedState=null,s)}function sc(e,i){return i=Fr({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Fr(e,i){return e=je(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ac(e,i,s){return vs(i,e.child,null,s),e=sc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function of(e,i,s){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i),Eo(e.return,i,s)}function rc(e,i,s,r,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:u}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=s,f.tailMode=u)}function cf(e,i,s){var r=i.pendingProps,u=r.revealOrder,f=r.tail;if(ve(e,i,r.children,s),r=ae.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&of(e,s,i);else if(e.tag===19)of(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(X(ae,r),u){case"forwards":for(s=i.child,u=null;s!==null;)e=s.alternate,e!==null&&kr(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=i.child,i.child=null):(u=s.sibling,s.sibling=null),rc(i,!1,u,s,f);break;case"backwards":for(s=null,u=i.child,i.child=null;u!==null;){if(e=u.alternate,e!==null&&kr(e)===null){i.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}rc(i,!0,s,null,f);break;case"together":rc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),nn|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(ta(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,s=Ti(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Ti(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function lc(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&br(e)))}function _v(e,i,s){switch(i.tag){case 3:At(i,i.stateNode.containerInfo),Vi(i,se,e.memoizedState.cache),Ws();break;case 27:case 5:Bt(i);break;case 4:At(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?($i(i),i.flags|=128,null):(s&i.child.childLanes)!==0?lf(e,i,s):($i(i),e=Li(e,i,s),e!==null?e.sibling:null);$i(i);break;case 19:var u=(e.flags&128)!==0;if(r=(s&i.childLanes)!==0,r||(ta(e,i,s,!1),r=(s&i.childLanes)!==0),u){if(r)return cf(e,i,s);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),X(ae,ae.current),r)break;return null;case 22:case 23:return i.lanes=0,ef(e,i,s);case 24:Vi(i,se,e.memoizedState.cache)}return Li(e,i,s)}function uf(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)de=!0;else{if(!lc(e,s)&&(i.flags&128)===0)return de=!1,_v(e,i,s);de=(e.flags&131072)!==0}else de=!1,Dt&&(i.flags&1048576)!==0&&Uh(i,vr,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var r=i.elementType,u=r._init;if(r=u(r._payload),i.type=r,typeof r=="function")mo(r)?(e=Nn(r,e),i.tag=1,i=af(null,i,r,e,s)):(i.tag=0,i=tc(null,i,r,e,s));else{if(r!=null){if(u=r.$$typeof,u===H){i.tag=11,i=Wd(null,i,r,e,s);break t}else if(u===Y){i.tag=14,i=Jd(null,i,r,e,s);break t}}throw i=gt(r)||r,Error(a(306,i,""))}}return i;case 0:return tc(e,i,i.type,i.pendingProps,s);case 1:return r=i.type,u=Nn(r,i.pendingProps),af(e,i,r,u,s);case 3:t:{if(At(i,i.stateNode.containerInfo),e===null)throw Error(a(387));r=i.pendingProps;var f=i.memoizedState;u=f.element,Do(e,i),la(i,r,null,s);var y=i.memoizedState;if(r=y.cache,Vi(i,se,r),r!==f.cache&&To(i,[se],s,!0),ra(),r=y.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=rf(e,i,r,s);break t}else if(r!==u){u=$e(Error(a(424)),i),Js(u),i=rf(e,i,r,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=oi(e.firstChild),Re=i,Dt=!0,Cn=null,hi=!0,s=jd(i,null,r,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ws(),r===u){i=Li(e,i,s);break t}ve(e,i,r,s)}i=i.child}return i;case 26:return zr(e,i),e===null?(s=pp(i.type,null,i.pendingProps,null))?i.memoizedState=s:Dt||(s=i.type,e=i.pendingProps,r=Wr(nt.current).createElement(s),r[_e]=i,r[De]=e,ye(r,s,e),he(r),i.stateNode=r):i.memoizedState=pp(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Bt(i),e===null&&Dt&&(r=i.stateNode=hp(i.type,i.pendingProps,nt.current),Re=i,hi=!0,u=Xt,ln(i.type)?(jc=u,Xt=oi(r.firstChild)):Xt=u),ve(e,i,i.pendingProps.children,s),zr(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Dt&&((u=r=Xt)&&(r=Qv(r,i.type,i.pendingProps,hi),r!==null?(i.stateNode=r,Re=i,Xt=oi(r.firstChild),hi=!1,u=!0):u=!1),u||Rn(i)),Bt(i),u=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,r=f.children,zc(u,f)?r=null:y!==null&&zc(u,y)&&(i.flags|=32),i.memoizedState!==null&&(u=Ho(e,i,fv,null,null,s),Ma._currentValue=u),zr(e,i),ve(e,i,r,s),i.child;case 6:return e===null&&Dt&&((e=s=Xt)&&(s=$v(s,i.pendingProps,hi),s!==null?(i.stateNode=s,Re=i,Xt=null,e=!0):e=!1),e||Rn(i)),null;case 13:return lf(e,i,s);case 4:return At(i,i.stateNode.containerInfo),r=i.pendingProps,e===null?i.child=vs(i,null,r,s):ve(e,i,r,s),i.child;case 11:return Wd(e,i,i.type,i.pendingProps,s);case 7:return ve(e,i,i.pendingProps,s),i.child;case 8:return ve(e,i,i.pendingProps.children,s),i.child;case 12:return ve(e,i,i.pendingProps.children,s),i.child;case 10:return r=i.pendingProps,Vi(i,i.type,r.value),ve(e,i,r.children,s),i.child;case 9:return u=i.type._context,r=i.pendingProps.children,Dn(i),u=Se(u),r=r(u),i.flags|=1,ve(e,i,r,s),i.child;case 14:return Jd(e,i,i.type,i.pendingProps,s);case 15:return tf(e,i,i.type,i.pendingProps,s);case 19:return cf(e,i,s);case 31:return r=i.pendingProps,s=i.mode,r={mode:r.mode,children:r.children},e===null?(s=Fr(r,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ti(e.child,r),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return ef(e,i,s);case 24:return Dn(i),r=Se(se),e===null?(u=Co(),u===null&&(u=jt,f=wo(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),i.memoizedState={parent:r,cache:u},Mo(i),Vi(i,se,u)):((e.lanes&s)!==0&&(Do(e,i),la(i,null,null,s),ra()),u=e.memoizedState,f=i.memoizedState,u.parent!==r?(u={parent:r,cache:r},i.memoizedState=u,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=u),Vi(i,se,r)):(r=f.cache,Vi(i,se,r),r!==u.cache&&To(i,[se],s,!0))),ve(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Oi(e){e.flags|=4}function hf(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!yp(i)){if(i=ti.current,i!==null&&((xt&4194048)===xt?di!==null:(xt&62914560)!==xt&&(xt&536870912)===0||i!==di))throw sa=Ro,Yh;e.flags|=8192}}function Ur(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Iu():536870912,e.lanes|=i,_s|=i)}function pa(e,i){if(!Dt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gt(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(i)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=s,i}function Sv(e,i,s){var r=i.pendingProps;switch(Ao(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(i),null;case 1:return Gt(i),null;case 3:return s=i.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Ri(se),ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Zs(i)?Oi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ih())),Gt(i),null;case 26:return s=i.memoizedState,e===null?(Oi(i),s!==null?(Gt(i),hf(i,s)):(Gt(i),i.flags&=-16777217)):s?s!==e.memoizedState?(Oi(i),Gt(i),hf(i,s)):(Gt(i),i.flags&=-16777217):(e.memoizedProps!==r&&Oi(i),Gt(i),i.flags&=-16777217),null;case 27:ui(i),s=nt.current;var u=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Oi(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return Gt(i),null}e=tt.current,Zs(i)?Bh(i):(e=hp(u,r,s),i.stateNode=e,Oi(i))}return Gt(i),null;case 5:if(ui(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Oi(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return Gt(i),null}if(e=tt.current,Zs(i))Bh(i);else{switch(u=Wr(nt.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?u.createElement("select",{is:r.is}):u.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?u.createElement(s,{is:r.is}):u.createElement(s)}}e[_e]=i,e[De]=r;t:for(u=i.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break t;for(;u.sibling===null;){if(u.return===null||u.return===i)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}i.stateNode=e;t:switch(ye(e,s,r),s){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Oi(i)}}return Gt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==r&&Oi(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(a(166));if(e=nt.current,Zs(i)){if(e=i.stateNode,s=i.memoizedProps,r=null,u=Re,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[_e]=i,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||sp(e.nodeValue,s)),e||Rn(i)}else e=Wr(e).createTextNode(r),e[_e]=i,i.stateNode=e}return Gt(i),null;case 13:if(r=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Zs(i),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=i.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[_e]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),u=!1}else u=Ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=r!==null,e=e!==null&&e.memoizedState!==null,s){r=i.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),Ur(i,i.updateQueue),Gt(i),null;case 4:return ne(),e===null&&Oc(i.stateNode.containerInfo),Gt(i),null;case 10:return Ri(i.type),Gt(i),null;case 19:if(K(ae),u=i.memoizedState,u===null)return Gt(i),null;if(r=(i.flags&128)!==0,f=u.rendering,f===null)if(r)pa(u,!1);else{if(Yt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=kr(e),f!==null){for(i.flags|=128,pa(u,!1),e=f.updateQueue,i.updateQueue=e,Ur(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)Fh(s,e),s=s.sibling;return X(ae,ae.current&1|2),i.child}e=e.sibling}u.tail!==null&&me()>Ir&&(i.flags|=128,r=!0,pa(u,!1),i.lanes=4194304)}else{if(!r)if(e=kr(f),e!==null){if(i.flags|=128,r=!0,e=e.updateQueue,i.updateQueue=e,Ur(i,e),pa(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Dt)return Gt(i),null}else 2*me()-u.renderingStartTime>Ir&&s!==536870912&&(i.flags|=128,r=!0,pa(u,!1),i.lanes=4194304);u.isBackwards?(f.sibling=i.child,i.child=f):(e=u.last,e!==null?e.sibling=f:i.child=f,u.last=f)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=me(),i.sibling=null,e=ae.current,X(ae,r?e&1|2:e&1),i):(Gt(i),null);case 22:case 23:return Di(i),ko(),r=i.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(s&536870912)!==0&&(i.flags&128)===0&&(Gt(i),i.subtreeFlags&6&&(i.flags|=8192)):Gt(i),s=i.updateQueue,s!==null&&Ur(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048),e!==null&&K(Ln),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ri(se),Gt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Ev(e,i){switch(Ao(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ri(se),ne(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ui(i),null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ws()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(ae),null;case 4:return ne(),null;case 10:return Ri(i.type),null;case 22:case 23:return Di(i),ko(),e!==null&&K(Ln),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ri(se),null;case 25:return null;default:return null}}function df(e,i){switch(Ao(i),i.tag){case 3:Ri(se),ne();break;case 26:case 27:case 5:ui(i);break;case 4:ne();break;case 13:Di(i);break;case 19:K(ae);break;case 10:Ri(i.type);break;case 22:case 23:Di(i),ko(),e!==null&&K(Ln);break;case 24:Ri(se)}}function ga(e,i){try{var s=i.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){r=void 0;var f=s.create,y=s.inst;r=f(),y.destroy=r}s=s.next}while(s!==u)}}catch(S){Ft(i,i.return,S)}}function Wi(e,i,s){try{var r=i.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){var y=r.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,u=i;var T=s,L=S;try{L()}catch(B){Ft(u,T,B)}}}r=r.next}while(r!==f)}}catch(B){Ft(i,i.return,B)}}function ff(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Jh(i,s)}catch(r){Ft(e,e.return,r)}}}function pf(e,i,s){s.props=Nn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Ft(e,i,r)}}function ma(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(u){Ft(e,i,u)}}function fi(e,i){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(u){Ft(e,i,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Ft(e,i,u)}else s.current=null}function gf(e){var i=e.type,s=e.memoizedProps,r=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break t;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(u){Ft(e,e.return,u)}}function oc(e,i,s){try{var r=e.stateNode;Gv(r,e.type,s,i),r[De]=i}catch(u){Ft(e,e.return,u)}}function mf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ln(e.type)||e.tag===4}function cc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ln(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uc(e,i,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Zr));else if(r!==4&&(r===27&&ln(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(uc(e,i,s),e=e.sibling;e!==null;)uc(e,i,s),e=e.sibling}function Br(e,i,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(r!==4&&(r===27&&ln(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Br(e,i,s),e=e.sibling;e!==null;)Br(e,i,s),e=e.sibling}function vf(e){var i=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,u=i.attributes;u.length;)i.removeAttributeNode(u[0]);ye(i,r,s),i[_e]=e,i[De]=s}catch(f){Ft(e,e.return,f)}}var Ni=!1,Qt=!1,hc=!1,bf=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Tv(e,i){if(e=e.containerInfo,Pc=sl,e=Rh(e),oo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,S=-1,T=-1,L=0,B=0,I=e,N=null;e:for(;;){for(var k;I!==s||u!==0&&I.nodeType!==3||(S=y+u),I!==f||r!==0&&I.nodeType!==3||(T=y+r),I.nodeType===3&&(y+=I.nodeValue.length),(k=I.firstChild)!==null;)N=I,I=k;for(;;){if(I===e)break e;if(N===s&&++L===u&&(S=y),N===f&&++B===r&&(T=y),(k=I.nextSibling)!==null)break;I=N,N=I.parentNode}I=k}s=S===-1||T===-1?null:{start:S,end:T}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hc={focusedElem:e,selectionRange:s},sl=!1,fe=i;fe!==null;)if(i=fe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,fe=e;else for(;fe!==null;){switch(i=fe,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=i,u=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var ct=Nn(s.type,u,s.elementType===s.type);e=r.getSnapshotBeforeUpdate(ct,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(rt){Ft(s,s.return,rt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Uc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,fe=e;break}fe=i.return}}function yf(e,i,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(e,s),r&4&&ga(5,s);break;case 1:if(Ji(e,s),r&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(y){Ft(s,s.return,y)}else{var u=Nn(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(u,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ft(s,s.return,y)}}r&64&&ff(s),r&512&&ma(s,s.return);break;case 3:if(Ji(e,s),r&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Jh(e,i)}catch(y){Ft(s,s.return,y)}}break;case 27:i===null&&r&4&&vf(s);case 26:case 5:Ji(e,s),i===null&&r&4&&gf(s),r&512&&ma(s,s.return);break;case 12:Ji(e,s);break;case 13:Ji(e,s),r&4&&Sf(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Nv.bind(null,s),Zv(e,s))));break;case 22:if(r=s.memoizedState!==null||Ni,!r){i=i!==null&&i.memoizedState!==null||Qt,u=Ni;var f=Qt;Ni=r,(Qt=i)&&!f?tn(e,s,(s.subtreeFlags&8772)!==0):Ji(e,s),Ni=u,Qt=f}break;case 30:break;default:Ji(e,s)}}function Af(e){var i=e.alternate;i!==null&&(e.alternate=null,Af(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ql(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,Ne=!1;function ki(e,i,s){for(s=s.child;s!==null;)_f(e,i,s),s=s.sibling}function _f(e,i,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(bn,s)}catch{}switch(s.tag){case 26:Qt||fi(s,i),ki(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Qt||fi(s,i);var r=qt,u=Ne;ln(s.type)&&(qt=s.stateNode,Ne=!1),ki(e,i,s),wa(s.stateNode),qt=r,Ne=u;break;case 5:Qt||fi(s,i);case 6:if(r=qt,u=Ne,qt=null,ki(e,i,s),qt=r,Ne=u,qt!==null)if(Ne)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(s.stateNode)}catch(f){Ft(s,i,f)}else try{qt.removeChild(s.stateNode)}catch(f){Ft(s,i,f)}break;case 18:qt!==null&&(Ne?(e=qt,cp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Na(e)):cp(qt,s.stateNode));break;case 4:r=qt,u=Ne,qt=s.stateNode.containerInfo,Ne=!0,ki(e,i,s),qt=r,Ne=u;break;case 0:case 11:case 14:case 15:Qt||Wi(2,s,i),Qt||Wi(4,s,i),ki(e,i,s);break;case 1:Qt||(fi(s,i),r=s.stateNode,typeof r.componentWillUnmount=="function"&&pf(s,i,r)),ki(e,i,s);break;case 21:ki(e,i,s);break;case 22:Qt=(r=Qt)||s.memoizedState!==null,ki(e,i,s),Qt=r;break;default:ki(e,i,s)}}function Sf(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Na(e)}catch(s){Ft(i,i.return,s)}}function wv(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new bf),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new bf),i;default:throw Error(a(435,e.tag))}}function dc(e,i){var s=wv(e);i.forEach(function(r){var u=kv.bind(null,e,r);s.has(r)||(s.add(r),r.then(u,u))})}function Ie(e,i){var s=i.deletions;if(s!==null)for(var r=0;r<s.length;r++){var u=s[r],f=e,y=i,S=y;t:for(;S!==null;){switch(S.tag){case 27:if(ln(S.type)){qt=S.stateNode,Ne=!1;break t}break;case 5:qt=S.stateNode,Ne=!1;break t;case 3:case 4:qt=S.stateNode.containerInfo,Ne=!0;break t}S=S.return}if(qt===null)throw Error(a(160));_f(f,y,u),qt=null,Ne=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ef(i,e),i=i.sibling}var li=null;function Ef(e,i){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(i,e),qe(e),r&4&&(Wi(3,e,e.return),ga(3,e),Wi(5,e,e.return));break;case 1:Ie(i,e),qe(e),r&512&&(Qt||s===null||fi(s,s.return)),r&64&&Ni&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var u=li;if(Ie(i,e),qe(e),r&512&&(Qt||s===null||fi(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){t:{r=e.type,s=e.memoizedProps,u=u.ownerDocument||u;e:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Bs]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),ye(f,r,s),f[_e]=e,he(f),r=f;break t;case"link":var y=vp("link","href",u).get(r+(s.href||""));if(y){for(var S=0;S<y.length;S++)if(f=y[S],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(S,1);break e}}f=u.createElement(r),ye(f,r,s),u.head.appendChild(f);break;case"meta":if(y=vp("meta","content",u).get(r+(s.content||""))){for(S=0;S<y.length;S++)if(f=y[S],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(S,1);break e}}f=u.createElement(r),ye(f,r,s),u.head.appendChild(f);break;default:throw Error(a(468,r))}f[_e]=e,he(f),r=f}e.stateNode=r}else bp(u,e.type,e.stateNode);else e.stateNode=mp(u,r,e.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?bp(u,e.type,e.stateNode):mp(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&oc(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ie(i,e),qe(e),r&512&&(Qt||s===null||fi(s,s.return)),s!==null&&r&4&&oc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ie(i,e),qe(e),r&512&&(Qt||s===null||fi(s,s.return)),e.flags&32){u=e.stateNode;try{Jn(u,"")}catch(k){Ft(e,e.return,k)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,oc(e,u,s!==null?s.memoizedProps:u)),r&1024&&(hc=!0);break;case 6:if(Ie(i,e),qe(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(k){Ft(e,e.return,k)}}break;case 3:if(el=null,u=li,li=Jr(i.containerInfo),Ie(i,e),li=u,qe(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Na(i.containerInfo)}catch(k){Ft(e,e.return,k)}hc&&(hc=!1,Tf(e));break;case 4:r=li,li=Jr(e.stateNode.containerInfo),Ie(i,e),qe(e),li=r;break;case 12:Ie(i,e),qe(e);break;case 13:Ie(i,e),qe(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bc=me()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dc(e,r)));break;case 22:u=e.memoizedState!==null;var T=s!==null&&s.memoizedState!==null,L=Ni,B=Qt;if(Ni=L||u,Qt=B||T,Ie(i,e),Qt=B,Ni=L,qe(e),r&8192)t:for(i=e.stateNode,i._visibility=u?i._visibility&-2:i._visibility|1,u&&(s===null||T||Ni||Qt||kn(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){T=s=i;try{if(f=T.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=T.stateNode;var I=T.memoizedProps.style,N=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(k){Ft(T,T.return,k)}}}else if(i.tag===6){if(s===null){T=i;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(k){Ft(T,T.return,k)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,dc(e,s))));break;case 19:Ie(i,e),qe(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,dc(e,r)));break;case 30:break;case 21:break;default:Ie(i,e),qe(e)}}function qe(e){var i=e.flags;if(i&2){try{for(var s,r=e.return;r!==null;){if(mf(r)){s=r;break}r=r.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var u=s.stateNode,f=cc(e);Br(e,f,u);break;case 5:var y=s.stateNode;s.flags&32&&(Jn(y,""),s.flags&=-33);var S=cc(e);Br(e,S,y);break;case 3:case 4:var T=s.stateNode.containerInfo,L=cc(e);uc(e,L,T);break;default:throw Error(a(161))}}catch(B){Ft(e,e.return,B)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Tf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Tf(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ji(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yf(e,i.alternate,i),i=i.sibling}function kn(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Wi(4,i,i.return),kn(i);break;case 1:fi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&pf(i,i.return,s),kn(i);break;case 27:wa(i.stateNode);case 26:case 5:fi(i,i.return),kn(i);break;case 22:i.memoizedState===null&&kn(i);break;case 30:kn(i);break;default:kn(i)}e=e.sibling}}function tn(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,u=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:tn(u,f,s),ga(4,f);break;case 1:if(tn(u,f,s),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(L){Ft(r,r.return,L)}if(r=f,u=r.updateQueue,u!==null){var S=r.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)Wh(T[u],S)}catch(L){Ft(r,r.return,L)}}s&&y&64&&ff(f),ma(f,f.return);break;case 27:vf(f);case 26:case 5:tn(u,f,s),s&&r===null&&y&4&&gf(f),ma(f,f.return);break;case 12:tn(u,f,s);break;case 13:tn(u,f,s),s&&y&4&&Sf(u,f);break;case 22:f.memoizedState===null&&tn(u,f,s),ma(f,f.return);break;case 30:break;default:tn(u,f,s)}i=i.sibling}}function fc(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ea(s))}function pc(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ea(e))}function pi(e,i,s,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wf(e,i,s,r),i=i.sibling}function wf(e,i,s,r){var u=i.flags;switch(i.tag){case 0:case 11:case 15:pi(e,i,s,r),u&2048&&ga(9,i);break;case 1:pi(e,i,s,r);break;case 3:pi(e,i,s,r),u&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ea(e)));break;case 12:if(u&2048){pi(e,i,s,r),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,S=f.onPostCommit;typeof S=="function"&&S(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ft(i,i.return,T)}}else pi(e,i,s,r);break;case 13:pi(e,i,s,r);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?pi(e,i,s,r):va(e,i):f._visibility&2?pi(e,i,s,r):(f._visibility|=2,bs(e,i,s,r,(i.subtreeFlags&10256)!==0)),u&2048&&fc(y,i);break;case 24:pi(e,i,s,r),u&2048&&pc(i.alternate,i);break;default:pi(e,i,s,r)}}function bs(e,i,s,r,u){for(u=u&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,y=i,S=s,T=r,L=y.flags;switch(y.tag){case 0:case 11:case 15:bs(f,y,S,T,u),ga(8,y);break;case 23:break;case 22:var B=y.stateNode;y.memoizedState!==null?B._visibility&2?bs(f,y,S,T,u):va(f,y):(B._visibility|=2,bs(f,y,S,T,u)),u&&L&2048&&fc(y.alternate,y);break;case 24:bs(f,y,S,T,u),u&&L&2048&&pc(y.alternate,y);break;default:bs(f,y,S,T,u)}i=i.sibling}}function va(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,r=i,u=r.flags;switch(r.tag){case 22:va(s,r),u&2048&&fc(r.alternate,r);break;case 24:va(s,r),u&2048&&pc(r.alternate,r);break;default:va(s,r)}i=i.sibling}}var ba=8192;function ys(e){if(e.subtreeFlags&ba)for(e=e.child;e!==null;)xf(e),e=e.sibling}function xf(e){switch(e.tag){case 26:ys(e),e.flags&ba&&e.memoizedState!==null&&ub(li,e.memoizedState,e.memoizedProps);break;case 5:ys(e);break;case 3:case 4:var i=li;li=Jr(e.stateNode.containerInfo),ys(e),li=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ba,ba=16777216,ys(e),ba=i):ys(e));break;default:ys(e)}}function Cf(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ya(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];fe=r,Mf(r,e)}Cf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rf(e),e=e.sibling}function Rf(e){switch(e.tag){case 0:case 11:case 15:ya(e),e.flags&2048&&Wi(9,e,e.return);break;case 3:ya(e);break;case 12:ya(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,jr(e)):ya(e);break;default:ya(e)}}function jr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];fe=r,Mf(r,e)}Cf(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Wi(8,i,i.return),jr(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,jr(i));break;default:jr(i)}e=e.sibling}}function Mf(e,i){for(;fe!==null;){var s=fe;switch(s.tag){case 0:case 11:case 15:Wi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ea(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,fe=r;else t:for(s=e;fe!==null;){r=fe;var u=r.sibling,f=r.return;if(Af(r),r===s){fe=null;break t}if(u!==null){u.return=f,fe=u;break t}fe=f}}}var xv={getCacheForType:function(e){var i=Se(se),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},Cv=typeof WeakMap=="function"?WeakMap:Map,Ot=0,jt=null,Tt=null,xt=0,Nt=0,Ge=null,en=!1,As=!1,gc=!1,Pi=0,Yt=0,nn=0,Pn=0,mc=0,ei=0,_s=0,Aa=null,ke=null,vc=!1,bc=0,Ir=1/0,qr=null,sn=null,be=0,an=null,Ss=null,Es=0,yc=0,Ac=null,Df=null,_a=0,_c=null;function Ve(){if((Ot&2)!==0&&xt!==0)return xt&-xt;if(O.T!==null){var e=us;return e!==0?e:Rc()}return Vu()}function Lf(){ei===0&&(ei=(xt&536870912)===0||Dt?ju():536870912);var e=ti.current;return e!==null&&(e.flags|=32),ei}function Xe(e,i,s){(e===jt&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)&&(Ts(e,0),rn(e,xt,ei,!1)),Us(e,s),((Ot&2)===0||e!==jt)&&(e===jt&&((Ot&2)===0&&(Pn|=s),Yt===4&&rn(e,xt,ei,!1)),gi(e))}function Of(e,i,s){if((Ot&6)!==0)throw Error(a(327));var r=!s&&(i&124)===0&&(i&e.expiredLanes)===0||Fs(e,i),u=r?Dv(e,i):Tc(e,i,!0),f=r;do{if(u===0){As&&!r&&rn(e,i,0,!1);break}else{if(s=e.current.alternate,f&&!Rv(s)){u=Tc(e,i,!1),f=!1;continue}if(u===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var S=e;u=Aa;var T=S.current.memoizedState.isDehydrated;if(T&&(Ts(S,y).flags|=256),y=Tc(S,y,!1),y!==2){if(gc&&!T){S.errorRecoveryDisabledLanes|=f,Pn|=f,u=4;break t}f=ke,ke=u,f!==null&&(ke===null?ke=f:ke.push.apply(ke,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){Ts(e,0),rn(e,i,0,!0);break}t:{switch(r=e,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:rn(r,i,ei,!en);break t;case 2:ke=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(u=bc+300-me(),10<u)){if(rn(r,i,ei,!en),tr(r,0,!0)!==0)break t;r.timeoutHandle=lp(Nf.bind(null,r,s,ke,qr,vc,i,ei,Pn,_s,en,f,2,-0,0),u);break t}Nf(r,s,ke,qr,vc,i,ei,Pn,_s,en,f,0,-0,0)}}break}while(!0);gi(e)}function Nf(e,i,s,r,u,f,y,S,T,L,B,I,N,k){if(e.timeoutHandle=-1,I=i.subtreeFlags,(I&8192||(I&16785408)===16785408)&&(Ra={stylesheets:null,count:0,unsuspend:cb},xf(i),I=hb(),I!==null)){e.cancelPendingCommit=I(Bf.bind(null,e,i,f,s,r,u,y,S,T,B,1,N,k)),rn(e,f,y,!L);return}Bf(e,i,f,s,r,u,y,S,T)}function Rv(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var u=s[r],f=u.getSnapshot;u=u.value;try{if(!Be(f(),u))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rn(e,i,s,r){i&=~mc,i&=~Pn,e.suspendedLanes|=i,e.pingedLanes&=~i,r&&(e.warmLanes|=i),r=e.expirationTimes;for(var u=i;0<u;){var f=31-ue(u),y=1<<f;r[f]=-1,u&=~y}s!==0&&qu(e,s,i)}function Gr(){return(Ot&6)===0?(Sa(0),!1):!0}function Sc(){if(Tt!==null){if(Nt===0)var e=Tt.return;else e=Tt,Ci=Mn=null,Uo(e),ms=null,da=0,e=Tt;for(;e!==null;)df(e.alternate,e),e=e.return;Tt=null}}function Ts(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Xv(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Sc(),jt=e,Tt=s=Ti(e.current,null),xt=i,Nt=0,Ge=null,en=!1,As=Fs(e,i),gc=!1,_s=ei=mc=Pn=nn=Yt=0,ke=Aa=null,vc=!1,(i&8)!==0&&(i|=i&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=i;0<r;){var u=31-ue(r),f=1<<u;i|=e[u],r&=~f}return Pi=i,dr(),s}function kf(e,i){_t=null,O.H=Lr,i===na||i===_r?(i=$h(),Nt=3):i===Yh?(i=$h(),Nt=4):Nt=i===Zd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ge=i,Tt===null&&(Yt=1,Hr(e,$e(i,e.current)))}function Pf(){var e=O.H;return O.H=Lr,e===null?Lr:e}function Hf(){var e=O.A;return O.A=xv,e}function Ec(){Yt=4,en||(xt&4194048)!==xt&&ti.current!==null||(As=!0),(nn&134217727)===0&&(Pn&134217727)===0||jt===null||rn(jt,xt,ei,!1)}function Tc(e,i,s){var r=Ot;Ot|=2;var u=Pf(),f=Hf();(jt!==e||xt!==i)&&(qr=null,Ts(e,i)),i=!1;var y=Yt;t:do try{if(Nt!==0&&Tt!==null){var S=Tt,T=Ge;switch(Nt){case 8:Sc(),y=6;break t;case 3:case 2:case 9:case 6:ti.current===null&&(i=!0);var L=Nt;if(Nt=0,Ge=null,ws(e,S,T,L),s&&As){y=0;break t}break;default:L=Nt,Nt=0,Ge=null,ws(e,S,T,L)}}Mv(),y=Yt;break}catch(B){kf(e,B)}while(!0);return i&&e.shellSuspendCounter++,Ci=Mn=null,Ot=r,O.H=u,O.A=f,Tt===null&&(jt=null,xt=0,dr()),y}function Mv(){for(;Tt!==null;)zf(Tt)}function Dv(e,i){var s=Ot;Ot|=2;var r=Pf(),u=Hf();jt!==e||xt!==i?(qr=null,Ir=me()+500,Ts(e,i)):As=Fs(e,i);t:do try{if(Nt!==0&&Tt!==null){i=Tt;var f=Ge;e:switch(Nt){case 1:Nt=0,Ge=null,ws(e,i,f,1);break;case 2:case 9:if(Kh(f)){Nt=0,Ge=null,Ff(i);break}i=function(){Nt!==2&&Nt!==9||jt!==e||(Nt=7),gi(e)},f.then(i,i);break t;case 3:Nt=7;break t;case 4:Nt=5;break t;case 7:Kh(f)?(Nt=0,Ge=null,Ff(i)):(Nt=0,Ge=null,ws(e,i,f,7));break;case 5:var y=null;switch(Tt.tag){case 26:y=Tt.memoizedState;case 5:case 27:var S=Tt;if(!y||yp(y)){Nt=0,Ge=null;var T=S.sibling;if(T!==null)Tt=T;else{var L=S.return;L!==null?(Tt=L,Vr(L)):Tt=null}break e}}Nt=0,Ge=null,ws(e,i,f,5);break;case 6:Nt=0,Ge=null,ws(e,i,f,6);break;case 8:Sc(),Yt=6;break t;default:throw Error(a(462))}}Lv();break}catch(B){kf(e,B)}while(!0);return Ci=Mn=null,O.H=r,O.A=u,Ot=s,Tt!==null?0:(jt=null,xt=0,dr(),Yt)}function Lv(){for(;Tt!==null&&!ce();)zf(Tt)}function zf(e){var i=uf(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,i===null?Vr(e):Tt=i}function Ff(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=sf(s,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=sf(s,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:Uo(i);default:df(s,i),i=Tt=Fh(i,Pi),i=uf(s,i,Pi)}e.memoizedProps=e.pendingProps,i===null?Vr(e):Tt=i}function ws(e,i,s,r){Ci=Mn=null,Uo(i),ms=null,da=0;var u=i.return;try{if(Av(e,u,i,s,xt)){Yt=1,Hr(e,$e(s,e.current)),Tt=null;return}}catch(f){if(u!==null)throw Tt=u,f;Yt=1,Hr(e,$e(s,e.current)),Tt=null;return}i.flags&32768?(Dt||r===1?e=!0:As||(xt&536870912)!==0?e=!1:(en=e=!0,(r===2||r===9||r===3||r===6)&&(r=ti.current,r!==null&&r.tag===13&&(r.flags|=16384))),Uf(i,e)):Vr(i)}function Vr(e){var i=e;do{if((i.flags&32768)!==0){Uf(i,en);return}e=i.return;var s=Sv(i.alternate,i,Pi);if(s!==null){Tt=s;return}if(i=i.sibling,i!==null){Tt=i;return}Tt=i=e}while(i!==null);Yt===0&&(Yt=5)}function Uf(e,i){do{var s=Ev(e.alternate,e);if(s!==null){s.flags&=32767,Tt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Tt=e;return}Tt=e=s}while(e!==null);Yt=6,Tt=null}function Bf(e,i,s,r,u,f,y,S,T){e.cancelPendingCommit=null;do Xr();while(be!==0);if((Ot&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=po,cm(e,s,f,y,S,T),e===jt&&(Tt=jt=null,xt=0),Ss=i,an=e,Es=s,yc=f,Ac=u,Df=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Pv(_i,function(){return Vf(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,u=z.p,z.p=2,y=Ot,Ot|=4;try{Tv(e,i,s)}finally{Ot=y,z.p=u,O.T=r}}be=1,jf(),If(),qf()}}function jf(){if(be===1){be=0;var e=an,i=Ss,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=O.T,O.T=null;var r=z.p;z.p=2;var u=Ot;Ot|=4;try{Ef(i,e);var f=Hc,y=Rh(e.containerInfo),S=f.focusedElem,T=f.selectionRange;if(y!==S&&S&&S.ownerDocument&&Ch(S.ownerDocument.documentElement,S)){if(T!==null&&oo(S)){var L=T.start,B=T.end;if(B===void 0&&(B=L),"selectionStart"in S)S.selectionStart=L,S.selectionEnd=Math.min(B,S.value.length);else{var I=S.ownerDocument||document,N=I&&I.defaultView||window;if(N.getSelection){var k=N.getSelection(),ct=S.textContent.length,rt=Math.min(T.start,ct),Ht=T.end===void 0?rt:Math.min(T.end,ct);!k.extend&&rt>Ht&&(y=Ht,Ht=rt,rt=y);var M=xh(S,rt),R=xh(S,Ht);if(M&&R&&(k.rangeCount!==1||k.anchorNode!==M.node||k.anchorOffset!==M.offset||k.focusNode!==R.node||k.focusOffset!==R.offset)){var D=I.createRange();D.setStart(M.node,M.offset),k.removeAllRanges(),rt>Ht?(k.addRange(D),k.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),k.addRange(D))}}}}for(I=[],k=S;k=k.parentNode;)k.nodeType===1&&I.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<I.length;S++){var j=I[S];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}sl=!!Pc,Hc=Pc=null}finally{Ot=u,z.p=r,O.T=s}}e.current=i,be=2}}function If(){if(be===2){be=0;var e=an,i=Ss,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=O.T,O.T=null;var r=z.p;z.p=2;var u=Ot;Ot|=4;try{yf(e,i.alternate,i)}finally{Ot=u,z.p=r,O.T=s}}be=3}}function qf(){if(be===4||be===3){be=0,Zt();var e=an,i=Ss,s=Es,r=Df;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?be=5:(be=0,Ss=an=null,Gf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(sn=null),jl(s),i=i.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(bn,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=O.T,u=z.p,z.p=2,O.T=null;try{for(var f=e.onRecoverableError,y=0;y<r.length;y++){var S=r[y];f(S.value,{componentStack:S.stack})}}finally{O.T=i,z.p=u}}(Es&3)!==0&&Xr(),gi(e),u=e.pendingLanes,(s&4194090)!==0&&(u&42)!==0?e===_c?_a++:(_a=0,_c=e):_a=0,Sa(0)}}function Gf(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ea(i)))}function Xr(e){return jf(),If(),qf(),Vf()}function Vf(){if(be!==5)return!1;var e=an,i=yc;yc=0;var s=jl(Es),r=O.T,u=z.p;try{z.p=32>s?32:s,O.T=null,s=Ac,Ac=null;var f=an,y=Es;if(be=0,Ss=an=null,Es=0,(Ot&6)!==0)throw Error(a(331));var S=Ot;if(Ot|=4,Rf(f.current),wf(f,f.current,y,s),Ot=S,Sa(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(bn,f)}catch{}return!0}finally{z.p=u,O.T=r,Gf(e,i)}}function Xf(e,i,s){i=$e(s,i),i=Jo(e.stateNode,i,2),e=Ki(e,i,2),e!==null&&(Us(e,2),gi(e))}function Ft(e,i,s){if(e.tag===3)Xf(e,e,s);else for(;i!==null;){if(i.tag===3){Xf(i,e,s);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=$e(s,e),s=Qd(2),r=Ki(i,s,2),r!==null&&($d(s,r,i,e),Us(r,2),gi(r));break}}i=i.return}}function wc(e,i,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Cv;var u=new Set;r.set(i,u)}else u=r.get(i),u===void 0&&(u=new Set,r.set(i,u));u.has(s)||(gc=!0,u.add(s),e=Ov.bind(null,e,i,s),i.then(e,e))}function Ov(e,i,s){var r=e.pingCache;r!==null&&r.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,jt===e&&(xt&s)===s&&(Yt===4||Yt===3&&(xt&62914560)===xt&&300>me()-bc?(Ot&2)===0&&Ts(e,0):mc|=s,_s===xt&&(_s=0)),gi(e)}function Yf(e,i){i===0&&(i=Iu()),e=rs(e,i),e!==null&&(Us(e,i),gi(e))}function Nv(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Yf(e,s)}function kv(e,i){var s=0;switch(e.tag){case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(i),Yf(e,s)}function Pv(e,i){return Lt(e,i)}var Yr=null,xs=null,xc=!1,Kr=!1,Cc=!1,Hn=0;function gi(e){e!==xs&&e.next===null&&(xs===null?Yr=xs=e:xs=xs.next=e),Kr=!0,xc||(xc=!0,zv())}function Sa(e,i){if(!Cc&&Kr){Cc=!0;do for(var s=!1,r=Yr;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var y=r.suspendedLanes,S=r.pingedLanes;f=(1<<31-ue(42|e)+1)-1,f&=u&~(y&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zf(r,f))}else f=xt,f=tr(r,r===jt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Fs(r,f)||(s=!0,Zf(r,f));r=r.next}while(s);Cc=!1}}function Hv(){Kf()}function Kf(){Kr=xc=!1;var e=0;Hn!==0&&(Vv()&&(e=Hn),Hn=0);for(var i=me(),s=null,r=Yr;r!==null;){var u=r.next,f=Qf(r,i);f===0?(r.next=null,s===null?Yr=u:s.next=u,u===null&&(xs=s)):(s=r,(e!==0||(f&3)!==0)&&(Kr=!0)),r=u}Sa(e)}function Qf(e,i){for(var s=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-ue(f),S=1<<y,T=u[y];T===-1?((S&s)===0||(S&r)!==0)&&(u[y]=om(S,i)):T<=i&&(e.expiredLanes|=S),f&=~S}if(i=jt,s=xt,s=tr(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===i&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&It(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Fs(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(r!==null&&It(r),jl(s)){case 2:case 8:s=$a;break;case 32:s=_i;break;case 268435456:s=Za;break;default:s=_i}return r=$f.bind(null,e),s=Lt(s,r),e.callbackPriority=i,e.callbackNode=s,i}return r!==null&&r!==null&&It(r),e.callbackPriority=2,e.callbackNode=null,2}function $f(e,i){if(be!==0&&be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Xr()&&e.callbackNode!==s)return null;var r=xt;return r=tr(e,e===jt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Of(e,r,i),Qf(e,me()),e.callbackNode!=null&&e.callbackNode===s?$f.bind(null,e):null)}function Zf(e,i){if(Xr())return null;Of(e,i,!0)}function zv(){Yv(function(){(Ot&6)!==0?Lt(Qa,Hv):Kf()})}function Rc(){return Hn===0&&(Hn=ju()),Hn}function Wf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ar(""+e)}function Jf(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function Fv(e,i,s,r,u){if(i==="submit"&&s&&s.stateNode===u){var f=Wf((u[De]||null).action),y=r.submitter;y&&(i=(i=y[De]||null)?Wf(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var S=new cr("action","action",null,r,u);e.push({event:S,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Hn!==0){var T=y?Jf(u,y):new FormData(u);Ko(s,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(S.preventDefault(),T=y?Jf(u,y):new FormData(u),Ko(s,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var Mc=0;Mc<fo.length;Mc++){var Dc=fo[Mc],Uv=Dc.toLowerCase(),Bv=Dc[0].toUpperCase()+Dc.slice(1);ri(Uv,"on"+Bv)}ri(Lh,"onAnimationEnd"),ri(Oh,"onAnimationIteration"),ri(Nh,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(nv,"onTransitionRun"),ri(sv,"onTransitionStart"),ri(av,"onTransitionCancel"),ri(kh,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ea));function tp(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],u=r.event;r=r.listeners;t:{var f=void 0;if(i)for(var y=r.length-1;0<=y;y--){var S=r[y],T=S.instance,L=S.currentTarget;if(S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=L;try{f(u)}catch(B){Pr(B)}u.currentTarget=null,f=T}else for(y=0;y<r.length;y++){if(S=r[y],T=S.instance,L=S.currentTarget,S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=L;try{f(u)}catch(B){Pr(B)}u.currentTarget=null,f=T}}}}function wt(e,i){var s=i[Il];s===void 0&&(s=i[Il]=new Set);var r=e+"__bubble";s.has(r)||(ep(i,e,2,!1),s.add(r))}function Lc(e,i,s){var r=0;i&&(r|=4),ep(s,e,r,i)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[Qr]){e[Qr]=!0,Yu.forEach(function(s){s!=="selectionchange"&&(jv.has(s)||Lc(s,!1,e),Lc(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Qr]||(i[Qr]=!0,Lc("selectionchange",!1,i))}}function ep(e,i,s,r){switch(wp(i)){case 2:var u=pb;break;case 8:u=gb;break;default:u=Xc}s=u.bind(null,i,s,e),u=void 0,!Jl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(i,s,{capture:!0,passive:u}):e.addEventListener(i,s,!0):u!==void 0?e.addEventListener(i,s,{passive:u}):e.addEventListener(i,s,!1)}function Nc(e,i,s,r,u){var f=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var S=r.stateNode.containerInfo;if(S===u)break;if(y===4)for(y=r.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;S!==null;){if(y=Yn(S),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){r=f=y;continue t}S=S.parentNode}}r=r.return}lh(function(){var L=f,B=Zl(s),I=[];t:{var N=Ph.get(e);if(N!==void 0){var k=cr,ct=e;switch(e){case"keypress":if(lr(s)===0)break t;case"keydown":case"keyup":k=Pm;break;case"focusin":ct="focus",k=no;break;case"focusout":ct="blur",k=no;break;case"beforeblur":case"afterblur":k=no;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Fm;break;case Lh:case Oh:case Nh:k=xm;break;case kh:k=Bm;break;case"scroll":case"scrollend":k=_m;break;case"wheel":k=Im;break;case"copy":case"cut":case"paste":k=Rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=dh;break;case"toggle":case"beforetoggle":k=Gm}var rt=(i&4)!==0,Ht=!rt&&(e==="scroll"||e==="scrollend"),M=rt?N!==null?N+"Capture":null:N;rt=[];for(var R=L,D;R!==null;){var j=R;if(D=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||D===null||M===null||(j=Is(R,M),j!=null&&rt.push(Ta(R,j,D))),Ht)break;R=R.return}0<rt.length&&(N=new k(N,ct,null,s,B),I.push({event:N,listeners:rt}))}}if((i&7)===0){t:{if(N=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",N&&s!==$l&&(ct=s.relatedTarget||s.fromElement)&&(Yn(ct)||ct[Xn]))break t;if((k||N)&&(N=B.window===B?B:(N=B.ownerDocument)?N.defaultView||N.parentWindow:window,k?(ct=s.relatedTarget||s.toElement,k=L,ct=ct?Yn(ct):null,ct!==null&&(Ht=o(ct),rt=ct.tag,ct!==Ht||rt!==5&&rt!==27&&rt!==6)&&(ct=null)):(k=null,ct=L),k!==ct)){if(rt=uh,j="onMouseLeave",M="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(rt=dh,j="onPointerLeave",M="onPointerEnter",R="pointer"),Ht=k==null?N:js(k),D=ct==null?N:js(ct),N=new rt(j,R+"leave",k,s,B),N.target=Ht,N.relatedTarget=D,j=null,Yn(B)===L&&(rt=new rt(M,R+"enter",ct,s,B),rt.target=D,rt.relatedTarget=Ht,j=rt),Ht=j,k&&ct)e:{for(rt=k,M=ct,R=0,D=rt;D;D=Cs(D))R++;for(D=0,j=M;j;j=Cs(j))D++;for(;0<R-D;)rt=Cs(rt),R--;for(;0<D-R;)M=Cs(M),D--;for(;R--;){if(rt===M||M!==null&&rt===M.alternate)break e;rt=Cs(rt),M=Cs(M)}rt=null}else rt=null;k!==null&&ip(I,N,k,rt,!1),ct!==null&&Ht!==null&&ip(I,Ht,ct,rt,!0)}}t:{if(N=L?js(L):window,k=N.nodeName&&N.nodeName.toLowerCase(),k==="select"||k==="input"&&N.type==="file")var et=Ah;else if(bh(N))if(_h)et=tv;else{et=Wm;var St=Zm}else k=N.nodeName,!k||k.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?L&&Ql(L.elementType)&&(et=Ah):et=Jm;if(et&&(et=et(e,L))){yh(I,et,s,B);break t}St&&St(e,N,L),e==="focusout"&&L&&N.type==="number"&&L.memoizedProps.value!=null&&Kl(N,"number",N.value)}switch(St=L?js(L):window,e){case"focusin":(bh(St)||St.contentEditable==="true")&&(ns=St,co=L,$s=null);break;case"focusout":$s=co=ns=null;break;case"mousedown":uo=!0;break;case"contextmenu":case"mouseup":case"dragend":uo=!1,Mh(I,s,B);break;case"selectionchange":if(iv)break;case"keydown":case"keyup":Mh(I,s,B)}var at;if(ao)t:{switch(e){case"compositionstart":var lt="onCompositionStart";break t;case"compositionend":lt="onCompositionEnd";break t;case"compositionupdate":lt="onCompositionUpdate";break t}lt=void 0}else is?mh(e,s)&&(lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(lt="onCompositionStart");lt&&(fh&&s.locale!=="ko"&&(is||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&is&&(at=oh()):(Gi=B,to="value"in Gi?Gi.value:Gi.textContent,is=!0)),St=$r(L,lt),0<St.length&&(lt=new hh(lt,e,null,s,B),I.push({event:lt,listeners:St}),at?lt.data=at:(at=vh(s),at!==null&&(lt.data=at)))),(at=Xm?Ym(e,s):Km(e,s))&&(lt=$r(L,"onBeforeInput"),0<lt.length&&(St=new hh("onBeforeInput","beforeinput",null,s,B),I.push({event:St,listeners:lt}),St.data=at)),Fv(I,e,L,s,B)}tp(I,i)})}function Ta(e,i,s){return{instance:e,listener:i,currentTarget:s}}function $r(e,i){for(var s=i+"Capture",r=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Is(e,s),u!=null&&r.unshift(Ta(e,u,f)),u=Is(e,i),u!=null&&r.push(Ta(e,u,f))),e.tag===3)return r;e=e.return}return[]}function Cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ip(e,i,s,r,u){for(var f=i._reactName,y=[];s!==null&&s!==r;){var S=s,T=S.alternate,L=S.stateNode;if(S=S.tag,T!==null&&T===r)break;S!==5&&S!==26&&S!==27||L===null||(T=L,u?(L=Is(s,f),L!=null&&y.unshift(Ta(s,L,T))):u||(L=Is(s,f),L!=null&&y.push(Ta(s,L,T)))),s=s.return}y.length!==0&&e.push({event:i,listeners:y})}var Iv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function np(e){return(typeof e=="string"?e:""+e).replace(Iv,`
`).replace(qv,"")}function sp(e,i){return i=np(i),np(e)===i}function Zr(){}function Pt(e,i,s,r,u,f){switch(s){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Jn(e,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Jn(e,""+r);break;case"className":ir(e,"class",r);break;case"tabIndex":ir(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(e,s,r);break;case"style":ah(e,r,f);break;case"data":if(i!=="object"){ir(e,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=ar(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&Pt(e,i,"name",u.name,u,null),Pt(e,i,"formEncType",u.formEncType,u,null),Pt(e,i,"formMethod",u.formMethod,u,null),Pt(e,i,"formTarget",u.formTarget,u,null)):(Pt(e,i,"encType",u.encType,u,null),Pt(e,i,"method",u.method,u,null),Pt(e,i,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=ar(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Zr);break;case"onScroll":r!=null&&wt("scroll",e);break;case"onScrollEnd":r!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=ar(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":wt("beforetoggle",e),wt("toggle",e),er(e,"popover",r);break;case"xlinkActuate":Si(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Si(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Si(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Si(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Si(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Si(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Si(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Si(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Si(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":er(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ym.get(s)||s,er(e,s,r))}}function kc(e,i,s,r,u,f){switch(s){case"style":ah(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof r=="string"?Jn(e,r):(typeof r=="number"||typeof r=="bigint")&&Jn(e,""+r);break;case"onScroll":r!=null&&wt("scroll",e);break;case"onScrollEnd":r!=null&&wt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ku.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),i=s.slice(2,u?s.length-7:void 0),f=e[De]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(i,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,r,u);break t}s in e?e[s]=r:r===!0?e.setAttribute(s,""):er(e,s,r)}}}function ye(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var r=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Pt(e,i,f,y,s,null)}}u&&Pt(e,i,"srcSet",s.srcSet,s,null),r&&Pt(e,i,"src",s.src,s,null);return;case"input":wt("invalid",e);var S=f=y=u=null,T=null,L=null;for(r in s)if(s.hasOwnProperty(r)){var B=s[r];if(B!=null)switch(r){case"name":u=B;break;case"type":y=B;break;case"checked":T=B;break;case"defaultChecked":L=B;break;case"value":f=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,i));break;default:Pt(e,i,r,B,s,null)}}eh(e,f,S,T,L,y,u,!1),nr(e);return;case"select":wt("invalid",e),r=y=f=null;for(u in s)if(s.hasOwnProperty(u)&&(S=s[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":y=S;break;case"multiple":r=S;default:Pt(e,i,u,S,s,null)}i=f,s=y,e.multiple=!!r,i!=null?Wn(e,!!r,i,!1):s!=null&&Wn(e,!!r,s,!0);return;case"textarea":wt("invalid",e),f=u=r=null;for(y in s)if(s.hasOwnProperty(y)&&(S=s[y],S!=null))switch(y){case"value":r=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Pt(e,i,y,S,s,null)}nh(e,r,u,f),nr(e);return;case"option":for(T in s)if(s.hasOwnProperty(T)&&(r=s[T],r!=null))switch(T){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pt(e,i,T,r,s,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(r=0;r<Ea.length;r++)wt(Ea[r],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(r=s[L],r!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Pt(e,i,L,r,s,null)}return;default:if(Ql(i)){for(B in s)s.hasOwnProperty(B)&&(r=s[B],r!==void 0&&kc(e,i,B,r,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(r=s[S],r!=null&&Pt(e,i,S,r,s,null))}function Gv(e,i,s,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,S=null,T=null,L=null,B=null;for(k in s){var I=s[k];if(s.hasOwnProperty(k)&&I!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":T=I;default:r.hasOwnProperty(k)||Pt(e,i,k,null,r,I)}}for(var N in r){var k=r[N];if(I=s[N],r.hasOwnProperty(N)&&(k!=null||I!=null))switch(N){case"type":f=k;break;case"name":u=k;break;case"checked":L=k;break;case"defaultChecked":B=k;break;case"value":y=k;break;case"defaultValue":S=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,i));break;default:k!==I&&Pt(e,i,N,k,r,I)}}Yl(e,y,S,T,L,B,f,u);return;case"select":k=y=S=N=null;for(f in s)if(T=s[f],s.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":k=T;default:r.hasOwnProperty(f)||Pt(e,i,f,null,r,T)}for(u in r)if(f=r[u],T=s[u],r.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":N=f;break;case"defaultValue":S=f;break;case"multiple":y=f;default:f!==T&&Pt(e,i,u,f,r,T)}i=S,s=y,r=k,N!=null?Wn(e,!!s,N,!1):!!r!=!!s&&(i!=null?Wn(e,!!s,i,!0):Wn(e,!!s,s?[]:"",!1));return;case"textarea":k=N=null;for(S in s)if(u=s[S],s.hasOwnProperty(S)&&u!=null&&!r.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Pt(e,i,S,null,r,u)}for(y in r)if(u=r[y],f=s[y],r.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":N=u;break;case"defaultValue":k=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Pt(e,i,y,u,r,f)}ih(e,N,k);return;case"option":for(var ct in s)if(N=s[ct],s.hasOwnProperty(ct)&&N!=null&&!r.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Pt(e,i,ct,null,r,N)}for(T in r)if(N=r[T],k=s[T],r.hasOwnProperty(T)&&N!==k&&(N!=null||k!=null))switch(T){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Pt(e,i,T,N,r,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in s)N=s[rt],s.hasOwnProperty(rt)&&N!=null&&!r.hasOwnProperty(rt)&&Pt(e,i,rt,null,r,N);for(L in r)if(N=r[L],k=s[L],r.hasOwnProperty(L)&&N!==k&&(N!=null||k!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,i));break;default:Pt(e,i,L,N,r,k)}return;default:if(Ql(i)){for(var Ht in s)N=s[Ht],s.hasOwnProperty(Ht)&&N!==void 0&&!r.hasOwnProperty(Ht)&&kc(e,i,Ht,void 0,r,N);for(B in r)N=r[B],k=s[B],!r.hasOwnProperty(B)||N===k||N===void 0&&k===void 0||kc(e,i,B,N,r,k);return}}for(var M in s)N=s[M],s.hasOwnProperty(M)&&N!=null&&!r.hasOwnProperty(M)&&Pt(e,i,M,null,r,N);for(I in r)N=r[I],k=s[I],!r.hasOwnProperty(I)||N===k||N==null&&k==null||Pt(e,i,I,N,r,k)}var Pc=null,Hc=null;function Wr(e){return e.nodeType===9?e:e.ownerDocument}function ap(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rp(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function zc(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fc=null;function Vv(){var e=window.event;return e&&e.type==="popstate"?e===Fc?!1:(Fc=e,!0):(Fc=null,!1)}var lp=typeof setTimeout=="function"?setTimeout:void 0,Xv=typeof clearTimeout=="function"?clearTimeout:void 0,op=typeof Promise=="function"?Promise:void 0,Yv=typeof queueMicrotask=="function"?queueMicrotask:typeof op<"u"?function(e){return op.resolve(null).then(e).catch(Kv)}:lp;function Kv(e){setTimeout(function(){throw e})}function ln(e){return e==="head"}function cp(e,i){var s=i,r=0,u=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<r&&8>r){s=r;var y=e.ownerDocument;if(s&1&&wa(y.documentElement),s&2&&wa(y.body),s&4)for(s=y.head,wa(s),y=s.firstChild;y;){var S=y.nextSibling,T=y.nodeName;y[Bs]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=S}}if(u===0){e.removeChild(f),Na(i);return}u--}else s==="$"||s==="$?"||s==="$!"?u++:r=s.charCodeAt(0)-48;else r=0;s=f}while(s);Na(i)}function Uc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Uc(s),ql(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Qv(e,i,s,r){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Bs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=oi(e.nextSibling),e===null)break}return null}function $v(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=oi(e.nextSibling),e===null))return null;return e}function Bc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Zv(e,i){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")i();else{var r=function(){i(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function oi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var jc=null;function up(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function hp(e,i,s){switch(i=Wr(s),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function wa(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ql(e)}var ii=new Map,dp=new Set;function Jr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hi=z.d;z.d={f:Wv,r:Jv,D:tb,C:eb,L:ib,m:nb,X:ab,S:sb,M:rb};function Wv(){var e=Hi.f(),i=Gr();return e||i}function Jv(e){var i=Kn(e);i!==null&&i.tag===5&&i.type==="form"?Ld(i):Hi.r(e)}var Rs=typeof document>"u"?null:document;function fp(e,i,s){var r=Rs;if(r&&typeof i=="string"&&i){var u=Qe(i);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),dp.has(u)||(dp.add(u),e={rel:e,crossOrigin:s,href:i},r.querySelector(u)===null&&(i=r.createElement("link"),ye(i,"link",e),he(i),r.head.appendChild(i)))}}function tb(e){Hi.D(e),fp("dns-prefetch",e,null)}function eb(e,i){Hi.C(e,i),fp("preconnect",e,i)}function ib(e,i,s){Hi.L(e,i,s);var r=Rs;if(r&&e&&i){var u='link[rel="preload"][as="'+Qe(i)+'"]';i==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Qe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Qe(s.imageSizes)+'"]')):u+='[href="'+Qe(e)+'"]';var f=u;switch(i){case"style":f=Ms(e);break;case"script":f=Ds(e)}ii.has(f)||(e=m({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),ii.set(f,e),r.querySelector(u)!==null||i==="style"&&r.querySelector(xa(f))||i==="script"&&r.querySelector(Ca(f))||(i=r.createElement("link"),ye(i,"link",e),he(i),r.head.appendChild(i)))}}function nb(e,i){Hi.m(e,i);var s=Rs;if(s&&e){var r=i&&typeof i.as=="string"?i.as:"script",u='link[rel="modulepreload"][as="'+Qe(r)+'"][href="'+Qe(e)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ds(e)}if(!ii.has(f)&&(e=m({rel:"modulepreload",href:e},i),ii.set(f,e),s.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ca(f)))return}r=s.createElement("link"),ye(r,"link",e),he(r),s.head.appendChild(r)}}}function sb(e,i,s){Hi.S(e,i,s);var r=Rs;if(r&&e){var u=Qn(r).hoistableStyles,f=Ms(e);i=i||"default";var y=u.get(f);if(!y){var S={loading:0,preload:null};if(y=r.querySelector(xa(f)))S.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":i},s),(s=ii.get(f))&&Ic(e,s);var T=y=r.createElement("link");he(T),ye(T,"link",e),T._p=new Promise(function(L,B){T.onload=L,T.onerror=B}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,tl(y,i,r)}y={type:"stylesheet",instance:y,count:1,state:S},u.set(f,y)}}}function ab(e,i){Hi.X(e,i);var s=Rs;if(s&&e){var r=Qn(s).hoistableScripts,u=Ds(e),f=r.get(u);f||(f=s.querySelector(Ca(u)),f||(e=m({src:e,async:!0},i),(i=ii.get(u))&&qc(e,i),f=s.createElement("script"),he(f),ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function rb(e,i){Hi.M(e,i);var s=Rs;if(s&&e){var r=Qn(s).hoistableScripts,u=Ds(e),f=r.get(u);f||(f=s.querySelector(Ca(u)),f||(e=m({src:e,async:!0,type:"module"},i),(i=ii.get(u))&&qc(e,i),f=s.createElement("script"),he(f),ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function pp(e,i,s,r){var u=(u=nt.current)?Jr(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ms(s.href),s=Qn(u).hoistableStyles,r=s.get(i),r||(r={type:"style",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ms(s.href);var f=Qn(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(xa(e)))&&!f._p&&(y.instance=f,y.state.loading=5),ii.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ii.set(e,s),f||lb(u,e,s,y.state))),i&&r===null)throw Error(a(528,""));return y}if(i&&r!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ds(s),s=Qn(u).hoistableScripts,r=s.get(i),r||(r={type:"script",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ms(e){return'href="'+Qe(e)+'"'}function xa(e){return'link[rel="stylesheet"]['+e+"]"}function gp(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,i,s,r){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=e.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),ye(i,"link",s),he(i),e.head.appendChild(i))}function Ds(e){return'[src="'+Qe(e)+'"]'}function Ca(e){return"script[async]"+e}function mp(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var r=e.querySelector('style[data-href~="'+Qe(s.href)+'"]');if(r)return i.instance=r,he(r),r;var u=m({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),he(r),ye(r,"style",u),tl(r,s.precedence,e),i.instance=r;case"stylesheet":u=Ms(s.href);var f=e.querySelector(xa(u));if(f)return i.state.loading|=4,i.instance=f,he(f),f;r=gp(s),(u=ii.get(u))&&Ic(r,u),f=(e.ownerDocument||e).createElement("link"),he(f);var y=f;return y._p=new Promise(function(S,T){y.onload=S,y.onerror=T}),ye(f,"link",r),i.state.loading|=4,tl(f,s.precedence,e),i.instance=f;case"script":return f=Ds(s.src),(u=e.querySelector(Ca(f)))?(i.instance=u,he(u),u):(r=s,(u=ii.get(f))&&(r=m({},s),qc(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),he(u),ye(u,"link",r),e.head.appendChild(u),i.instance=u);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,tl(r,s.precedence,e));return i.instance}function tl(e,i,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,y=0;y<r.length;y++){var S=r[y];if(S.dataset.precedence===i)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Ic(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function qc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var el=null;function vp(e,i,s){if(el===null){var r=new Map,u=el=new Map;u.set(s,r)}else u=el,r=u.get(s),r||(r=new Map,u.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var f=s[u];if(!(f[Bs]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var S=r.get(y);S?S.push(f):r.set(y,[f])}}return r}function bp(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function ob(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function yp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ra=null;function cb(){}function ub(e,i,s){if(Ra===null)throw Error(a(475));var r=Ra;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Ms(s.href),f=e.querySelector(xa(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=il.bind(r),e.then(r,r)),i.state.loading|=4,i.instance=f,he(f);return}f=e.ownerDocument||e,s=gp(s),(u=ii.get(u))&&Ic(s,u),f=f.createElement("link"),he(f);var y=f;y._p=new Promise(function(S,T){y.onload=S,y.onerror=T}),ye(f,"link",s),i.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=il.bind(r),e.addEventListener("load",i),e.addEventListener("error",i))}}function hb(){if(Ra===null)throw Error(a(475));var e=Ra;return e.stylesheets&&e.count===0&&Gc(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function il(){if(this.count--,this.count===0){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nl=null;function Gc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nl=new Map,i.forEach(db,e),nl=null,il.call(e))}function db(e,i){if(!(i.state.loading&4)){var s=nl.get(e);if(s)var r=s.get(null);else{s=new Map,nl.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),r=y)}r&&s.set(null,r)}u=i.instance,y=u.getAttribute("data-precedence"),f=s.get(y)||r,f===r&&s.set(null,u),s.set(y,u),this.count++,r=il.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),i.state.loading|=4}}var Ma={$$typeof:U,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function fb(e,i,s,r,u,f,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ul(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.hiddenUpdates=Ul(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Ap(e,i,s,r,u,f,y,S,T,L,B,I){return e=new fb(e,i,s,y,S,T,L,I),i=1,f===!0&&(i|=24),f=je(3,null,null,i),e.current=f,f.stateNode=e,i=wo(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:i},Mo(f),e}function _p(e){return e?(e=ls,e):ls}function Sp(e,i,s,r,u,f){u=_p(u),r.context===null?r.context=u:r.pendingContext=u,r=Yi(i),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=Ki(e,r,i),s!==null&&(Xe(s,e,i),aa(s,e,i))}function Ep(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Vc(e,i){Ep(e,i),(e=e.alternate)&&Ep(e,i)}function Tp(e){if(e.tag===13){var i=rs(e,67108864);i!==null&&Xe(i,e,67108864),Vc(e,67108864)}}var sl=!0;function pb(e,i,s,r){var u=O.T;O.T=null;var f=z.p;try{z.p=2,Xc(e,i,s,r)}finally{z.p=f,O.T=u}}function gb(e,i,s,r){var u=O.T;O.T=null;var f=z.p;try{z.p=8,Xc(e,i,s,r)}finally{z.p=f,O.T=u}}function Xc(e,i,s,r){if(sl){var u=Yc(r);if(u===null)Nc(e,i,r,al,s),xp(e,r);else if(vb(u,e,i,s,r))r.stopPropagation();else if(xp(e,r),i&4&&-1<mb.indexOf(e)){for(;u!==null;){var f=Kn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=yn(f.pendingLanes);if(y!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var T=1<<31-ue(y);S.entanglements[1]|=T,y&=~T}gi(f),(Ot&6)===0&&(Ir=me()+500,Sa(0))}}break;case 13:S=rs(f,2),S!==null&&Xe(S,f,2),Gr(),Vc(f,2)}if(f=Yc(r),f===null&&Nc(e,i,r,al,s),f===u)break;u=f}u!==null&&r.stopPropagation()}else Nc(e,i,r,null,s)}}function Yc(e){return e=Zl(e),Kc(e)}var al=null;function Kc(e){if(al=null,e=Yn(e),e!==null){var i=o(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=c(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return al=e,null}function wp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vn()){case Qa:return 2;case $a:return 8;case _i:case Hl:return 32;case Za:return 268435456;default:return 32}default:return 32}}var Qc=!1,on=null,cn=null,un=null,Da=new Map,La=new Map,hn=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(e,i){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Da.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(i.pointerId)}}function Oa(e,i,s,r,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},i!==null&&(i=Kn(i),i!==null&&Tp(i)),e):(e.eventSystemFlags|=r,i=e.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),e)}function vb(e,i,s,r,u){switch(i){case"focusin":return on=Oa(on,e,i,s,r,u),!0;case"dragenter":return cn=Oa(cn,e,i,s,r,u),!0;case"mouseover":return un=Oa(un,e,i,s,r,u),!0;case"pointerover":var f=u.pointerId;return Da.set(f,Oa(Da.get(f)||null,e,i,s,r,u)),!0;case"gotpointercapture":return f=u.pointerId,La.set(f,Oa(La.get(f)||null,e,i,s,r,u)),!0}return!1}function Cp(e){var i=Yn(e.target);if(i!==null){var s=o(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){e.blockedOn=i,um(e.priority,function(){if(s.tag===13){var r=Ve();r=Bl(r);var u=rs(s,r);u!==null&&Xe(u,s,r),Vc(s,r)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rl(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);$l=r,s.target.dispatchEvent(r),$l=null}else return i=Kn(s),i!==null&&Tp(i),e.blockedOn=s,!1;i.shift()}return!0}function Rp(e,i,s){rl(e)&&s.delete(i)}function bb(){Qc=!1,on!==null&&rl(on)&&(on=null),cn!==null&&rl(cn)&&(cn=null),un!==null&&rl(un)&&(un=null),Da.forEach(Rp),La.forEach(Rp)}function ll(e,i){e.blockedOn===i&&(e.blockedOn=null,Qc||(Qc=!0,p.unstable_scheduleCallback(p.unstable_NormalPriority,bb)))}var ol=null;function Mp(e){ol!==e&&(ol=e,p.unstable_scheduleCallback(p.unstable_NormalPriority,function(){ol===e&&(ol=null);for(var i=0;i<e.length;i+=3){var s=e[i],r=e[i+1],u=e[i+2];if(typeof r!="function"){if(Kc(r||s)===null)continue;break}var f=Kn(s);f!==null&&(e.splice(i,3),i-=3,Ko(f,{pending:!0,data:u,method:s.method,action:r},r,u))}}))}function Na(e){function i(T){return ll(T,e)}on!==null&&ll(on,e),cn!==null&&ll(cn,e),un!==null&&ll(un,e),Da.forEach(i),La.forEach(i);for(var s=0;s<hn.length;s++){var r=hn[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<hn.length&&(s=hn[0],s.blockedOn===null);)Cp(s),s.blockedOn===null&&hn.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var u=s[r],f=s[r+1],y=u[De]||null;if(typeof f=="function")y||Mp(s);else if(y){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[De]||null)S=y.formAction;else if(Kc(u)!==null)continue}else S=y.action;typeof S=="function"?s[r+1]=S:(s.splice(r,3),r-=3),Mp(s)}}}function $c(e){this._internalRoot=e}cl.prototype.render=$c.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,r=Ve();Sp(s,r,e,i,null,null)},cl.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Sp(e.current,2,null,e,null,null),Gr(),i[Xn]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var i=Vu();e={blockedOn:null,target:e,priority:i};for(var s=0;s<hn.length&&i!==0&&i<hn[s].priority;s++);hn.splice(s,0,e),s===0&&Cp(e)}};var Dp=t.version;if(Dp!=="19.1.1")throw Error(a(527,Dp,"19.1.1"));z.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=d(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var yb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{bn=ul.inject(yb),Wt=ul}catch{}}return Pa.createRoot=function(e,i){if(!l(e))throw Error(a(299));var s=!1,r="",u=Vd,f=Xd,y=Yd,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Ap(e,1,!1,null,null,s,r,u,f,y,S,null),e[Xn]=i.current,Oc(e),new $c(i)},Pa.hydrateRoot=function(e,i,s){if(!l(e))throw Error(a(299));var r=!1,u="",f=Vd,y=Xd,S=Yd,T=null,L=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks),s.formState!==void 0&&(L=s.formState)),i=Ap(e,1,!0,i,s??null,r,u,f,y,S,T,L),i.context=_p(null),s=i.current,r=Ve(),r=Bl(r),u=Yi(r),u.callback=null,Ki(s,u,r),s=r,i.current.lanes=s,Us(i,s),gi(i),e[Xn]=i.current,Oc(e),new cl(i)},Pa.version="19.1.1",Pa}var Bp;function Db(){if(Bp)return Jc.exports;Bp=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(t){console.error(t)}}return p(),Jc.exports=Mb(),Jc.exports}var Lb=Db();const Ob="modulepreload",Nb=function(p){return"/"+p},jp={},hl=function(t,n,a){let l=Promise.resolve();if(n&&n.length>0){let g=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=g;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");l=g(n.map(m=>{if(m=Nb(m),m in jp)return;jp[m]=!0;const v=m.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":Ob,v||(A.as="script"),A.crossOrigin="",A.href=m,d&&A.setAttribute("nonce",d),document.head.appendChild(A),v)return new Promise((_,E)=>{A.addEventListener("load",_),A.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return l.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var ja={};ja.d=(p,t)=>{for(var n in t)ja.o(t,n)&&!ja.o(p,n)&&Object.defineProperty(p,n,{enumerable:!0,get:t[n]})};ja.o=(p,t)=>Object.prototype.hasOwnProperty.call(p,t);var ut=globalThis.pdfjsLib={};ja.d(ut,{AbortException:()=>Gn,AnnotationEditorLayer:()=>Bi,AnnotationEditorParamsType:()=>pt,AnnotationEditorType:()=>Ct,AnnotationEditorUIManager:()=>gn,AnnotationLayer:()=>L0,AnnotationMode:()=>pn,CMapCompressionType:()=>hu,ColorPicker:()=>bi,DOMSVGFactory:()=>xu,DrawLayer:()=>we,FeatureTest:()=>ze,GlobalWorkerOptions:()=>Ia,ImageKind:()=>vl,InvalidPDFException:()=>vg,MissingPDFException:()=>qn,OPS:()=>ci,Outliner:()=>yu,PDFDataRangeTransport:()=>kg,PDFDateString:()=>Eg,PDFWorker:()=>ai,PasswordResponses:()=>zb,PermissionFlag:()=>Hb,PixelsPerInch:()=>Ps,RenderingCancelledException:()=>Cu,TextLayer:()=>Al,UnexpectedResponseException:()=>Tl,Util:()=>st,VerbosityLevel:()=>_l,XfaLayer:()=>Hg,build:()=>h0,createValidAbsoluteUrl:()=>jb,fetchData:()=>Dl,getDocument:()=>i0,getFilenameFromUrl:()=>Zb,getPdfFilenameFromUrl:()=>Wb,getXfaPageViewport:()=>Jb,isDataScheme:()=>Ru,isPdfFile:()=>Mu,noContextMenu:()=>Fe,normalizeUnicode:()=>Yb,renderTextLayer:()=>Yy,setLayerDimensions:()=>Bn,shadow:()=>Rt,updateTextLayer:()=>Ky,version:()=>u0});const Ce=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),mg=[1,0,0,1,0,0],uu=[.001,0,0,.001,0,0],kb=1e7,nu=1.35,si={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},pn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Pb="pdfjs_internal_editor_",Ct={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Hb={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Te={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},vl={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},re={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Ha={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_l={ERRORS:0,WARNINGS:1,INFOS:5},hu={NONE:0,BINARY:1},ci={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},zb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Sl=_l.WARNINGS;function Fb(p){Number.isInteger(p)&&(Sl=p)}function Ub(){return Sl}function El(p){Sl>=_l.INFOS&&console.log(`Info: ${p}`)}function Et(p){Sl>=_l.WARNINGS&&console.log(`Warning: ${p}`)}function zt(p){throw new Error(p)}function oe(p,t){p||zt(t)}function Bb(p){switch(p?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function jb(p,t=null,n=null){if(!p)return null;try{if(n&&typeof p=="string"&&(n.addDefaultProtocol&&p.startsWith("www.")&&p.match(/\./g)?.length>=2&&(p=`http://${p}`),n.tryConvertEncoding))try{p=Xb(p)}catch{}const a=t?new URL(p,t):new URL(p);if(Bb(a))return a}catch{}return null}function Rt(p,t,n,a=!1){return Object.defineProperty(p,t,{value:n,enumerable:!a,configurable:!0,writable:!1}),n}const mn=(function(){function t(n,a){this.constructor===t&&zt("Cannot initialize BaseException."),this.message=n,this.name=a}return t.prototype=new Error,t.constructor=t,t})();class du extends mn{constructor(t,n){super(t,"PasswordException"),this.code=n}}class fu extends mn{constructor(t,n){super(t,"UnknownErrorException"),this.details=n}}class vg extends mn{constructor(t){super(t,"InvalidPDFException")}}class qn extends mn{constructor(t){super(t,"MissingPDFException")}}class Tl extends mn{constructor(t,n){super(t,"UnexpectedResponseException"),this.status=n}}class Ib extends mn{constructor(t){super(t,"FormatError")}}class Gn extends mn{constructor(t){super(t,"AbortException")}}function bg(p){(typeof p!="object"||p?.length===void 0)&&zt("Invalid argument for bytesToString");const t=p.length,n=8192;if(t<n)return String.fromCharCode.apply(null,p);const a=[];for(let l=0;l<t;l+=n){const o=Math.min(l+n,t),c=p.subarray(l,o);a.push(String.fromCharCode.apply(null,c))}return a.join("")}function wl(p){typeof p!="string"&&zt("Invalid argument for stringToBytes");const t=p.length,n=new Uint8Array(t);for(let a=0;a<t;++a)n[a]=p.charCodeAt(a)&255;return n}function qb(p){return String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,p&255)}function Tu(p){const t=Object.create(null);for(const[n,a]of p)t[n]=a;return t}function Gb(){const p=new Uint8Array(4);return p[0]=1,new Uint32Array(p.buffer,0,1)[0]===1}function Vb(){try{return new Function(""),!0}catch{return!1}}class ze{static get isLittleEndian(){return Rt(this,"isLittleEndian",Gb())}static get isEvalSupported(){return Rt(this,"isEvalSupported",Vb())}static get isOffscreenCanvasSupported(){return Rt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Rt(this,"platform",{isMac:navigator.platform.includes("Mac")}):Rt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return Rt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const su=Array.from(Array(256).keys(),p=>p.toString(16).padStart(2,"0"));class st{static makeHexColor(t,n,a){return`#${su[t]}${su[n]}${su[a]}`}static scaleMinMax(t,n){let a;t[0]?(t[0]<0&&(a=n[0],n[0]=n[2],n[2]=a),n[0]*=t[0],n[2]*=t[0],t[3]<0&&(a=n[1],n[1]=n[3],n[3]=a),n[1]*=t[3],n[3]*=t[3]):(a=n[0],n[0]=n[1],n[1]=a,a=n[2],n[2]=n[3],n[3]=a,t[1]<0&&(a=n[1],n[1]=n[3],n[3]=a),n[1]*=t[1],n[3]*=t[1],t[2]<0&&(a=n[0],n[0]=n[2],n[2]=a),n[0]*=t[2],n[2]*=t[2]),n[0]+=t[4],n[1]+=t[5],n[2]+=t[4],n[3]+=t[5]}static transform(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]}static applyTransform(t,n){const a=t[0]*n[0]+t[1]*n[2]+n[4],l=t[0]*n[1]+t[1]*n[3]+n[5];return[a,l]}static applyInverseTransform(t,n){const a=n[0]*n[3]-n[1]*n[2],l=(t[0]*n[3]-t[1]*n[2]+n[2]*n[5]-n[4]*n[3])/a,o=(-t[0]*n[1]+t[1]*n[0]+n[4]*n[1]-n[5]*n[0])/a;return[l,o]}static getAxialAlignedBoundingBox(t,n){const a=this.applyTransform(t,n),l=this.applyTransform(t.slice(2,4),n),o=this.applyTransform([t[0],t[3]],n),c=this.applyTransform([t[2],t[1]],n);return[Math.min(a[0],l[0],o[0],c[0]),Math.min(a[1],l[1],o[1],c[1]),Math.max(a[0],l[0],o[0],c[0]),Math.max(a[1],l[1],o[1],c[1])]}static inverseTransform(t){const n=t[0]*t[3]-t[1]*t[2];return[t[3]/n,-t[1]/n,-t[2]/n,t[0]/n,(t[2]*t[5]-t[4]*t[3])/n,(t[4]*t[1]-t[5]*t[0])/n]}static singularValueDecompose2dScale(t){const n=[t[0],t[2],t[1],t[3]],a=t[0]*n[0]+t[1]*n[2],l=t[0]*n[1]+t[1]*n[3],o=t[2]*n[0]+t[3]*n[2],c=t[2]*n[1]+t[3]*n[3],h=(a+c)/2,d=Math.sqrt((a+c)**2-4*(a*c-o*l))/2,g=h+d||1,m=h-d||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const n=t.slice(0);return t[0]>t[2]&&(n[0]=t[2],n[2]=t[0]),t[1]>t[3]&&(n[1]=t[3],n[3]=t[1]),n}static intersect(t,n){const a=Math.max(Math.min(t[0],t[2]),Math.min(n[0],n[2])),l=Math.min(Math.max(t[0],t[2]),Math.max(n[0],n[2]));if(a>l)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(n[1],n[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(n[1],n[3]));return o>c?null:[a,o,l,c]}static#t(t,n,a,l,o,c,h,d,g,m){if(g<=0||g>=1)return;const v=1-g,b=g*g,A=b*g,_=v*(v*(v*t+3*g*n)+3*b*a)+A*l,E=v*(v*(v*o+3*g*c)+3*b*h)+A*d;m[0]=Math.min(m[0],_),m[1]=Math.min(m[1],E),m[2]=Math.max(m[2],_),m[3]=Math.max(m[3],E)}static#e(t,n,a,l,o,c,h,d,g,m,v,b){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&this.#t(t,n,a,l,o,c,h,d,-v/m,b);return}const A=m**2-4*v*g;if(A<0)return;const _=Math.sqrt(A),E=2*g;this.#t(t,n,a,l,o,c,h,d,(-m+_)/E,b),this.#t(t,n,a,l,o,c,h,d,(-m-_)/E,b)}static bezierBoundingBox(t,n,a,l,o,c,h,d,g){return g?(g[0]=Math.min(g[0],t,h),g[1]=Math.min(g[1],n,d),g[2]=Math.max(g[2],t,h),g[3]=Math.max(g[3],n,d)):g=[Math.min(t,h),Math.min(n,d),Math.max(t,h),Math.max(n,d)],this.#e(t,a,o,h,n,l,c,d,3*(-t+3*(a-o)+h),6*(t-2*a+o),3*(a-t),g),this.#e(t,a,o,h,n,l,c,d,3*(-n+3*(l-c)+d),6*(n-2*l+c),3*(l-n),g),g}}function Xb(p){return decodeURIComponent(escape(p))}let au=null,Ip=null;function Yb(p){return au||(au=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ip=new Map([["","t"]])),p.replaceAll(au,(t,n,a)=>n?n.normalize("NFKC"):Ip.get(a))}function Kb(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const p=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(p);else for(let t=0;t<32;t++)p[t]=Math.floor(Math.random()*255);return bg(p)}const yg="pdfjs_internal_id_",zi={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class xl{constructor(){this.constructor===xl&&zt("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,n){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,n,a,l,o){return"none"}destroy(t=!1){}}class Cl{#t=!1;constructor({enableHWA:t=!1}={}){this.constructor===Cl&&zt("Cannot initialize BaseCanvasFactory."),this.#t=t}create(t,n){if(t<=0||n<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(t,n);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,n,a){if(!t.canvas)throw new Error("Canvas is not specified");if(n<=0||a<=0)throw new Error("Invalid canvas size");t.canvas.width=n,t.canvas.height=a}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,n){zt("Abstract method `_createCanvas` called.")}}class Rl{constructor({baseUrl:t=null,isCompressed:n=!0}){this.constructor===Rl&&zt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),a=this.isCompressed?hu.BINARY:hu.NONE;return this._fetchData(n,a).catch(l=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(t,n){zt("Abstract method `_fetchData` called.")}}class Ml{constructor({baseUrl:t=null}){this.constructor===Ml&&zt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch(a=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(t){zt("Abstract method `_fetchData` called.")}}class wu{constructor(){this.constructor===wu&&zt("Cannot initialize BaseSVGFactory.")}create(t,n,a=!1){if(t<=0||n<=0)throw new Error("Invalid SVG dimensions");const l=this._createSVG("svg:svg");return l.setAttribute("version","1.1"),a||(l.setAttribute("width",`${t}px`),l.setAttribute("height",`${n}px`)),l.setAttribute("preserveAspectRatio","none"),l.setAttribute("viewBox",`0 0 ${t} ${n}`),l}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){zt("Abstract method `_createSVG` called.")}}const Ui="http://www.w3.org/2000/svg";class Ps{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class Qb extends xl{#t;#e;#i;#s;#l;#n=0;constructor({docId:t,ownerDocument:n=globalThis.document}={}){super(),this.#i=t,this.#s=n}get#a(){return this.#t||=new Map}get#o(){return this.#l||=new Map}get#u(){if(!this.#e){const t=this.#s.createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const a=this.#s.createElementNS(Ui,"svg");a.setAttribute("width",0),a.setAttribute("height",0),this.#e=this.#s.createElementNS(Ui,"defs"),t.append(a),a.append(this.#e),this.#s.body.append(t)}return this.#e}#h(t){if(t.length===1){const d=t[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=d[v]/255;const m=g.join(",");return[m,m,m]}const[n,a,l]=t,o=new Array(256),c=new Array(256),h=new Array(256);for(let d=0;d<256;d++)o[d]=n[d]/255,c[d]=a[d]/255,h[d]=l[d]/255;return[o.join(","),c.join(","),h.join(",")]}addFilter(t){if(!t)return"none";let n=this.#a.get(t);if(n)return n;const[a,l,o]=this.#h(t),c=t.length===1?a:`${a}${l}${o}`;if(n=this.#a.get(c),n)return this.#a.set(t,n),n;const h=`g_${this.#i}_transfer_map_${this.#n++}`,d=`url(#${h})`;this.#a.set(t,d),this.#a.set(c,d);const g=this.#r(h);return this.#m(a,l,o,g),d}addHCMFilter(t,n){const a=`${t}-${n}`,l="base";let o=this.#o.get(l);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#o.set(l,o)),!t||!n))return o.url;const c=this.#b(t);t=st.makeHexColor(...c);const h=this.#b(n);if(n=st.makeHexColor(...h),this.#u.style.color="",t==="#000000"&&n==="#ffffff"||t===n)return o.url;const d=new Array(256);for(let A=0;A<=255;A++){const _=A/255;d[A]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const g=d.join(","),m=`g_${this.#i}_hcm_filter`,v=o.filter=this.#r(m);this.#m(g,g,g,v),this.#c(v);const b=(A,_)=>{const E=c[A]/255,x=h[A]/255,w=new Array(_+1);for(let P=0;P<=_;P++)w[P]=E+P/_*(x-E);return w.join(",")};return this.#m(b(0,5),b(1,5),b(2,5),v),o.url=`url(#${m})`,o.url}addAlphaFilter(t){let n=this.#a.get(t);if(n)return n;const[a]=this.#h([t]),l=`alpha_${a}`;if(n=this.#a.get(l),n)return this.#a.set(t,n),n;const o=`g_${this.#i}_alpha_map_${this.#n++}`,c=`url(#${o})`;this.#a.set(t,c),this.#a.set(l,c);const h=this.#r(o);return this.#d(a,h),c}addLuminosityFilter(t){let n=this.#a.get(t||"luminosity");if(n)return n;let a,l;if(t?([a]=this.#h([t]),l=`luminosity_${a}`):l="luminosity",n=this.#a.get(l),n)return this.#a.set(t,n),n;const o=`g_${this.#i}_luminosity_map_${this.#n++}`,c=`url(#${o})`;this.#a.set(t,c),this.#a.set(l,c);const h=this.#r(o);return this.#f(h),t&&this.#d(a,h),c}addHighlightHCMFilter(t,n,a,l,o){const c=`${n}-${a}-${l}-${o}`;let h=this.#o.get(t);if(h?.key===c||(h?(h.filter?.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},this.#o.set(t,h)),!n||!a))return h.url;const[d,g]=[n,a].map(this.#b.bind(this));let m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[b,A]=[l,o].map(this.#b.bind(this));v<m&&([m,v,b,A]=[v,m,A,b]),this.#u.style.color="";const _=(w,P,U)=>{const H=new Array(256),F=(v-m)/U,G=w/255,Y=(P-w)/(255*U);let Q=0;for(let $=0;$<=U;$++){const it=Math.round(m+$*F),W=G+$*Y;for(let ht=Q;ht<=it;ht++)H[ht]=W;Q=it+1}for(let $=Q;$<256;$++)H[$]=H[Q-1];return H.join(",")},E=`g_${this.#i}_hcm_${t}_filter`,x=h.filter=this.#r(E);return this.#c(x),this.#m(_(b[0],A[0],5),_(b[1],A[1],5),_(b[2],A[2],5),x),h.url=`url(#${E})`,h.url}destroy(t=!1){t&&this.#o.size!==0||(this.#e&&(this.#e.parentNode.parentNode.remove(),this.#e=null),this.#t&&(this.#t.clear(),this.#t=null),this.#n=0)}#f(t){const n=this.#s.createElementNS(Ui,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)}#c(t){const n=this.#s.createElementNS(Ui,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)}#r(t){const n=this.#s.createElementNS(Ui,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),this.#u.append(n),n}#p(t,n,a){const l=this.#s.createElementNS(Ui,n);l.setAttribute("type","discrete"),l.setAttribute("tableValues",a),t.append(l)}#m(t,n,a,l){const o=this.#s.createElementNS(Ui,"feComponentTransfer");l.append(o),this.#p(o,"feFuncR",t),this.#p(o,"feFuncG",n),this.#p(o,"feFuncB",a)}#d(t,n){const a=this.#s.createElementNS(Ui,"feComponentTransfer");n.append(a),this.#p(a,"feFuncA",t)}#b(t){return this.#u.style.color=t,Du(getComputedStyle(this.#u).getPropertyValue("color"))}}class $b extends Cl{constructor({ownerDocument:t=globalThis.document,enableHWA:n=!1}={}){super({enableHWA:n}),this._document=t}_createCanvas(t,n){const a=this._document.createElement("canvas");return a.width=t,a.height=n,a}}async function Dl(p,t="text"){if(Ua(p,document.baseURI)){const n=await fetch(p);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,a)=>{const l=new XMLHttpRequest;l.open("GET",p,!0),l.responseType=t,l.onreadystatechange=()=>{if(l.readyState===XMLHttpRequest.DONE){if(l.status===200||l.status===0){switch(t){case"arraybuffer":case"blob":case"json":n(l.response);return}n(l.responseText);return}a(new Error(l.statusText))}},l.send(null)})}class Ag extends Rl{_fetchData(t,n){return Dl(t,this.isCompressed?"arraybuffer":"text").then(a=>({cMapData:a instanceof ArrayBuffer?new Uint8Array(a):wl(a),compressionType:n}))}}class _g extends Ml{_fetchData(t){return Dl(t,"arraybuffer").then(n=>new Uint8Array(n))}}class xu extends wu{_createSVG(t){return document.createElementNS(Ui,t)}}class Ga{constructor({viewBox:t,scale:n,rotation:a,offsetX:l=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.scale=n,this.rotation=a,this.offsetX=l,this.offsetY=o;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let g,m,v,b;switch(a%=360,a<0&&(a+=360),a){case 180:g=-1,m=0,v=0,b=1;break;case 90:g=0,m=1,v=1,b=0;break;case 270:g=0,m=-1,v=-1,b=0;break;case 0:g=1,m=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,b=-b);let A,_,E,x;g===0?(A=Math.abs(d-t[1])*n+l,_=Math.abs(h-t[0])*n+o,E=(t[3]-t[1])*n,x=(t[2]-t[0])*n):(A=Math.abs(h-t[0])*n+l,_=Math.abs(d-t[1])*n+o,E=(t[2]-t[0])*n,x=(t[3]-t[1])*n),this.transform=[g*n,m*n,v*n,b*n,A-g*n*h-v*n*d,_-m*n*h-b*n*d],this.width=E,this.height=x}get rawDims(){const{viewBox:t}=this;return Rt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:n=this.rotation,offsetX:a=this.offsetX,offsetY:l=this.offsetY,dontFlip:o=!1}={}){return new Ga({viewBox:this.viewBox.slice(),scale:t,rotation:n,offsetX:a,offsetY:l,dontFlip:o})}convertToViewportPoint(t,n){return st.applyTransform([t,n],this.transform)}convertToViewportRectangle(t){const n=st.applyTransform([t[0],t[1]],this.transform),a=st.applyTransform([t[2],t[3]],this.transform);return[n[0],n[1],a[0],a[1]]}convertToPdfPoint(t,n){return st.applyInverseTransform([t,n],this.transform)}}class Cu extends mn{constructor(t,n=0){super(t,"RenderingCancelledException"),this.extraDelay=n}}function Ru(p){const t=p.length;let n=0;for(;n<t&&p[n].trim()==="";)n++;return p.substring(n,n+5).toLowerCase()==="data:"}function Mu(p){return typeof p=="string"&&/\.pdf$/i.test(p)}function Zb(p){return[p]=p.split(/[#?]/,1),p.substring(p.lastIndexOf("/")+1)}function Wb(p,t="document.pdf"){if(typeof p!="string")return t;if(Ru(p))return Et('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,l=n.exec(p);let o=a.exec(l[1])||a.exec(l[2])||a.exec(l[3]);if(o&&(o=o[0],o.includes("%")))try{o=a.exec(decodeURIComponent(o))[0]}catch{}return o||t}class qp{started=Object.create(null);times=[];time(t){t in this.started&&Et(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Et(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let n=0;for(const{name:a}of this.times)n=Math.max(a.length,n);for(const{name:a,start:l,end:o}of this.times)t.push(`${a.padEnd(n)} ${o-l}ms
`);return t.join("")}}function Ua(p,t){try{const{protocol:n}=t?new URL(p,t):new URL(p);return n==="http:"||n==="https:"}catch{return!1}}function Fe(p){p.preventDefault()}function Sg(p){console.log("Deprecated API usage: "+p)}let Gp;class Eg{static toDateObject(t){if(!t||typeof t!="string")return null;Gp||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=Gp.exec(t);if(!n)return null;const a=parseInt(n[1],10);let l=parseInt(n[2],10);l=l>=1&&l<=12?l-1:0;let o=parseInt(n[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(n[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(n[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(n[6],10);d=d>=0&&d<=59?d:0;const g=n[7]||"Z";let m=parseInt(n[8],10);m=m>=0&&m<=23?m:0;let v=parseInt(n[9],10)||0;return v=v>=0&&v<=59?v:0,g==="-"?(c+=m,h+=v):g==="+"&&(c-=m,h-=v),new Date(Date.UTC(a,l,o,c,h,d))}}function Jb(p,{scale:t=1,rotation:n=0}){const{width:a,height:l}=p.attributes.style,o=[0,0,parseInt(a),parseInt(l)];return new Ga({viewBox:o,scale:t,rotation:n})}function Du(p){if(p.startsWith("#")){const t=parseInt(p.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return p.startsWith("rgb(")?p.slice(4,-1).split(",").map(t=>parseInt(t)):p.startsWith("rgba(")?p.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Et(`Not a valid color format: "${p}"`),[0,0,0])}function ty(p){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of p.keys()){t.style.color=n;const a=window.getComputedStyle(t).color;p.set(n,Du(a))}t.remove()}function Vt(p){const{a:t,b:n,c:a,d:l,e:o,f:c}=p.getTransform();return[t,n,a,l,o,c]}function Fi(p){const{a:t,b:n,c:a,d:l,e:o,f:c}=p.getTransform().invertSelf();return[t,n,a,l,o,c]}function Bn(p,t,n=!1,a=!0){if(t instanceof Ga){const{pageWidth:l,pageHeight:o}=t.rawDims,{style:c}=p,h=ze.isCSSRoundSupported,d=`var(--scale-factor) * ${l}px`,g=`var(--scale-factor) * ${o}px`,m=h?`round(${d}, 1px)`:`calc(${d})`,v=h?`round(${g}, 1px)`:`calc(${g})`;!n||t.rotation%180===0?(c.width=m,c.height=v):(c.width=v,c.height=m)}a&&p.setAttribute("data-main-rotation",t.rotation)}class Lu{#t=null;#e=null;#i;#s=null;constructor(t){this.#i=t}render(){const t=this.#t=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const n=this.#i._uiManager._signal;t.addEventListener("contextmenu",Fe,{signal:n}),t.addEventListener("pointerdown",Lu.#l,{signal:n});const a=this.#s=document.createElement("div");a.className="buttons",t.append(a);const l=this.#i.toolbarPosition;if(l){const{style:o}=t,c=this.#i._uiManager.direction==="ltr"?1-l[0]:l[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*l[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}static#l(t){t.stopPropagation()}#n(t){this.#i._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}#a(t){this.#i._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}#o(t){const n=this.#i._uiManager._signal;t.addEventListener("focusin",this.#n.bind(this),{capture:!0,signal:n}),t.addEventListener("focusout",this.#a.bind(this),{capture:!0,signal:n}),t.addEventListener("contextmenu",Fe,{signal:n})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden")}#u(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#i.editorType}-button`),this.#o(t),t.addEventListener("click",n=>{this.#i._uiManager.delete()},{signal:this.#i._uiManager._signal}),this.#s.append(t)}get#h(){const t=document.createElement("div");return t.className="divider",t}addAltTextButton(t){this.#o(t),this.#s.prepend(t,this.#h)}addColorPicker(t){this.#e=t;const n=t.renderButton();this.#o(n),this.#s.prepend(n,this.#h)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class ey{#t=null;#e=null;#i;constructor(t){this.#i=t}#s(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Fe,{signal:this.#i._signal});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#n(),t}#l(t,n){let a=0,l=0;for(const o of t){const c=o.y+o.height;if(c<a)continue;const h=o.x+(n?o.width:0);if(c>a){l=h,a=c;continue}n?h>l&&(l=h):h<l&&(l=h)}return[n?1-l:l,a]}show(t,n,a){const[l,o]=this.#l(n,a),{style:c}=this.#e||=this.#s();t.append(this.#e),c.insetInlineEnd=`${100*l}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#n(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");t.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const a=this.#i._signal;t.addEventListener("contextmenu",Fe,{signal:a}),t.addEventListener("click",()=>{this.#i.highlightSelection("floating_button")},{signal:a}),this.#t.append(t)}}function bl(p,t,n){for(const a of n)t.addEventListener(a,p[a].bind(p))}function iy(p){return Math.round(Math.min(255,Math.max(1,255*p))).toString(16).padStart(2,"0")}class ny{#t=0;get id(){return`${Pb}${this.#t++}`}}class Ou{#t=Kb();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),l=new Image;l.src=t;const o=l.decode().then(()=>(a.drawImage(l,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return Rt(this,"_isSVGFittingCanvas",o)}async#s(t,n){this.#i||=new Map;let a=this.#i.get(t);if(a===null)return null;if(a?.bitmap)return a.refCounter+=1,a;try{a||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let l;if(typeof n=="string"?(a.url=n,l=await Dl(n,"blob")):l=a.file=n,l.type==="image/svg+xml"){const o=Ou._isSVGFittingCanvas,c=new FileReader,h=new Image,d=new Promise((g,m)=>{h.onload=()=>{a.bitmap=h,a.isSvg=!0,g()},c.onload=async()=>{const v=a.svgUrl=c.result;h.src=await o?`${v}#svgView(preserveAspectRatio(none))`:v},h.onerror=c.onerror=m});c.readAsDataURL(l),await d}else a.bitmap=await createImageBitmap(l);a.refCounter=1}catch(l){console.error(l),a=null}return this.#i.set(t,a),a&&this.#i.set(a.id,a),a}async getFromFile(t){const{lastModified:n,name:a,size:l,type:o}=t;return this.#s(`${n}_${a}_${l}_${o}`,t)}async getFromUrl(t){return this.#s(t,t)}async getFromId(t){this.#i||=new Map;const n=this.#i.get(t);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(t){const n=this.#i.get(t);return n?.isSvg?n.svgUrl:null}deleteId(t){this.#i||=new Map;const n=this.#i.get(t);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class sy{#t=[];#e=!1;#i;#s=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:n,post:a,mustExec:l,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(l&&t(),this.#e)return;const d={cmd:t,undo:n,post:a,type:o};if(this.#s===-1){this.#t.length>0&&(this.#t.length=0),this.#s=0,this.#t.push(d);return}if(c&&this.#t[this.#s].type===o){h&&(d.undo=this.#t[this.#s].undo),this.#t[this.#s]=d;return}const g=this.#s+1;g===this.#i?this.#t.splice(0,1):(this.#s=g,g<this.#t.length&&this.#t.splice(g)),this.#t.push(d)}undo(){if(this.#s===-1)return;this.#e=!0;const{undo:t,post:n}=this.#t[this.#s];t(),n?.(),this.#e=!1,this.#s-=1}redo(){if(this.#s<this.#t.length-1){this.#s+=1,this.#e=!0;const{cmd:t,post:n}=this.#t[this.#s];t(),n?.(),this.#e=!1}}hasSomethingToUndo(){return this.#s!==-1}hasSomethingToRedo(){return this.#s<this.#t.length-1}destroy(){this.#t=null}}class Va{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=ze.platform;for(const[a,l,o={}]of t)for(const c of a){const h=c.startsWith("mac+");n&&h?(this.callbacks.set(c.slice(4),{callback:l,options:o}),this.allKeys.add(c.split("+").at(-1))):!n&&!h&&(this.callbacks.set(c,{callback:l,options:o}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(t,n){if(!this.allKeys.has(n.key))return;const a=this.callbacks.get(this.#t(n));if(!a)return;const{callback:l,options:{bubbles:o=!1,args:c=[],checker:h=null}}=a;h&&!h(t,n)||(l.bind(t,...c,n)(),o||(n.stopPropagation(),n.preventDefault()))}}class Nu{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return ty(t),Rt(this,"_colors",t)}convert(t){const n=Du(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[a,l]of this._colors)if(l.every((o,c)=>o===n[c]))return Nu._colorsMapping.get(a);return n}getHexCode(t){const n=this._colors.get(t);return n?st.makeHexColor(...n):t}}class gn{#t=new AbortController;#e=null;#i=new Map;#s=new Map;#l=null;#n=null;#a=null;#o=new sy;#u=0;#h=new Set;#f=null;#c=null;#r=new Set;#p=!1;#m=null;#d=null;#b=null;#g=!1;#y=null;#_=new ny;#E=!1;#w=!1;#x=null;#D=null;#T=null;#A=Ct.NONE;#v=new Set;#S=null;#C=null;#R=null;#O=this.blur.bind(this);#L=this.focus.bind(this);#P=this.copy.bind(this);#N=this.cut.bind(this);#H=this.paste.bind(this);#k=this.keydown.bind(this);#G=this.keyup.bind(this);#V=this.onEditingAction.bind(this);#I=this.onPageChanging.bind(this);#B=this.onScaleChanging.bind(this);#z=this.onRotationChanging.bind(this);#Q={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#q=[0,0];#F=null;#j=null;#$=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=gn.prototype,n=c=>c.#j.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),a=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},l=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Rt(this,"_keyboardManager",new Va([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],t.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:a}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#j.contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#j.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:n}]]))}constructor(t,n,a,l,o,c,h,d,g){this._signal=this.#t.signal,this.#j=t,this.#$=n,this.#l=a,this._eventBus=l,this._eventBus._on("editingaction",this.#V),this._eventBus._on("pagechanging",this.#I),this._eventBus._on("scalechanging",this.#B),this._eventBus._on("rotationchanging",this.#z),this.#st(),this.#ot(),this.#Z(),this.#n=o.annotationStorage,this.#m=o.filterFactory,this.#C=c,this.#b=h||null,this.#p=d,this.#T=g||null,this.viewParameters={realScale:Ps.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#t?.abort(),this.#t=null,this._signal=null,this._eventBus._off("editingaction",this.#V),this._eventBus._off("pagechanging",this.#I),this._eventBus._off("scalechanging",this.#B),this._eventBus._off("rotationchanging",this.#z);for(const t of this.#s.values())t.destroy();this.#s.clear(),this.#i.clear(),this.#r.clear(),this.#e=null,this.#v.clear(),this.#o.destroy(),this.#l?.destroy(),this.#y?.hide(),this.#y=null,this.#d&&(clearTimeout(this.#d),this.#d=null),this.#F&&(clearTimeout(this.#F),this.#F=null)}async mlGuess(t){return this.#T?.guess(t)||null}get hasMLManager(){return!!this.#T}get hcmFilter(){return Rt(this,"hcmFilter",this.#C?this.#m.addHCMFilter(this.#C.foreground,this.#C.background):"none")}get direction(){return Rt(this,"direction",getComputedStyle(this.#j).direction)}get highlightColors(){return Rt(this,"highlightColors",this.#b?new Map(this.#b.split(",").map(t=>t.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Rt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#D=t}editAltText(t){this.#l?.editAltText(this,t)}onPageChanging({pageNumber:t}){this.#u=t-1}focusMainContainer(){this.#j.focus()}findParent(t,n){for(const a of this.#s.values()){const{x:l,y:o,width:c,height:h}=a.div.getBoundingClientRect();if(t>=l&&t<=l+c&&n>=o&&n<=o+h)return a}return null}disableUserSelect(t=!1){this.#$.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#r.add(t)}removeShouldRescale(t){this.#r.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Ps.PDF_TO_CSS_UNITS;for(const n of this.#r)n.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}highlightSelection(t=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:l,focusNode:o,focusOffset:c}=n,h=n.toString(),g=this.#Y(n).closest(".textLayer"),m=this.getSelectionBoxes(g);if(m){n.empty(),this.#A===Ct.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Ct.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const v of this.#s.values())if(v.hasTextLayer(g)){v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:a,anchorOffset:l,focusNode:o,focusOffset:c,text:h});break}}}#it(){const t=document.getSelection();if(!t||t.isCollapsed)return;const a=this.#Y(t).closest(".textLayer"),l=this.getSelectionBoxes(a);l&&(this.#y||=new ey(this),this.#y.show(a,l,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#n&&!this.#n.has(t.id)&&this.#n.setValue(t.id,t)}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#S&&(this.#y?.hide(),this.#S=null,this.#M({hasSelectedText:!1}));return}const{anchorNode:n}=t;if(n===this.#S)return;if(!this.#Y(t).closest(".textLayer")){this.#S&&(this.#y?.hide(),this.#S=null,this.#M({hasSelectedText:!1}));return}if(this.#y?.hide(),this.#S=n,this.#M({hasSelectedText:!0}),!(this.#A!==Ct.HIGHLIGHT&&this.#A!==Ct.NONE)&&(this.#A===Ct.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#g=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this._signal,c=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),h.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})}}#K(t=""){this.#A===Ct.HIGHLIGHT?this.highlightSelection(t):this.#p&&this.#it()}#st(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#at(){const t=this._signal;window.addEventListener("focus",this.#L,{signal:t}),window.addEventListener("blur",this.#O,{signal:t})}#rt(){window.removeEventListener("focus",this.#L),window.removeEventListener("blur",this.#O)}blur(){if(this.isShiftKeyDown=!1,this.#g&&(this.#g=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const n of this.#v)if(n.div.contains(t)){this.#x=[n,t],n._focusEventsAllowed=!1;break}}focus(){if(!this.#x)return;const[t,n]=this.#x;this.#x=null,n.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#Z(){const t=this._signal;window.addEventListener("keydown",this.#k,{signal:t}),window.addEventListener("keyup",this.#G,{signal:t})}#lt(){window.removeEventListener("keydown",this.#k),window.removeEventListener("keyup",this.#G)}#W(){const t=this._signal;document.addEventListener("copy",this.#P,{signal:t}),document.addEventListener("cut",this.#N,{signal:t}),document.addEventListener("paste",this.#H,{signal:t})}#J(){document.removeEventListener("copy",this.#P),document.removeEventListener("cut",this.#N),document.removeEventListener("paste",this.#H)}#ot(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Z(),this.#W()}removeEditListeners(){this.#lt(),this.#J()}dragOver(t){for(const{type:n}of t.dataTransfer.items)for(const a of this.#c)if(a.isHandlingMimeForPasting(n)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const n of t.dataTransfer.items)for(const a of this.#c)if(a.isHandlingMimeForPasting(n.type)){a.paste(n,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const a of this.#v){const l=a.serialize(!0);l&&n.push(l)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:n}=t;for(const o of n.items)for(const c of this.#c)if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let a=n.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(o){Et(`paste: "${o.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const l=this.currentLayer;try{const o=[];for(const d of a){const g=l.deserialize(d);if(!g)return;o.push(g)}const c=()=>{for(const d of o)this.#tt(d);this.#et(o)},h=()=>{for(const d of o)d.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(o){Et(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==Ct.NONE&&!this.isEditorHandlingKeyboard&&gn._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#g&&(this.#g=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#M(t){Object.entries(t).some(([a,l])=>this.#Q[a]!==l)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Q,t)}),this.#A===Ct.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#U([[pt.HIGHLIGHT_FREE,!0]]))}#U(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#at(),this.#W(),this.#M({isEditing:this.#A!==Ct.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#rt(),this.#J(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#c){this.#c=t;for(const n of this.#c)this.#U(n.defaultPropertiesToUpdate)}}getId(){return this.#_.id}get currentLayer(){return this.#s.get(this.#u)}getLayer(t){return this.#s.get(t)}get currentPageIndex(){return this.#u}addLayer(t){this.#s.set(t.pageIndex,t),this.#E?t.enable():t.disable()}removeLayer(t){this.#s.delete(t.pageIndex)}updateMode(t,n=null,a=!1){if(this.#A!==t){if(this.#A=t,t===Ct.NONE){this.setEditingState(!1),this.#ut();return}this.setEditingState(!0),this.#ct(),this.unselectAll();for(const l of this.#s.values())l.updateMode(t);if(!n&&a){this.addNewEditorFromKeyboard();return}if(n){for(const l of this.#i.values())if(l.annotationElementId===n){this.setSelected(l),l.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,n){if(this.#c){switch(t){case pt.CREATE:this.currentLayer.addNewEditor();return;case pt.HIGHLIGHT_DEFAULT_COLOR:this.#D?.updateColor(n);break;case pt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#R||=new Map).set(t,n),this.showAllEditors("highlight",n);break}for(const a of this.#v)a.updateParams(t,n);for(const a of this.#c)a.updateDefaultParams(t,n)}}showAllEditors(t,n,a=!1){for(const o of this.#i.values())o.editorType===t&&o.show(n);(this.#R?.get(pt.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#U([[pt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(t=!1){if(this.#w!==t){this.#w=t;for(const n of this.#s.values())t?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",t)}}#ct(){if(!this.#E){this.#E=!0;for(const t of this.#s.values())t.enable();for(const t of this.#i.values())t.enable()}}#ut(){if(this.unselectAll(),this.#E){this.#E=!1;for(const t of this.#s.values())t.disable();for(const t of this.#i.values())t.disable()}}getEditors(t){const n=[];for(const a of this.#i.values())a.pageIndex===t&&n.push(a);return n}getEditor(t){return this.#i.get(t)}addEditor(t){this.#i.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#d&&clearTimeout(this.#d),this.#d=setTimeout(()=>{this.focusMainContainer(),this.#d=null},0)),this.#i.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#h.has(t.annotationElementId))&&this.#n?.remove(t.id)}addDeletedAnnotationElement(t){this.#h.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#h.has(t)}removeDeletedAnnotationElement(t){this.#h.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#tt(t){const n=this.#s.get(t.pageIndex);n?n.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#U(t.propertiesToUpdate))}get#ht(){let t=null;for(t of this.#v);return t}updateUI(t){this.#ht===t&&this.#U(t.propertiesToUpdate)}toggleSelected(t){if(this.#v.has(t)){this.#v.delete(t),t.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#v.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(t){for(const n of this.#v)n!==t&&n.unselect();this.#v.clear(),this.#v.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(t){return this.#v.has(t)}get firstSelectedEditor(){return this.#v.values().next().value}unselect(t){t.unselect(),this.#v.delete(t),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#v.size!==0}get isEnterHandled(){return this.#v.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#M({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()})}redo(){this.#o.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(t){this.#o.add(t),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}#X(){if(this.#i.size===0)return!0;if(this.#i.size===1)for(const t of this.#i.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...this.#v],n=()=>{for(const l of t)l.remove()},a=()=>{for(const l of t)this.#tt(l)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#et(t){for(const n of this.#v)n.unselect();this.#v.clear();for(const n of t)n.isEmpty()||(this.#v.add(n),n.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#v)t.commit();this.#et(this.#i.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#A!==Ct.NONE))&&this.hasSelection){for(const t of this.#v)t.unselect();this.#v.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(t,n,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;this.#q[0]+=t,this.#q[1]+=n;const[l,o]=this.#q,c=[...this.#v],h=1e3;this.#F&&clearTimeout(this.#F),this.#F=setTimeout(()=>{this.#F=null,this.#q[0]=this.#q[1]=0,this.addCommands({cmd:()=>{for(const d of c)this.#i.has(d.id)&&d.translateInPage(l,o)},undo:()=>{for(const d of c)this.#i.has(d.id)&&d.translateInPage(-l,-o)},mustExec:!1})},h);for(const d of c)d.translateInPage(t,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#v)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let n=!1;for(const[{x:l,y:o,pageIndex:c},h]of t)h.newX=l,h.newY=o,h.newPageIndex=c,n||=l!==h.savedX||o!==h.savedY||c!==h.savedPageIndex;if(!n)return!1;const a=(l,o,c,h)=>{if(this.#i.has(l.id)){const d=this.#s.get(h);d?l._setParentAndPosition(d,o,c):(l.pageIndex=h,l.x=o,l.y=c)}};return this.addCommands({cmd:()=>{for(const[l,{newX:o,newY:c,newPageIndex:h}]of t)a(l,o,c,h)},undo:()=>{for(const[l,{savedX:o,savedY:c,savedPageIndex:h}]of t)a(l,o,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,n){if(this.#f)for(const a of this.#f.keys())a.drag(t,n)}rebuild(t){if(t.parent===null){const n=this.getLayer(t.pageIndex);n?(n.changeParent(t),n.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#v.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#A}get imageManager(){return Rt(this,"imageManager",new Ou)}getSelectionBoxes(t){if(!t)return null;const n=document.getSelection();for(let g=0,m=n.rangeCount;g<m;g++)if(!t.contains(n.getRangeAt(g).commonAncestorContainer))return null;const{x:a,y:l,width:o,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(g,m,v,b)=>({x:(m-l)/c,y:1-(g+v-a)/o,width:b/c,height:v/o});break;case"180":h=(g,m,v,b)=>({x:1-(g+v-a)/o,y:1-(m+b-l)/c,width:v/o,height:b/c});break;case"270":h=(g,m,v,b)=>({x:1-(m+b-l)/c,y:(g-a)/o,width:b/c,height:v/o});break;default:h=(g,m,v,b)=>({x:(g-a)/o,y:(m-l)/c,width:v/o,height:b/c});break}const d=[];for(let g=0,m=n.rangeCount;g<m;g++){const v=n.getRangeAt(g);if(!v.collapsed)for(const{x:b,y:A,width:_,height:E}of v.getClientRects())_===0||E===0||d.push(h(b,A,_,E))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:n}){(this.#a||=new Map).set(t,n)}removeChangedExistingAnnotation({annotationElementId:t}){this.#a?.delete(t)}renderAnnotationElement(t){const n=this.#a?.get(t.data.id);if(!n)return;const a=this.#n.getRawValue(n);a&&(this.#A===Ct.NONE&&!a.hasBeenModified||a.renderAnnotationElement(t))}}class Fn{#t="";#e=!1;#i=null;#s=null;#l=null;#n=!1;#a=null;static _l10nPromise=null;constructor(t){this.#a=t}static initialize(t){Fn._l10nPromise||=t}async render(){const t=this.#i=document.createElement("button");t.className="altText";const n=await Fn._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=n,t.setAttribute("aria-label",n),t.tabIndex="0";const a=this.#a._uiManager._signal;t.addEventListener("contextmenu",Fe,{signal:a}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:a});const l=o=>{o.preventDefault(),this.#a._uiManager.editAltText(this.#a)};return t.addEventListener("click",l,{capture:!0,signal:a}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#n=!0,l(o))},{signal:a}),await this.#o(),t}finish(){this.#i&&(this.#i.focus({focusVisible:this.#n}),this.#n=!1)}isEmpty(){return!this.#t&&!this.#e}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:n}){this.#t===t&&this.#e===n||(this.#t=t,this.#e=n,this.#o())}toggle(t=!1){this.#i&&(!t&&this.#l&&(clearTimeout(this.#l),this.#l=null),this.#i.disabled=!t)}destroy(){this.#i?.remove(),this.#i=null,this.#s=null}async#o(){const t=this.#i;if(!t)return;if(!this.#t&&!this.#e){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),Fn._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(l=>{t.setAttribute("aria-label",l)});let n=this.#s;if(!n){this.#s=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip");const l=n.id=`alt-text-tooltip-${this.#a.id}`;t.setAttribute("aria-describedby",l);const o=100,c=this.#a._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(this.#l),this.#l=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#l=setTimeout(()=>{this.#l=null,this.#s.classList.add("show"),this.#a._reportTelemetry({action:"alt_text_tooltip"})},o)},{signal:c}),t.addEventListener("mouseleave",()=>{this.#l&&(clearTimeout(this.#l),this.#l=null),this.#s?.classList.remove("show")},{signal:c})}n.innerText=this.#e?await Fn._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#t,n.parentNode||t.append(n),this.#a.getImageForAltText()?.setAttribute("aria-describedby",n.id)}}class ft{#t=null;#e=null;#i=null;#s=!1;#l=!1;#n=null;#a=null;#o=this.focusin.bind(this);#u=this.focusout.bind(this);#h=null;#f="";#c=!1;#r=null;#p=!1;#m=!1;#d=!1;#b=null;#g=0;#y=0;#_=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#E=!1;#w=ft._zIndex++;static _borderLineWidth=-1;static _colorManager=new Nu;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ft.prototype._resizeWithKeyboard,n=gn.TRANSLATE_SMALL,a=gn.TRANSLATE_BIG;return Rt(this,"_resizerKeyboardManager",new Va([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,a]}],[["Escape","mac+Escape"],ft.prototype._stopResizingWithKeyboard]]))}constructor(t){this.constructor===ft&&zt("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:a,pageHeight:l,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,l],this.pageTranslation=[o,c];const[h,d]=this.parentDimensions;this.x=t.x/h,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Rt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const n=new ay({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});n.annotationElementId=t.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(t,n,a){if(ft._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(o=>[o,t.get(o.replaceAll(/([A-Z])/g,c=>`-${c.toLowerCase()}`))])),a?.strings)for(const o of a.strings)ft._l10nPromise.set(o,t.get(o));if(ft._borderLineWidth!==-1)return;const l=getComputedStyle(document.documentElement);ft._borderLineWidth=parseFloat(l.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,n){zt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#E}set _isDraggable(t){this.#E=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(t*2),this.y+=this.width*t/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(t*2),this.y-=this.width*t/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#w}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#k(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#c?this.#c=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,n,a,l){const[o,c]=this.parentDimensions;[a,l]=this.screenToPageTranslation(a,l),this.x=(t+a)/o,this.y=(n+l)/c,this.fixAndSetPosition()}#x([t,n],a,l){[a,l]=this.screenToPageTranslation(a,l),this.x+=a/t,this.y+=l/n,this.fixAndSetPosition()}translate(t,n){this.#x(this.parentDimensions,t,n)}translateInPage(t,n){this.#r||=[this.x,this.y],this.#x(this.pageDimensions,t,n),this.div.scrollIntoView({block:"nearest"})}drag(t,n){this.#r||=[this.x,this.y];const[a,l]=this.parentDimensions;if(this.x+=t/a,this.y+=n/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[h,d]=this.getBaseTranslation();o+=h,c+=d,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#r&&(this.#r[0]!==this.x||this.#r[1]!==this.y)}getBaseTranslation(){const[t,n]=this.parentDimensions,{_borderLineWidth:a}=ft,l=a/t,o=a/n;switch(this.rotation){case 90:return[-l,o];case 180:return[l,o];case 270:return[l,-o];default:return[-l,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[n,a]=this.pageDimensions;let{x:l,y:o,width:c,height:h}=this;if(c*=n,h*=a,l*=n,o*=a,this._mustFixPosition)switch(t){case 0:l=Math.max(0,Math.min(n-c,l)),o=Math.max(0,Math.min(a-h,o));break;case 90:l=Math.max(0,Math.min(n-h,l)),o=Math.min(a,Math.max(c,o));break;case 180:l=Math.min(n,Math.max(c,l)),o=Math.min(a,Math.max(h,o));break;case 270:l=Math.min(n,Math.max(h,l)),o=Math.max(0,Math.min(a-c,o));break}this.x=l/=n,this.y=o/=a;const[d,g]=this.getBaseTranslation();l+=d,o+=g;const{style:m}=this.div;m.left=`${(100*l).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#D(t,n,a){switch(a){case 90:return[n,-t];case 180:return[-t,-n];case 270:return[-n,t];default:return[t,n]}}screenToPageTranslation(t,n){return ft.#D(t,n,this.parentRotation)}pageTranslationToScreen(t,n){return ft.#D(t,n,360-this.parentRotation)}#T(t){switch(t){case 90:{const[n,a]=this.pageDimensions;return[0,-n/a,a/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,a]=this.pageDimensions;return[0,n/a,-a/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[n,a]}=this,l=n*t,o=a*t;return ze.isCSSRoundSupported?[Math.round(l),Math.round(o)]:[l,o]}setDims(t,n){const[a,l]=this.parentDimensions;this.div.style.width=`${(100*t/a).toFixed(2)}%`,this.#l||(this.div.style.height=`${(100*n/l).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:n,width:a}=t,l=a.endsWith("%"),o=!this.#l&&n.endsWith("%");if(l&&o)return;const[c,h]=this.parentDimensions;l||(t.width=`${(100*parseFloat(a)/c).toFixed(2)}%`),!this.#l&&!o&&(t.height=`${(100*parseFloat(n)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#A(){if(this.#n)return;this.#n=document.createElement("div"),this.#n.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const a of t){const l=document.createElement("div");this.#n.append(l),l.classList.add("resizer",a),l.setAttribute("data-resizer-name",a),l.addEventListener("pointerdown",this.#v.bind(this,a),{signal:n}),l.addEventListener("contextmenu",Fe,{signal:n}),l.tabIndex=-1}this.div.prepend(this.#n)}#v(t,n){n.preventDefault();const{isMac:a}=ze.platform;if(n.button!==0||n.ctrlKey&&a)return;this.#i?.toggle(!1);const l=this.#C.bind(this,t),o=this._isDraggable;this._isDraggable=!1;const c=this._uiManager._signal,h={passive:!0,capture:!0,signal:c};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",l,h),window.addEventListener("contextmenu",Fe,{signal:c});const d=this.x,g=this.y,m=this.width,v=this.height,b=this.parent.div.style.cursor,A=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const _=()=>{this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",_),window.removeEventListener("blur",_),window.removeEventListener("pointermove",l,h),window.removeEventListener("contextmenu",Fe),this.parent.div.style.cursor=b,this.div.style.cursor=A,this.#S(d,g,m,v)};window.addEventListener("pointerup",_,{signal:c}),window.addEventListener("blur",_,{signal:c})}#S(t,n,a,l){const o=this.x,c=this.y,h=this.width,d=this.height;o===t&&c===n&&h===a&&d===l||this.addCommands({cmd:()=>{this.width=h,this.height=d,this.x=o,this.y=c;const[g,m]=this.parentDimensions;this.setDims(g*h,m*d),this.fixAndSetPosition()},undo:()=>{this.width=a,this.height=l,this.x=t,this.y=n;const[g,m]=this.parentDimensions;this.setDims(g*a,m*l),this.fixAndSetPosition()},mustExec:!0})}#C(t,n){const[a,l]=this.parentDimensions,o=this.x,c=this.y,h=this.width,d=this.height,g=ft.MIN_SIZE/a,m=ft.MIN_SIZE/l,v=z=>Math.round(z*1e4)/1e4,b=this.#T(this.rotation),A=(z,V)=>[b[0]*z+b[2]*V,b[1]*z+b[3]*V],_=this.#T(360-this.rotation),E=(z,V)=>[_[0]*z+_[2]*V,_[1]*z+_[3]*V];let x,w,P=!1,U=!1;switch(t){case"topLeft":P=!0,x=(z,V)=>[0,0],w=(z,V)=>[z,V];break;case"topMiddle":x=(z,V)=>[z/2,0],w=(z,V)=>[z/2,V];break;case"topRight":P=!0,x=(z,V)=>[z,0],w=(z,V)=>[0,V];break;case"middleRight":U=!0,x=(z,V)=>[z,V/2],w=(z,V)=>[0,V/2];break;case"bottomRight":P=!0,x=(z,V)=>[z,V],w=(z,V)=>[0,0];break;case"bottomMiddle":x=(z,V)=>[z/2,V],w=(z,V)=>[z/2,0];break;case"bottomLeft":P=!0,x=(z,V)=>[0,V],w=(z,V)=>[z,0];break;case"middleLeft":U=!0,x=(z,V)=>[0,V/2],w=(z,V)=>[z,V/2];break}const H=x(h,d),F=w(h,d);let G=A(...F);const Y=v(o+G[0]),Q=v(c+G[1]);let $=1,it=1,[W,ht]=this.screenToPageTranslation(n.movementX,n.movementY);if([W,ht]=E(W/a,ht/l),P){const z=Math.hypot(h,d);$=it=Math.max(Math.min(Math.hypot(F[0]-H[0]-W,F[1]-H[1]-ht)/z,1/h,1/d),g/h,m/d)}else U?$=Math.max(g,Math.min(1,Math.abs(F[0]-H[0]-W)))/h:it=Math.max(m,Math.min(1,Math.abs(F[1]-H[1]-ht)))/d;const bt=v(h*$),gt=v(d*it);G=A(...w(bt,gt));const ot=Y-G[0],O=Q-G[1];this.width=bt,this.height=gt,this.x=ot,this.y=O,this.setDims(a*bt,l*gt),this.fixAndSetPosition()}altTextFinish(){this.#i?.finish()}async addEditToolbar(){return this.#h||this.#m?this.#h:(this.#h=new Lu(this),this.div.append(this.#h.render()),this.#i&&this.#h.addAltTextButton(await this.#i.render()),this.#h)}removeEditToolbar(){this.#h&&(this.#h.remove(),this.#h=null,this.#i?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#i||(Fn.initialize(ft._l10nPromise),this.#i=new Fn(this),this.#t&&(this.#i.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}hasAltText(){return!this.#i?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#s?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const t=this._uiManager._signal;this.div.addEventListener("focusin",this.#o,{signal:t}),this.div.addEventListener("focusout",this.#u,{signal:t});const[n,a]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*a/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/a).toFixed(2)}%`);const[l,o]=this.getInitialTranslation();return this.translate(l,o),bl(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:n}=ze.platform;if(t.button!==0||t.ctrlKey&&n){t.preventDefault();return}if(this.#c=!0,this._isDraggable){this.#O(t);return}this.#R(t)}#R(t){const{isMac:n}=ze.platform;t.ctrlKey&&!n||t.shiftKey||t.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#O(t){const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let a,l;const o=this._uiManager._signal;n&&(this.div.classList.add("moving"),a={passive:!0,capture:!0,signal:o},this.#g=t.clientX,this.#y=t.clientY,l=h=>{const{clientX:d,clientY:g}=h,[m,v]=this.screenToPageTranslation(d-this.#g,g-this.#y);this.#g=d,this.#y=g,this._uiManager.dragSelectedEditors(m,v)},window.addEventListener("pointermove",l,a));const c=()=>{window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),n&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",l,a)),this.#c=!1,this._uiManager.endDragSession()||this.#R(t)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,n,a){t.changeParent(this),this.x=n,this.y=a,this.fixAndSetPosition()}getRect(t,n,a=this.rotation){const l=this.parentScale,[o,c]=this.pageDimensions,[h,d]=this.pageTranslation,g=t/l,m=n/l,v=this.x*o,b=this.y*c,A=this.width*o,_=this.height*c;switch(a){case 0:return[v+g+h,c-b-m-_+d,v+g+A+h,c-b-m+d];case 90:return[v+m+h,c-b+g+d,v+m+_+h,c-b+g+A+d];case 180:return[v-g-A+h,c-b+m+d,v-g+h,c-b+m+_+d];case 270:return[v-m-_+h,c-b-g-A+d,v-m+h,c-b-g+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,n){const[a,l,o,c]=t,h=o-a,d=c-l;switch(this.rotation){case 0:return[a,n-c,h,d];case 90:return[a,n-l,d,h];case 180:return[o,n-l,h,d];case 270:return[o,n-c,d,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#m=!0}disableEditMode(){this.#m=!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#d}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){const t=this._uiManager._signal;this.div?.addEventListener("focusin",this.#o,{signal:t}),this.div?.addEventListener("focusout",this.#u,{signal:t})}rotate(t){}serialize(t=!1,n=null){zt("An editor must be serializable")}static deserialize(t,n,a){const l=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:a});l.rotation=t.rotation,l.#t=t.accessibilityData;const[o,c]=l.pageDimensions,[h,d,g,m]=l.getRectInCurrentCoords(t.rect,c);return l.x=h/o,l.y=d/c,l.width=g/o,l.height=m/c,l}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",this.#o),this.div.removeEventListener("focusout",this.#u),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#k(),this.removeEditToolbar(),this.#_){for(const t of this.#_.values())clearTimeout(t);this.#_=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#A(),this.#n.classList.remove("hidden"),bl(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#a={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#n.children;if(!this.#e){this.#e=Array.from(n);const c=this.#L.bind(this),h=this.#P.bind(this),d=this._uiManager._signal;for(const g of this.#e){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",c,{signal:d}),g.addEventListener("blur",h,{signal:d}),g.addEventListener("focus",this.#N.bind(this,m),{signal:d}),ft._l10nPromise.get(`pdfjs-editor-resizer-label-${m}`).then(v=>g.setAttribute("aria-label",v))}}const a=this.#e[0];let l=0;for(const c of n){if(c===a)break;l++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==l){if(o<l)for(let h=0;h<l-o;h++)this.#n.append(this.#n.firstChild);else if(o>l)for(let h=0;h<o-l;h++)this.#n.firstChild.before(this.#n.lastChild);let c=0;for(const h of n){const g=this.#e[c++].getAttribute("data-resizer-name");ft._l10nPromise.get(`pdfjs-editor-resizer-label-${g}`).then(m=>h.setAttribute("aria-label",m))}}this.#H(0),this.#d=!0,this.#n.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#L(t){ft._resizerKeyboardManager.exec(this,t)}#P(t){this.#d&&t.relatedTarget?.parentNode!==this.#n&&this.#k()}#N(t){this.#f=this.#d?t:""}#H(t){if(this.#e)for(const n of this.#e)n.tabIndex=t}_resizeWithKeyboard(t,n){this.#d&&this.#C(this.#f,{movementX:t,movementY:n})}#k(){if(this.#d=!1,this.#H(-1),this.#a){const{savedX:t,savedY:n,savedWidth:a,savedHeight:l}=this.#a;this.#S(t,n,a,l),this.#a=null}}_stopResizingWithKeyboard(){this.#k(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this.#h){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#h?.show()});return}this.#h?.show()}unselect(){this.#n?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#h?.hide()}updateParams(t,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,n){this.#l=!0;const a=t/n,{style:l}=this.div;l.aspectRatio=a,l.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,n=!1){if(n){this.#_||=new Map;const{action:a}=t;let l=this.#_.get(a);l&&clearTimeout(l),l=setTimeout(()=>{this._reportTelemetry(t),this.#_.delete(a),this.#_.size===0&&(this.#_=null)},ft._telemetryTimeout),this.#_.set(a,l);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}renderAnnotationElement(t){let n=t.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),t.container.prepend(n);else if(n.nodeName==="CANVAS"){const a=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),a.before(n)}return n}resetAnnotationElement(t){const{firstChild:n}=t.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class ay extends ft{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Vp=3285377520,ni=4294901760,mi=65535;class Tg{constructor(t){this.h1=t?t&4294967295:Vp,this.h2=t?t&4294967295:Vp}update(t){let n,a;if(typeof t=="string"){n=new Uint8Array(t.length*2),a=0;for(let E=0,x=t.length;E<x;E++){const w=t.charCodeAt(E);w<=255?n[a++]=w:(n[a++]=w>>>8,n[a++]=w&255)}}else if(ArrayBuffer.isView(t))n=t.slice(),a=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const l=a>>2,o=a-l*4,c=new Uint32Array(n.buffer,0,l);let h=0,d=0,g=this.h1,m=this.h2;const v=3432918353,b=461845907,A=v&mi,_=b&mi;for(let E=0;E<l;E++)E&1?(h=c[E],h=h*v&ni|h*A&mi,h=h<<15|h>>>17,h=h*b&ni|h*_&mi,g^=h,g=g<<13|g>>>19,g=g*5+3864292196):(d=c[E],d=d*v&ni|d*A&mi,d=d<<15|d>>>17,d=d*b&ni|d*_&mi,m^=d,m=m<<13|m>>>19,m=m*5+3864292196);switch(h=0,o){case 3:h^=n[l*4+2]<<16;case 2:h^=n[l*4+1]<<8;case 1:h^=n[l*4],h=h*v&ni|h*A&mi,h=h<<15|h>>>17,h=h*b&ni|h*_&mi,l&1?g^=h:m^=h}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,n=this.h2;return t^=n>>>1,t=t*3981806797&ni|t*36045&mi,n=n*4283543511&ni|((n<<16|t>>>16)*2950163797&ni)>>>16,t^=n>>>1,t=t*444984403&ni|t*60499&mi,n=n*3301882366&ni|((n<<16|t>>>16)*3120437893&ni)>>>16,t^=n>>>1,(t>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const pu=Object.freeze({map:null,hash:"",transfer:void 0});class ku{#t=!1;#e=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,n){const a=this.#e.get(t);return a===void 0?n:Object.assign(n,a)}getRawValue(t){return this.#e.get(t)}remove(t){if(this.#e.delete(t),this.#e.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of this.#e.values())if(n instanceof ft)return;this.onAnnotationEditor(null)}}setValue(t,n){const a=this.#e.get(t);let l=!1;if(a!==void 0)for(const[o,c]of Object.entries(n))a[o]!==c&&(l=!0,a[o]=c);else l=!0,this.#e.set(t,n);l&&this.#i(),n instanceof ft&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(t){return this.#e.has(t)}getAll(){return this.#e.size>0?Tu(this.#e):null}setAll(t){for(const[n,a]of Object.entries(t))this.setValue(n,a)}get size(){return this.#e.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new wg(this)}get serializable(){if(this.#e.size===0)return pu;const t=new Map,n=new Tg,a=[],l=Object.create(null);let o=!1;for(const[c,h]of this.#e){const d=h instanceof ft?h.serialize(!1,l):h;d&&(t.set(c,d),n.update(`${c}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const c of t.values())c.bitmap&&a.push(c.bitmap);return t.size>0?{map:t,hash:n.hexdigest(),transfer:a}:pu}get editorStats(){let t=null;const n=new Map;for(const a of this.#e.values()){if(!(a instanceof ft))continue;const l=a.telemetryFinalData;if(!l)continue;const{type:o}=l;n.has(o)||n.set(o,Object.getPrototypeOf(a).constructor),t||=Object.create(null);const c=t[o]||=new Map;for(const[h,d]of Object.entries(l)){if(h==="type")continue;let g=c.get(h);g||(g=new Map,c.set(h,g));const m=g.get(d)??0;g.set(d,m+1)}}for(const[a,l]of n)t[a]=l.computeTelemetryFinalData(t[a]);return t}}class wg extends ku{#t;constructor(t){super();const{map:n,hash:a,transfer:l}=t.serializable,o=structuredClone(n,l?{transfer:l}:null);this.#t={map:o,hash:a,transfer:l}}get print(){zt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}}class ry{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:n=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(oe(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:l,style:o}=t,c=new FontFace(a,l,o);this.addNativeFontFace(c);try{await c.load(),this.#t.add(a),n?.(t)}catch{Et(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}zt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const a=t.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(l){throw Et(`Failed to load font '${a.family}': '${l}'.`),t.disableFontFace=!0,l}}return}const n=t.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const l=this._queueLoadingCallback(a);this._prepareFontLoadEvent(t,l)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Rt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Ce||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Rt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function n(){for(oe(!l.done,"completeRequest() cannot be called twice."),l.done=!0;a.length>0&&a[0].done;){const o=a.shift();setTimeout(o.callback,0)}}const{loadingRequests:a}=this,l={done:!1,complete:n,callback:t};return a.push(l),l}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Rt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,n){function a(H,F){return H.charCodeAt(F)<<24|H.charCodeAt(F+1)<<16|H.charCodeAt(F+2)<<8|H.charCodeAt(F+3)&255}function l(H,F,G,Y){const Q=H.substring(0,F),$=H.substring(F+G);return Q+Y+$}let o,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let g=0;function m(H,F){if(++g>30){Et("Load test font never loaded."),F();return}if(d.font="30px "+H,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(m.bind(null,H,F))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=l(b,976,v.length,v);const _=16,E=1482184792;let x=a(b,_);for(o=0,c=v.length-3;o<c;o+=4)x=x-E+a(v,o)|0;o<v.length&&(x=x-E+a(v+"XXX",o)|0),b=l(b,_,4,qb(x));const w=`url(data:font/opentype;base64,${btoa(b)});`,P=`@font-face {font-family:"${v}";src:${w}}`;this.insertRule(P);const U=this._document.createElement("div");U.style.visibility="hidden",U.style.width=U.style.height="10px",U.style.position="absolute",U.style.top=U.style.left="0px";for(const H of[t.loadedName,v]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=H,U.append(F)}this._document.body.append(U),m(v,()=>{U.remove(),n.complete()})}}class ly{constructor(t,{disableFontFace:n=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const l in t)this[l]=t[l];this.disableFontFace=n===!0,this._inspectFont=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=bg(this.data),n=`url(data:${this.mimetype};base64,${btoa(t)});`;let a;if(!this.cssFontInfo)a=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let l=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(l+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),a=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${l}src:${n}}`}return this._inspectFont?.(this,n),a}getPathGenerator(t,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let a;try{a=t.get(this.loadedName+"_path_"+n)}catch(o){Et(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(a)||a.length===0)return this.compiledGlyphs[n]=function(o,c){};const l=[];for(let o=0,c=a.length;o<c;)switch(a[o++]){case zi.BEZIER_CURVE_TO:{const[h,d,g,m,v,b]=a.slice(o,o+6);l.push(A=>A.bezierCurveTo(h,d,g,m,v,b)),o+=6}break;case zi.MOVE_TO:{const[h,d]=a.slice(o,o+2);l.push(g=>g.moveTo(h,d)),o+=2}break;case zi.LINE_TO:{const[h,d]=a.slice(o,o+2);l.push(g=>g.lineTo(h,d)),o+=2}break;case zi.QUADRATIC_CURVE_TO:{const[h,d,g,m]=a.slice(o,o+4);l.push(v=>v.quadraticCurveTo(h,d,g,m)),o+=4}break;case zi.RESTORE:l.push(h=>h.restore());break;case zi.SAVE:l.push(h=>h.save());break;case zi.SCALE:oe(l.length===2,"Scale command is only valid at the third position.");break;case zi.TRANSFORM:{const[h,d,g,m,v,b]=a.slice(o,o+6);l.push(A=>A.transform(h,d,g,m,v,b)),o+=6}break;case zi.TRANSLATE:{const[h,d]=a.slice(o,o+2);l.push(g=>g.translate(h,d)),o+=2}break}return this.compiledGlyphs[n]=function(c,h){l[0](c),l[1](c),c.scale(h,-h);for(let d=2,g=l.length;d<g;d++)l[d](c)}}}if(Ce){var gu=Promise.withResolvers(),mu=null;(async()=>{const t=await hl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await hl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await hl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),l=await hl(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:t,http:n,https:a,url:l,canvas:o,path2d:c}))})().then(t=>{mu=t,gu.resolve()},t=>{Et(`loadPackages: ${t}`),mu=new Map,gu.resolve()})}class yi{static get promise(){return gu.promise}static get(t){return mu?.get(t)}}const xg=function(p){return yi.get("fs").promises.readFile(p).then(n=>new Uint8Array(n))};class oy extends xl{}class cy extends Cl{_createCanvas(t,n){return yi.get("canvas").createCanvas(t,n)}}class uy extends Rl{_fetchData(t,n){return xg(t).then(a=>({cMapData:a,compressionType:n}))}}class hy extends Ml{_fetchData(t){return xg(t)}}const Me={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function vu(p,t){if(!t)return;const n=t[2]-t[0],a=t[3]-t[1],l=new Path2D;l.rect(t[0],t[1],n,a),p.clip(l)}class Xa{constructor(){this.constructor===Xa&&zt("Cannot initialize BaseShadingPattern.")}getPattern(){zt("Abstract method `getPattern` called.")}}class dy extends Xa{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let n;this._type==="axial"?n=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)n.addColorStop(a[0],a[1]);return n}getPattern(t,n,a,l){let o;if(l===Me.STROKE||l===Me.FILL){const c=n.current.getClippedPathBoundingBox(l,Vt(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,g=n.cachedCanvases.getCanvas("pattern",h,d,!0),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),a=st.transform(a,[1,0,0,1,c[0],c[1]]),m.transform(...n.baseTransform),this.matrix&&m.transform(...this.matrix),vu(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(g.canvas,"no-repeat");const v=new DOMMatrix(a);o.setTransform(v)}else vu(t,this._bbox),o=this._createGradient(t);return o}}function ru(p,t,n,a,l,o,c,h){const d=t.coords,g=t.colors,m=p.data,v=p.width*4;let b;d[n+1]>d[a+1]&&(b=n,n=a,a=b,b=o,o=c,c=b),d[a+1]>d[l+1]&&(b=a,a=l,l=b,b=c,c=h,h=b),d[n+1]>d[a+1]&&(b=n,n=a,a=b,b=o,o=c,c=b);const A=(d[n]+t.offsetX)*t.scaleX,_=(d[n+1]+t.offsetY)*t.scaleY,E=(d[a]+t.offsetX)*t.scaleX,x=(d[a+1]+t.offsetY)*t.scaleY,w=(d[l]+t.offsetX)*t.scaleX,P=(d[l+1]+t.offsetY)*t.scaleY;if(_>=P)return;const U=g[o],H=g[o+1],F=g[o+2],G=g[c],Y=g[c+1],Q=g[c+2],$=g[h],it=g[h+1],W=g[h+2],ht=Math.round(_),bt=Math.round(P);let gt,ot,O,z,V,mt,C,q;for(let K=ht;K<=bt;K++){if(K<x){const yt=K<_?0:(_-K)/(_-x);gt=A-(A-E)*yt,ot=U-(U-G)*yt,O=H-(H-Y)*yt,z=F-(F-Q)*yt}else{let yt;K>P?yt=1:x===P?yt=0:yt=(x-K)/(x-P),gt=E-(E-w)*yt,ot=G-(G-$)*yt,O=Y-(Y-it)*yt,z=Q-(Q-W)*yt}let X;K<_?X=0:K>P?X=1:X=(_-K)/(_-P),V=A-(A-w)*X,mt=U-(U-$)*X,C=H-(H-it)*X,q=F-(F-W)*X;const tt=Math.round(Math.min(gt,V)),dt=Math.round(Math.max(gt,V));let nt=v*K+tt*4;for(let yt=tt;yt<=dt;yt++)X=(gt-yt)/(gt-V),X<0?X=0:X>1&&(X=1),m[nt++]=ot-(ot-mt)*X|0,m[nt++]=O-(O-C)*X|0,m[nt++]=z-(z-q)*X|0,m[nt++]=255}}function fy(p,t,n){const a=t.coords,l=t.colors;let o,c;switch(t.type){case"lattice":const h=t.verticesPerRow,d=Math.floor(a.length/h)-1,g=h-1;for(o=0;o<d;o++){let m=o*h;for(let v=0;v<g;v++,m++)ru(p,n,a[m],a[m+1],a[m+h],l[m],l[m+1],l[m+h]),ru(p,n,a[m+h+1],a[m+1],a[m+h],l[m+h+1],l[m+1],l[m+h])}break;case"triangles":for(o=0,c=a.length;o<c;o+=3)ru(p,n,a[o],a[o+1],a[o+2],l[o],l[o+1],l[o+2]);break;default:throw new Error("illegal figure")}}class py extends Xa{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,n,a){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-h,m=Math.ceil(this._bounds[3])-d,v=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=g/v,_=m/b,E={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/A,scaleY:1/_},x=v+4,w=b+4,P=a.getCanvas("mesh",x,w,!1),U=P.context,H=U.createImageData(v,b);if(n){const G=H.data;for(let Y=0,Q=G.length;Y<Q;Y+=4)G[Y]=n[0],G[Y+1]=n[1],G[Y+2]=n[2],G[Y+3]=255}for(const G of this._figures)fy(H,G,E);return U.putImageData(H,2,2),{canvas:P.canvas,offsetX:h-2*A,offsetY:d-2*_,scaleX:A,scaleY:_}}getPattern(t,n,a,l){vu(t,this._bbox);let o;if(l===Me.SHADING)o=st.singularValueDecompose2dScale(Vt(t));else if(o=st.singularValueDecompose2dScale(n.baseTransform),this.matrix){const h=st.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const c=this._createMeshCanvas(o,l===Me.SHADING?null:this._background,n.cachedCanvases);return l!==Me.SHADING&&(t.setTransform(...n.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class gy extends Xa{getPattern(){return"hotpink"}}function my(p){switch(p[0]){case"RadialAxial":return new dy(p);case"Mesh":return new py(p);case"Dummy":return new gy}throw new Error(`Unknown IR type: ${p[0]}`)}const Xp={COLORED:1,UNCOLORED:2};class Pu{static MAX_PATTERN_SIZE=3e3;constructor(t,n,a,l,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=n,this.ctx=a,this.canvasGraphicsFactory=l,this.baseTransform=o}createPatternCanvas(t){const n=this.operatorList,a=this.bbox,l=this.xstep,o=this.ystep,c=this.paintType,h=this.tilingType,d=this.color,g=this.canvasGraphicsFactory;El("TilingType: "+h);const m=a[0],v=a[1],b=a[2],A=a[3],_=st.singularValueDecompose2dScale(this.matrix),E=st.singularValueDecompose2dScale(this.baseTransform),x=[_[0]*E[0],_[1]*E[1]],w=this.getSizeAndScale(l,this.ctx.canvas.width,x[0]),P=this.getSizeAndScale(o,this.ctx.canvas.height,x[1]),U=t.cachedCanvases.getCanvas("pattern",w.size,P.size,!0),H=U.context,F=g.createCanvasGraphics(H);F.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(F,c,d);let G=m,Y=v,Q=b,$=A;return m<0&&(G=0,Q+=Math.abs(m)),v<0&&(Y=0,$+=Math.abs(v)),H.translate(-(w.scale*G),-(P.scale*Y)),F.transform(w.scale,0,0,P.scale,0,0),H.save(),this.clipBbox(F,G,Y,Q,$),F.baseTransform=Vt(F.ctx),F.executeOperatorList(n),F.endDrawing(),{canvas:U.canvas,scaleX:w.scale,scaleY:P.scale,offsetX:G,offsetY:Y}}getSizeAndScale(t,n,a){t=Math.abs(t);const l=Math.max(Pu.MAX_PATTERN_SIZE,n);let o=Math.ceil(t*a);return o>=l?o=l:a=o/t,{scale:a,size:o}}clipBbox(t,n,a,l,o){const c=l-n,h=o-a;t.ctx.rect(n,a,c,h),t.current.updateRectMinMax(Vt(t.ctx),[n,a,l,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,n,a){const l=t.ctx,o=t.current;switch(n){case Xp.COLORED:const c=this.ctx;l.fillStyle=c.fillStyle,l.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case Xp.UNCOLORED:const h=st.makeHexColor(a[0],a[1],a[2]);l.fillStyle=h,l.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new Ib(`Unsupported paint type: ${n}`)}}getPattern(t,n,a,l){let o=a;l!==Me.SHADING&&(o=st.transform(o,n.baseTransform),this.matrix&&(o=st.transform(o,this.matrix)));const c=this.createPatternCanvas(n);let h=new DOMMatrix(o);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(h),d}}function vy({src:p,srcPos:t=0,dest:n,width:a,height:l,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const h=ze.isLittleEndian?4278190080:255,[d,g]=c?[o,h]:[h,o],m=a>>3,v=a&7,b=p.length;n=new Uint32Array(n.buffer);let A=0;for(let _=0;_<l;_++){for(const x=t+m;t<x;t++){const w=t<b?p[t]:255;n[A++]=w&128?g:d,n[A++]=w&64?g:d,n[A++]=w&32?g:d,n[A++]=w&16?g:d,n[A++]=w&8?g:d,n[A++]=w&4?g:d,n[A++]=w&2?g:d,n[A++]=w&1?g:d}if(v===0)continue;const E=t<b?p[t++]:255;for(let x=0;x<v;x++)n[A++]=E&1<<7-x?g:d}return{srcPos:t,destPos:A}}const Yp=16,Kp=100,by=15,Qp=10,$p=1e3,He=16;function yy(p,t){if(p._removeMirroring)throw new Error("Context is already forwarding operations.");p.__originalSave=p.save,p.__originalRestore=p.restore,p.__originalRotate=p.rotate,p.__originalScale=p.scale,p.__originalTranslate=p.translate,p.__originalTransform=p.transform,p.__originalSetTransform=p.setTransform,p.__originalResetTransform=p.resetTransform,p.__originalClip=p.clip,p.__originalMoveTo=p.moveTo,p.__originalLineTo=p.lineTo,p.__originalBezierCurveTo=p.bezierCurveTo,p.__originalRect=p.rect,p.__originalClosePath=p.closePath,p.__originalBeginPath=p.beginPath,p._removeMirroring=()=>{p.save=p.__originalSave,p.restore=p.__originalRestore,p.rotate=p.__originalRotate,p.scale=p.__originalScale,p.translate=p.__originalTranslate,p.transform=p.__originalTransform,p.setTransform=p.__originalSetTransform,p.resetTransform=p.__originalResetTransform,p.clip=p.__originalClip,p.moveTo=p.__originalMoveTo,p.lineTo=p.__originalLineTo,p.bezierCurveTo=p.__originalBezierCurveTo,p.rect=p.__originalRect,p.closePath=p.__originalClosePath,p.beginPath=p.__originalBeginPath,delete p._removeMirroring},p.save=function(){t.save(),this.__originalSave()},p.restore=function(){t.restore(),this.__originalRestore()},p.translate=function(a,l){t.translate(a,l),this.__originalTranslate(a,l)},p.scale=function(a,l){t.scale(a,l),this.__originalScale(a,l)},p.transform=function(a,l,o,c,h,d){t.transform(a,l,o,c,h,d),this.__originalTransform(a,l,o,c,h,d)},p.setTransform=function(a,l,o,c,h,d){t.setTransform(a,l,o,c,h,d),this.__originalSetTransform(a,l,o,c,h,d)},p.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},p.rotate=function(a){t.rotate(a),this.__originalRotate(a)},p.clip=function(a){t.clip(a),this.__originalClip(a)},p.moveTo=function(n,a){t.moveTo(n,a),this.__originalMoveTo(n,a)},p.lineTo=function(n,a){t.lineTo(n,a),this.__originalLineTo(n,a)},p.bezierCurveTo=function(n,a,l,o,c,h){t.bezierCurveTo(n,a,l,o,c,h),this.__originalBezierCurveTo(n,a,l,o,c,h)},p.rect=function(n,a,l,o){t.rect(n,a,l,o),this.__originalRect(n,a,l,o)},p.closePath=function(){t.closePath(),this.__originalClosePath()},p.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Ay{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,n,a){let l;return this.cache[t]!==void 0?(l=this.cache[t],this.canvasFactory.reset(l,n,a)):(l=this.canvasFactory.create(n,a),this.cache[t]=l),l}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const n=this.cache[t];this.canvasFactory.destroy(n),delete this.cache[t]}}}function dl(p,t,n,a,l,o,c,h,d,g){const[m,v,b,A,_,E]=Vt(p);if(v===0&&b===0){const P=c*m+_,U=Math.round(P),H=h*A+E,F=Math.round(H),G=(c+d)*m+_,Y=Math.abs(Math.round(G)-U)||1,Q=(h+g)*A+E,$=Math.abs(Math.round(Q)-F)||1;return p.setTransform(Math.sign(m),0,0,Math.sign(A),U,F),p.drawImage(t,n,a,l,o,0,0,Y,$),p.setTransform(m,v,b,A,_,E),[Y,$]}if(m===0&&A===0){const P=h*b+_,U=Math.round(P),H=c*v+E,F=Math.round(H),G=(h+g)*b+_,Y=Math.abs(Math.round(G)-U)||1,Q=(c+d)*v+E,$=Math.abs(Math.round(Q)-F)||1;return p.setTransform(0,Math.sign(v),Math.sign(b),0,U,F),p.drawImage(t,n,a,l,o,0,0,$,Y),p.setTransform(m,v,b,A,_,E),[$,Y]}p.drawImage(t,n,a,l,o,c,h,d,g);const x=Math.hypot(m,v),w=Math.hypot(b,A);return[x*d,w*g]}function _y(p){const{width:t,height:n}=p;if(t>$p||n>$p)return null;const a=1e3,l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let c=new Uint8Array(o*(n+1)),h,d,g;const m=t+7&-8;let v=new Uint8Array(m*n),b=0;for(const w of p.data){let P=128;for(;P>0;)v[b++]=w&P?0:255,P>>=1}let A=0;for(b=0,v[b]!==0&&(c[0]=1,++A),d=1;d<t;d++)v[b]!==v[b+1]&&(c[d]=v[b]?2:1,++A),b++;for(v[b]!==0&&(c[d]=2,++A),h=1;h<n;h++){b=h*m,g=h*o,v[b-m]!==v[b]&&(c[g]=v[b]?1:8,++A);let w=(v[b]?4:0)+(v[b-m]?8:0);for(d=1;d<t;d++)w=(w>>2)+(v[b+1]?4:0)+(v[b-m+1]?8:0),l[w]&&(c[g+d]=l[w],++A),b++;if(v[b-m]!==v[b]&&(c[g+d]=v[b]?2:4,++A),A>a)return null}for(b=m*(n-1),g=h*o,v[b]!==0&&(c[g]=8,++A),d=1;d<t;d++)v[b]!==v[b+1]&&(c[g+d]=v[b]?4:8,++A),b++;if(v[b]!==0&&(c[g+d]=4,++A),A>a)return null;const _=new Int32Array([0,o,-1,0,-o,0,0,0,1]),E=new Path2D;for(h=0;A&&h<=n;h++){let w=h*o;const P=w+t;for(;w<P&&!c[w];)w++;if(w===P)continue;E.moveTo(w%o,h);const U=w;let H=c[w];do{const F=_[H];do w+=F;while(!c[w]);const G=c[w];G!==5&&G!==10?(H=G,c[w]=0):(H=G&51*H>>4,c[w]&=H>>2|H<<2),E.lineTo(w%o,w/o|0),c[w]||--A}while(U!==w);--h}return v=null,c=null,function(w){w.save(),w.scale(1/t,-1/n),w.translate(0,-n),w.fill(E),w.beginPath(),w.restore()}}class Zp{constructor(t,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=mg,this.textMatrixScale=1,this.fontMatrix=uu,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Te.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,n])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,n){this.x=t,this.y=n}updatePathMinMax(t,n,a){[n,a]=st.applyTransform([n,a],t),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(t,n){const a=st.applyTransform(n,t),l=st.applyTransform(n.slice(2),t),o=st.applyTransform([n[0],n[3]],t),c=st.applyTransform([n[2],n[1]],t);this.minX=Math.min(this.minX,a[0],l[0],o[0],c[0]),this.minY=Math.min(this.minY,a[1],l[1],o[1],c[1]),this.maxX=Math.max(this.maxX,a[0],l[0],o[0],c[0]),this.maxY=Math.max(this.maxY,a[1],l[1],o[1],c[1])}updateScalingPathMinMax(t,n){st.scaleMinMax(t,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(t,n,a,l,o,c,h,d,g,m){const v=st.bezierBoundingBox(n,a,l,o,c,h,d,g,m);m||this.updateRectMinMax(t,v)}getPathBoundingBox(t=Me.FILL,n=null){const a=[this.minX,this.minY,this.maxX,this.maxY];if(t===Me.STROKE){n||zt("Stroke bounding box must include transform.");const l=st.singularValueDecompose2dScale(n),o=l[0]*this.lineWidth/2,c=l[1]*this.lineWidth/2;a[0]-=o,a[1]-=c,a[2]+=o,a[3]+=c}return a}updateClipFromPath(){const t=st.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Me.FILL,n=null){return st.intersect(this.clipBox,this.getPathBoundingBox(t,n))}}function Wp(p,t){if(typeof ImageData<"u"&&t instanceof ImageData){p.putImageData(t,0,0);return}const n=t.height,a=t.width,l=n%He,o=(n-l)/He,c=l===0?o:o+1,h=p.createImageData(a,He);let d=0,g;const m=t.data,v=h.data;let b,A,_,E;if(t.kind===vl.GRAYSCALE_1BPP){const x=m.byteLength,w=new Uint32Array(v.buffer,0,v.byteLength>>2),P=w.length,U=a+7>>3,H=4294967295,F=ze.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(_=b<o?He:l,g=0,A=0;A<_;A++){const G=x-d;let Y=0;const Q=G>U?a:G*8-7,$=Q&-8;let it=0,W=0;for(;Y<$;Y+=8)W=m[d++],w[g++]=W&128?H:F,w[g++]=W&64?H:F,w[g++]=W&32?H:F,w[g++]=W&16?H:F,w[g++]=W&8?H:F,w[g++]=W&4?H:F,w[g++]=W&2?H:F,w[g++]=W&1?H:F;for(;Y<Q;Y++)it===0&&(W=m[d++],it=128),w[g++]=W&it?H:F,it>>=1}for(;g<P;)w[g++]=0;p.putImageData(h,0,b*He)}}else if(t.kind===vl.RGBA_32BPP){for(A=0,E=a*He*4,b=0;b<o;b++)v.set(m.subarray(d,d+E)),d+=E,p.putImageData(h,0,A),A+=He;b<c&&(E=a*l*4,v.set(m.subarray(d,d+E)),p.putImageData(h,0,A))}else if(t.kind===vl.RGB_24BPP)for(_=He,E=a*_,b=0;b<c;b++){for(b>=o&&(_=l,E=a*_),g=0,A=E;A--;)v[g++]=m[d++],v[g++]=m[d++],v[g++]=m[d++],v[g++]=255;p.putImageData(h,0,b*He)}else throw new Error(`bad image kind: ${t.kind}`)}function Jp(p,t){if(t.bitmap){p.drawImage(t.bitmap,0,0);return}const n=t.height,a=t.width,l=n%He,o=(n-l)/He,c=l===0?o:o+1,h=p.createImageData(a,He);let d=0;const g=t.data,m=h.data;for(let v=0;v<c;v++){const b=v<o?He:l;({srcPos:d}=vy({src:g,srcPos:d,dest:m,width:a,height:b,nonBlackColor:0})),p.putImageData(h,0,v*He)}}function za(p,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of n)p[a]!==void 0&&(t[a]=p[a]);p.setLineDash!==void 0&&(t.setLineDash(p.getLineDash()),t.lineDashOffset=p.lineDashOffset)}function fl(p){if(p.strokeStyle=p.fillStyle="#000000",p.fillRule="nonzero",p.globalAlpha=1,p.lineWidth=1,p.lineCap="butt",p.lineJoin="miter",p.miterLimit=10,p.globalCompositeOperation="source-over",p.font="10px sans-serif",p.setLineDash!==void 0&&(p.setLineDash([]),p.lineDashOffset=0),!Ce){const{filter:t}=p;t!=="none"&&t!==""&&(p.filter="none")}}function tg(p,t){if(t)return!0;const n=st.singularValueDecompose2dScale(p);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*Ps.PDF_TO_CSS_UNITS);return n[0]<=a&&n[1]<=a}const Sy=["butt","round","square"],Ey=["miter","round","bevel"],Ty={},eg={};class Os{constructor(t,n,a,l,o,{optionalContentConfig:c,markedContentStack:h=null},d,g){this.ctx=t,this.current=new Zp(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=a,this.canvasFactory=l,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new Ay(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,n=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):n}beginDrawing({transform:t,viewport:n,transparency:a=!1,background:l=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=l||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=h,a){const d=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Vt(this.compositeCtx))}this.ctx.save(),fl(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Vt(this.ctx)}executeOperatorList(t,n,a,l){const o=t.argsArray,c=t.fnArray;let h=n||0;const d=o.length;if(d===h)return h;const g=d-h>Qp&&typeof a=="function",m=g?Date.now()+by:0;let v=0;const b=this.commonObjs,A=this.objs;let _;for(;;){if(l!==void 0&&h===l.nextBreakPoint)return l.breakIt(h,a),h;if(_=c[h],_!==ci.dependency)this[_].apply(this,o[h]);else for(const E of o[h]){const x=E.startsWith("g_")?b:A;if(!x.has(E))return x.get(E,a),h}if(h++,h===d)return h;if(g&&++v>Qp){if(Date.now()>m)return a(),h;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const n of t.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const n=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(t,n){const a=t.width,l=t.height;let o=Math.max(Math.hypot(n[0],n[1]),1),c=Math.max(Math.hypot(n[2],n[3]),1),h=a,d=l,g="prescale1",m,v;for(;o>2&&h>1||c>2&&d>1;){let b=h,A=d;o>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/b),c>2&&d>1&&(A=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/A),m=this.cachedCanvases.getCanvas(g,b,A),v=m.context,v.clearRect(0,0,b,A),v.drawImage(t,0,0,h,d,0,0,b,A),t=m.canvas,h=b,d=A,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t){const n=this.ctx,{width:a,height:l}=t,o=this.current.fillColor,c=this.current.patternFill,h=Vt(n);let d,g,m,v;if((t.bitmap||t.data)&&t.count>1){const Q=t.bitmap||t.data.buffer;g=JSON.stringify(c?h:[h.slice(0,4),o]),d=this._cachedBitmapsMap.get(Q),d||(d=new Map,this._cachedBitmapsMap.set(Q,d));const $=d.get(g);if($&&!c){const it=Math.round(Math.min(h[0],h[2])+h[4]),W=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:$,offsetX:it,offsetY:W}}m=$}m||(v=this.cachedCanvases.getCanvas("maskCanvas",a,l),Jp(v.context,t));let b=st.transform(h,[1/a,0,0,-1/l,0,0]);b=st.transform(b,[1,0,0,1,0,-l]);const[A,_,E,x]=st.getAxialAlignedBoundingBox([0,0,a,l],b),w=Math.round(E-A)||1,P=Math.round(x-_)||1,U=this.cachedCanvases.getCanvas("fillCanvas",w,P),H=U.context,F=A,G=_;H.translate(-F,-G),H.transform(...b),m||(m=this._scaleImage(v.canvas,Fi(H)),m=m.img,d&&c&&d.set(g,m)),H.imageSmoothingEnabled=tg(Vt(H),t.interpolate),dl(H,m,0,0,m.width,m.height,0,0,a,l),H.globalCompositeOperation="source-in";const Y=st.transform(Fi(H),[1,0,0,1,-F,-G]);return H.fillStyle=c?o.getPattern(n,this,Y,Me.FILL):o,H.fillRect(0,0,a,l),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(g,U.canvas)),{canvas:U.canvas,offsetX:Math.round(F),offsetY:Math.round(G)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Sy[t]}setLineJoin(t){this.ctx.lineJoin=Ey[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,n){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(t),a.lineDashOffset=n)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,a]of t)switch(n){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,l=this.cachedCanvases.getCanvas(a,t,n);this.suspendedCtx=this.ctx,this.ctx=l.context;const o=this.ctx;o.setTransform(...Vt(this.suspendedCtx)),za(this.suspendedCtx,o),yy(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),za(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,n,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,n,a,l){const o=l[0],c=l[1],h=l[2]-o,d=l[3]-c;h===0||d===0||(this.genericComposeSMask(n.context,a,h,d,n.subtype,n.backdrop,n.transferMap,o,c,n.offsetX,n.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(a.canvas,0,0),t.restore())}genericComposeSMask(t,n,a,l,o,c,h,d,g,m,v){let b=t.canvas,A=d-m,_=g-v;if(c){if(A<0||_<0||A+a>b.width||_+l>b.height){const x=this.cachedCanvases.getCanvas("maskExtension",a,l),w=x.context;w.drawImage(b,-A,-_),c.some(P=>P!==0)&&(w.globalCompositeOperation="destination-atop",w.fillStyle=st.makeHexColor(...c),w.fillRect(0,0,a,l),w.globalCompositeOperation="source-over"),b=x.canvas,A=_=0}else if(c.some(x=>x!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(A,_,a,l),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=st.makeHexColor(...c),t.fillRect(A,_,a,l),t.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?n.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(h));const E=new Path2D;E.rect(d,g,a,l),n.clip(E),n.globalCompositeOperation="destination-in",n.drawImage(b,A,_,a,l,d,g,a,l),n.restore()}save(){this.inSMaskMode?(za(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),za(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,n,a,l,o,c){this.ctx.transform(t,n,a,l,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,n,a){const l=this.ctx,o=this.current;let c=o.x,h=o.y,d,g;const m=Vt(l),v=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,b=v?a.slice(0):null;for(let A=0,_=0,E=t.length;A<E;A++)switch(t[A]|0){case ci.rectangle:c=n[_++],h=n[_++];const x=n[_++],w=n[_++],P=c+x,U=h+w;l.moveTo(c,h),x===0||w===0?l.lineTo(P,U):(l.lineTo(P,h),l.lineTo(P,U),l.lineTo(c,U)),v||o.updateRectMinMax(m,[c,h,P,U]),l.closePath();break;case ci.moveTo:c=n[_++],h=n[_++],l.moveTo(c,h),v||o.updatePathMinMax(m,c,h);break;case ci.lineTo:c=n[_++],h=n[_++],l.lineTo(c,h),v||o.updatePathMinMax(m,c,h);break;case ci.curveTo:d=c,g=h,c=n[_+4],h=n[_+5],l.bezierCurveTo(n[_],n[_+1],n[_+2],n[_+3],c,h),o.updateCurvePathMinMax(m,d,g,n[_],n[_+1],n[_+2],n[_+3],c,h,b),_+=6;break;case ci.curveTo2:d=c,g=h,l.bezierCurveTo(c,h,n[_],n[_+1],n[_+2],n[_+3]),o.updateCurvePathMinMax(m,d,g,c,h,n[_],n[_+1],n[_+2],n[_+3],b),c=n[_+2],h=n[_+3],_+=4;break;case ci.curveTo3:d=c,g=h,c=n[_+2],h=n[_+3],l.bezierCurveTo(n[_],n[_+1],c,h,c,h),o.updateCurvePathMinMax(m,d,g,n[_],n[_+1],c,h,c,h,b),_+=4;break;case ci.closePath:l.closePath();break}v&&o.updateScalingPathMinMax(m,b),o.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const n=this.ctx,a=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof a=="object"&&a?.getPattern?(n.save(),n.strokeStyle=a.getPattern(n,this,Fi(n),Me.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const n=this.ctx,a=this.current.fillColor,l=this.current.patternFill;let o=!1;l&&(n.save(),n.fillStyle=a.getPattern(n,this,Fi(n),Me.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),o&&n.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ty}eoClip(){this.pendingClip=eg}beginText(){this.current.textMatrix=mg,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,n=this.ctx;if(t===void 0){n.beginPath();return}n.save(),n.beginPath();for(const a of t)n.setTransform(...a.transform),n.translate(a.x,a.y),a.addToPath(n,a.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,n){const a=this.commonObjs.get(t),l=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(l.fontMatrix=a.fontMatrix||uu,(l.fontMatrix[0]===0||l.fontMatrix[3]===0)&&Et("Invalid font matrix for font "+t),n<0?(n=-n,l.fontDirection=-1):l.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const o=a.loadedName||"sans-serif",c=a.systemFontInfo?.css||`"${o}", ${a.fallbackName}`;let h="normal";a.black?h="900":a.bold&&(h="bold");const d=a.italic?"italic":"normal";let g=n;n<Yp?g=Yp:n>Kp&&(g=Kp),this.current.fontSizeScale=n/g,this.ctx.font=`${d} ${h} ${g}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,n){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}setTextMatrix(t,n,a,l,o,c){this.current.textMatrix=[t,n,a,l,o,c],this.current.textMatrixScale=Math.hypot(t,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,n,a,l){const o=this.ctx,c=this.current,h=c.font,d=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,m=d&Te.FILL_STROKE_MASK,v=!!(d&Te.ADD_TO_PATH_FLAG),b=c.patternFill&&!h.missingFile;let A;(h.disableFontFace||v||b)&&(A=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||b?(o.save(),o.translate(n,a),o.beginPath(),A(o,g),l&&o.setTransform(...l),(m===Te.FILL||m===Te.FILL_STROKE)&&o.fill(),(m===Te.STROKE||m===Te.FILL_STROKE)&&o.stroke(),o.restore()):((m===Te.FILL||m===Te.FILL_STROKE)&&o.fillText(t,n,a),(m===Te.STROKE||m===Te.FILL_STROKE)&&o.strokeText(t,n,a)),v&&(this.pendingTextPaths||=[]).push({transform:Vt(o),x:n,y:a,fontSize:g,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const n=t.getImageData(0,0,10,10).data;let a=!1;for(let l=3;l<n.length;l+=4)if(n[l]>0&&n[l]<255){a=!0;break}return Rt(this,"isFontSubpixelAAEnabled",a)}showText(t){const n=this.current,a=n.font;if(a.isType3Font)return this.showType3Text(t);const l=n.fontSize;if(l===0)return;const o=this.ctx,c=n.fontSizeScale,h=n.charSpacing,d=n.wordSpacing,g=n.fontDirection,m=n.textHScale*g,v=t.length,b=a.vertical,A=b?1:-1,_=a.defaultVMetrics,E=l*n.fontMatrix[0],x=n.textRenderingMode===Te.FILL&&!a.disableFontFace&&!n.patternFill;o.save(),o.transform(...n.textMatrix),o.translate(n.x,n.y+n.textRise),g>0?o.scale(m,-1):o.scale(m,1);let w;if(n.patternFill){o.save();const G=n.fillColor.getPattern(o,this,Fi(o),Me.FILL);w=Vt(o),o.restore(),o.fillStyle=G}let P=n.lineWidth;const U=n.textMatrixScale;if(U===0||P===0){const G=n.textRenderingMode&Te.FILL_STROKE_MASK;(G===Te.STROKE||G===Te.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=U;if(c!==1&&(o.scale(c,c),P/=c),o.lineWidth=P,a.isInvalidPDFjsFont){const G=[];let Y=0;for(const Q of t)G.push(Q.unicode),Y+=Q.width;o.fillText(G.join(""),0,0),n.x+=Y*E*m,o.restore(),this.compose();return}let H=0,F;for(F=0;F<v;++F){const G=t[F];if(typeof G=="number"){H+=A*G*l/1e3;continue}let Y=!1;const Q=(G.isSpace?d:0)+h,$=G.fontChar,it=G.accent;let W,ht,bt=G.width;if(b){const ot=G.vmetric||_,O=-(G.vmetric?ot[1]:bt*.5)*E,z=ot[2]*E;bt=ot?-ot[0]:bt,W=O/c,ht=(H+z)/c}else W=H/c,ht=0;if(a.remeasure&&bt>0){const ot=o.measureText($).width*1e3/l*c;if(bt<ot&&this.isFontSubpixelAAEnabled){const O=bt/ot;Y=!0,o.save(),o.scale(O,1),W/=O}else bt!==ot&&(W+=(bt-ot)/2e3*l/c)}if(this.contentVisible&&(G.isInFont||a.missingFile)){if(x&&!it)o.fillText($,W,ht);else if(this.paintChar($,W,ht,w),it){const ot=W+l*it.offset.x/c,O=ht-l*it.offset.y/c;this.paintChar(it.fontChar,ot,O,w)}}const gt=b?bt*E-Q*g:bt*E+Q*g;H+=gt,Y&&o.restore()}b?n.y-=H:n.x+=H*m,o.restore(),this.compose()}showType3Text(t){const n=this.ctx,a=this.current,l=a.font,o=a.fontSize,c=a.fontDirection,h=l.vertical?1:-1,d=a.charSpacing,g=a.wordSpacing,m=a.textHScale*c,v=a.fontMatrix||uu,b=t.length,A=a.textRenderingMode===Te.INVISIBLE;let _,E,x,w;if(!(A||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...a.textMatrix),n.translate(a.x,a.y),n.scale(m,c),_=0;_<b;++_){if(E=t[_],typeof E=="number"){w=h*E*o/1e3,this.ctx.translate(w,0),a.x+=w*m;continue}const P=(E.isSpace?g:0)+d,U=l.charProcOperatorList[E.operatorListId];if(!U){Et(`Type3 character "${E.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=E,this.save(),n.scale(o,o),n.transform(...v),this.executeOperatorList(U),this.restore()),x=st.applyTransform([E.width,0],v)[0]*o+P,n.translate(x,0),a.x+=x*m}n.restore(),this.processingType3=null}}setCharWidth(t,n){}setCharWidthAndBounds(t,n,a,l,o,c){this.ctx.rect(a,l,o-a,c-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let n;if(t[0]==="TilingPattern"){const a=t[1],l=this.baseTransform||Vt(this.ctx),o={createCanvasGraphics:c=>new Os(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new Pu(t,a,this.ctx,o,l)}else n=this._getPattern(t[1],t[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,n,a){const l=st.makeHexColor(t,n,a);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(t,n,a){const l=st.makeHexColor(t,n,a);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(t,n=null){let a;return this.cachedPatterns.has(t)?a=this.cachedPatterns.get(t):(a=my(this.getObject(t)),this.cachedPatterns.set(t,a)),n&&(a.matrix=n),a}shadingFill(t){if(!this.contentVisible)return;const n=this.ctx;this.save();const a=this._getPattern(t);n.fillStyle=a.getPattern(n,this,Fi(n),Me.SHADING);const l=Fi(n);if(l){const{width:o,height:c}=n.canvas,[h,d,g,m]=st.getAxialAlignedBoundingBox([0,0,o,c],l);this.ctx.fillRect(h,d,g-h,m-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){zt("Should not call beginInlineImage")}beginImageData(){zt("Should not call beginImageData")}paintFormXObjectBegin(t,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Vt(this.ctx),n)){const a=n[2]-n[0],l=n[3]-n[1];this.ctx.rect(n[0],n[1],a,l),this.current.updateRectMinMax(Vt(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||El("TODO: Support non-isolated groups."),t.knockout&&Et("Knockout groups not supported.");const a=Vt(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let l=st.getAxialAlignedBoundingBox(t.bbox,Vt(n));const o=[0,0,n.canvas.width,n.canvas.height];l=st.intersect(l,o)||[0,0,0,0];const c=Math.floor(l[0]),h=Math.floor(l[1]),d=Math.max(Math.ceil(l[2])-c,1),g=Math.max(Math.ceil(l[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,d,g),b=v.context;b.translate(-c,-h),b.transform(...a),t.smask?this.smaskStack.push({canvas:v.canvas,context:b,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(c,h),n.save()),za(n,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=Vt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...l);const o=st.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],l);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,n,a,l,o){if(this.#t(),fl(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const c=n[2]-n[0],h=n[3]-n[1];if(o&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=c,n[3]=h;const[d,g]=st.singularValueDecompose2dScale(Vt(this.ctx)),{viewportScale:m}=this,v=Math.ceil(c*this.outputScaleX*m),b=Math.ceil(h*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(v,b);const{canvas:A,context:_}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_,this.ctx.save(),this.ctx.setTransform(d,0,0,-g,0,h*g),fl(this.ctx)}else fl(this.ctx),this.ctx.rect(n[0],n[1],c,h),this.ctx.clip(),this.endPath()}this.current=new Zp(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...l)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(t.data,t),t.count=n;const a=this.ctx,l=this.processingType3;if(l&&(l.compiled===void 0&&(l.compiled=_y(t)),l.compiled)){l.compiled(a);return}const o=this._createMaskCanvas(t),c=o.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(c,o.offsetX,o.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,n,a=0,l=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const d=Vt(h);h.transform(n,a,l,o,0,0);const g=this._createMaskCanvas(t);h.setTransform(1,0,0,1,g.offsetX-d[4],g.offsetY-d[5]);for(let m=0,v=c.length;m<v;m+=2){const b=st.transform(d,[n,a,l,o,c[m],c[m+1]]),[A,_]=st.applyTransform([0,0],b);h.drawImage(g.canvas,A,_)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,l=this.current.patternFill;for(const o of t){const{data:c,width:h,height:d,transform:g}=o,m=this.cachedCanvases.getCanvas("maskCanvas",h,d),v=m.context;v.save();const b=this.getObject(c,o);Jp(v,b),v.globalCompositeOperation="source-in",v.fillStyle=l?a.getPattern(v,this,Fi(n),Me.FILL):a,v.fillRect(0,0,h,d),v.restore(),n.save(),n.transform(...g),n.scale(1,-1),dl(n,m.canvas,0,0,h,d,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const n=this.getObject(t);if(!n){Et("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(t,n,a,l){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){Et("Dependent image isn't ready yet");return}const c=o.width,h=o.height,d=[];for(let g=0,m=l.length;g<m;g+=2)d.push({transform:[n,0,0,a,l[g],l[g+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:n,width:a,height:l}=t,o=this.cachedCanvases.getCanvas("inlineImage",a,l),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(n,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const n=t.width,a=t.height,l=this.ctx;if(this.save(),!Ce){const{filter:h}=l;h!=="none"&&h!==""&&(l.filter="none")}l.scale(1/n,-1/a);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,a).context;Wp(d,t),o=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(o,Fi(l));l.imageSmoothingEnabled=tg(Vt(l),t.interpolate),dl(l,c.img,0,0,c.paintWidth,c.paintHeight,0,-a,n,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,n){if(!this.contentVisible)return;const a=this.ctx;let l;if(t.bitmap)l=t.bitmap;else{const o=t.width,c=t.height,d=this.cachedCanvases.getCanvas("inlineImage",o,c).context;Wp(d,t),l=this.applyTransferMapsToCanvas(d)}for(const o of n)a.save(),a.transform(...o.transform),a.scale(1,-1),dl(a,l,o.x,o.y,o.w,o.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,n){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,n){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const a=this.ctx;this.pendingClip&&(n||(this.pendingClip===eg?a.clip("evenodd"):a.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Vt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const n=Math.abs(t[0]*t[3]-t[2]*t[1]),a=Math.hypot(t[0],t[2]),l=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(a,l)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:n,b:a,c:l,d:o}=this.ctx.getTransform();let c,h;if(a===0&&l===0){const d=Math.abs(n),g=Math.abs(o);if(d===g)if(t===0)c=h=1/d;else{const m=d*t;c=h=m<1?1/m:1}else if(t===0)c=1/d,h=1/g;else{const m=d*t,v=g*t;c=m<1?1/m:1,h=v<1?1/v:1}}else{const d=Math.abs(n*o-a*l),g=Math.hypot(n,a),m=Math.hypot(l,o);if(t===0)c=m/d,h=g/d;else{const v=t*d;c=m>v?m/v:1,h=g>v?g/v:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:n}=this,{lineWidth:a}=this.current,[l,o]=this.getScaleForStroking();if(n.lineWidth=a||1,l===1&&o===1){n.stroke();return}const c=n.getLineDash();if(t&&n.save(),n.scale(l,o),c.length>0){const h=Math.max(l,o);n.setLineDash(c.map(d=>d/h)),n.lineDashOffset/=h}n.stroke(),t&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const p in ci)Os.prototype[p]!==void 0&&(Os.prototype[ci[p]]=Os.prototype[p]);class Ia{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}const pl={DATA:1,ERROR:2},ee={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ye(p){switch(p instanceof Error||typeof p=="object"&&p!==null||zt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),p.name){case"AbortException":return new Gn(p.message);case"MissingPDFException":return new qn(p.message);case"PasswordException":return new du(p.message,p.code);case"UnexpectedResponseException":return new Tl(p.message,p.status);case"UnknownErrorException":return new fu(p.message,p.details);default:return new fu(p.message,p.toString())}}class Ba{constructor(t,n,a){this.sourceName=t,this.targetName=n,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=l=>{const o=l.data;if(o.targetName!==this.sourceName)return;if(o.stream){this.#e(o);return}if(o.callback){const h=o.callbackId,d=this.callbackCapabilities[h];if(!d)throw new Error(`Cannot resolve callback ${h}`);if(delete this.callbackCapabilities[h],o.callback===pl.DATA)d.resolve(o.data);else if(o.callback===pl.ERROR)d.reject(Ye(o.reason));else throw new Error("Unexpected callback case");return}const c=this.actionHandler[o.action];if(!c)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const h=this.sourceName,d=o.sourceName;new Promise(function(g){g(c(o.data))}).then(function(g){a.postMessage({sourceName:h,targetName:d,callback:pl.DATA,callbackId:o.callbackId,data:g})},function(g){a.postMessage({sourceName:h,targetName:d,callback:pl.ERROR,callbackId:o.callbackId,reason:Ye(g)})});return}if(o.streamId){this.#t(o);return}c(o.data)},a.addEventListener("message",this._onComObjOnMessage)}on(t,n){const a=this.actionHandler;if(a[t])throw new Error(`There is already an actionName called "${t}"`);a[t]=n}send(t,n,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:n},a)}sendWithPromise(t,n,a){const l=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[l]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:l,data:n},a)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,n,a,l){const o=this.streamId++,c=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:h,action:t,streamId:o,data:n,desiredSize:g.desiredSize},l),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,d.postMessage({sourceName:c,targetName:h,stream:ee.PULL,streamId:o,desiredSize:g.desiredSize}),m.promise},cancel:g=>{oe(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:c,targetName:h,stream:ee.CANCEL,streamId:o,reason:Ye(g)}),m.promise}},a)}#t(t){const n=t.streamId,a=this.sourceName,l=t.sourceName,o=this.comObj,c=this,h=this.actionHandler[t.action],d={enqueue(g,m=1,v){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:a,targetName:l,stream:ee.ENQUEUE,streamId:n,chunk:g},v)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:a,targetName:l,stream:ee.CLOSE,streamId:n}),delete c.streamSinks[n])},error(g){oe(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:a,targetName:l,stream:ee.ERROR,streamId:n,reason:Ye(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[n]=d,new Promise(function(g){g(h(t.data,d))}).then(function(){o.postMessage({sourceName:a,targetName:l,stream:ee.START_COMPLETE,streamId:n,success:!0})},function(g){o.postMessage({sourceName:a,targetName:l,stream:ee.START_COMPLETE,streamId:n,reason:Ye(g)})})}#e(t){const n=t.streamId,a=this.sourceName,l=t.sourceName,o=this.comObj,c=this.streamControllers[n],h=this.streamSinks[n];switch(t.stream){case ee.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Ye(t.reason));break;case ee.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Ye(t.reason));break;case ee.PULL:if(!h){o.postMessage({sourceName:a,targetName:l,stream:ee.PULL_COMPLETE,streamId:n,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(d){d(h.onPull?.())}).then(function(){o.postMessage({sourceName:a,targetName:l,stream:ee.PULL_COMPLETE,streamId:n,success:!0})},function(d){o.postMessage({sourceName:a,targetName:l,stream:ee.PULL_COMPLETE,streamId:n,reason:Ye(d)})});break;case ee.ENQUEUE:if(oe(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case ee.CLOSE:if(oe(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#i(c,n);break;case ee.ERROR:oe(c,"error should have stream controller"),c.controller.error(Ye(t.reason)),this.#i(c,n);break;case ee.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Ye(t.reason)),this.#i(c,n);break;case ee.CANCEL:if(!h)break;new Promise(function(d){d(h.onCancel?.(Ye(t.reason)))}).then(function(){o.postMessage({sourceName:a,targetName:l,stream:ee.CANCEL_COMPLETE,streamId:n,success:!0})},function(d){o.postMessage({sourceName:a,targetName:l,stream:ee.CANCEL_COMPLETE,streamId:n,reason:Ye(d)})}),h.sinkCapability.reject(Ye(t.reason)),h.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#i(t,n){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class wy{#t;#e;constructor({parsedData:t,rawData:n}){this.#t=t,this.#e=n}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}getAll(){return Tu(this.#t)}has(t){return this.#t.has(t)}}const fn=Symbol("INTERNAL");class xy{#t=!1;#e=!1;#i=!1;#s=!0;constructor(t,{name:n,intent:a,usage:l}){this.#t=!!(t&si.DISPLAY),this.#e=!!(t&si.PRINT),this.name=n,this.intent=a,this.usage=l}get visible(){if(this.#i)return this.#s;if(!this.#s)return!1;const{print:t,view:n}=this.usage;return this.#t?n?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,n,a=!1){t!==fn&&zt("Internal method `_setVisible` called."),this.#i=a,this.#s=n}}class Cy{#t=null;#e=new Map;#i=null;#s=null;constructor(t,n=si.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#s=t.order;for(const a of t.groups)this.#e.set(a.id,new xy(n,a));if(t.baseState==="OFF")for(const a of this.#e.values())a._setVisible(fn,!1);for(const a of t.on)this.#e.get(a)._setVisible(fn,!0);for(const a of t.off)this.#e.get(a)._setVisible(fn,!1);this.#i=this.getHash()}}#l(t){const n=t.length;if(n<2)return!0;const a=t[0];for(let l=1;l<n;l++){const o=t[l];let c;if(Array.isArray(o))c=this.#l(o);else if(this.#e.has(o))c=this.#e.get(o).visible;else return Et(`Optional content group not found: ${o}`),!0;switch(a){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return a==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return El("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Et(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#l(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const n of t.ids){if(!this.#e.has(n))return Et(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const n of t.ids){if(!this.#e.has(n))return Et(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const n of t.ids){if(!this.#e.has(n))return Et(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const n of t.ids){if(!this.#e.has(n))return Et(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!1}return!0}return Et(`Unknown optional content policy ${t.policy}.`),!0}return Et(`Unknown group type ${t.type}.`),!0}setVisibility(t,n=!0){const a=this.#e.get(t);if(!a){Et(`Optional content group not found: ${t}`);return}a._setVisible(fn,!!n,!0),this.#t=null}setOCGState({state:t,preserveRB:n}){let a;for(const l of t){switch(l){case"ON":case"OFF":case"Toggle":a=l;continue}const o=this.#e.get(l);if(o)switch(a){case"ON":o._setVisible(fn,!0);break;case"OFF":o._setVisible(fn,!1);break;case"Toggle":o._setVisible(fn,!o.visible);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#s?this.#s.slice():[...this.#e.keys()]:null}getGroups(){return this.#e.size>0?Tu(this.#e):null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new Tg;for(const[n,a]of this.#e)t.update(`${n}:${a.visible}`);return this.#t=t.hexdigest()}}class Ry{constructor(t,{disableRange:n=!1,disableStream:a=!1}){oe(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:l,initialData:o,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!a,this._isRangeSupported=!n,this._contentLength=l,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,g)=>{this._onReceiveData({begin:d,chunk:g})}),t.addProgressListener((d,g)=>{this._onProgress({loaded:d,total:g})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:n}){const a=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const l=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(a),!0)});oe(l,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const n=this._rangeReaders.indexOf(t);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){oe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new My(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const a=new Dy(this,t,n);return this._pdfDataRangeTransport.requestDataRange(t,n),this._rangeReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class My{constructor(t,n,a=!1,l=null){this._stream=t,this._done=a||!1,this._filename=Mu(l)?l:null,this._queuedChunks=n||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Dy{constructor(t,n,a){this._stream=t,this._begin=n,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Ly(p){let t=!0,n=a("filename\\*","i").exec(p);if(n){n=n[1];let m=h(n);return m=unescape(m),m=d(m),m=g(m),o(m)}if(n=c(p),n){const m=g(n);return o(m)}if(n=a("filename","i").exec(p),n){n=n[1];let m=h(n);return m=g(m),o(m)}function a(m,v){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function l(m,v){if(m){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const b=new TextDecoder(m,{fatal:!0}),A=wl(v);v=b.decode(A),t=!1}catch{}}return v}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=l("utf-8",m),t&&(m=l("iso-8859-1",m))),m}function c(m){const v=[];let b;const A=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=A.exec(m))!==null;){let[,E,x,w]=b;if(E=parseInt(E,10),E in v){if(E===0)break;continue}v[E]=[x,w]}const _=[];for(let E=0;E<v.length&&E in v;++E){let[x,w]=v[E];w=h(w),x&&(w=unescape(w),E===0&&(w=d(w))),_.push(w)}return _.join("")}function h(m){if(m.startsWith('"')){const v=m.slice(1).split('\\"');for(let b=0;b<v.length;++b){const A=v[b].indexOf('"');A!==-1&&(v[b]=v[b].slice(0,A),v.length=b+1),v[b]=v[b].replaceAll(/\\(.)/g,"$1")}m=v.join('"')}return m}function d(m){const v=m.indexOf("'");if(v===-1)return m;const b=m.slice(0,v),_=m.slice(v+1).replace(/^[^']*'/,"");return l(b,_)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,b,A,_){if(A==="q"||A==="Q")return _=_.replaceAll("_"," "),_=_.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,x){return String.fromCharCode(parseInt(x,16))}),l(b,_);try{_=atob(_)}catch{}return l(b,_)})}return""}function Hu({getResponseHeader:p,isHttp:t,rangeChunkSize:n,disableRange:a}){const l={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(p("Content-Length"),10);return!Number.isInteger(o)||(l.suggestedLength=o,o<=2*n)||a||!t||p("Accept-Ranges")!=="bytes"||(p("Content-Encoding")||"identity")!=="identity"||(l.allowRangeRequests=!0),l}function zu(p){const t=p("Content-Disposition");if(t){let n=Ly(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(Mu(n))return n}return null}function Ll(p,t){return p===404||p===0&&t.startsWith("file:")?new qn('Missing PDF "'+t+'".'):new Tl(`Unexpected server response (${p}) while retrieving PDF "${t}".`,p)}function Cg(p){return p===200||p===206}function Rg(p,t,n){return{method:"GET",headers:p,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Mg(p){const t=new Headers;for(const n in p){const a=p[n];a!==void 0&&t.append(n,a)}return t}function Dg(p){return p instanceof Uint8Array?p.buffer:p instanceof ArrayBuffer?p:(Et(`getArrayBuffer - unexpected data format: ${p}`),new Uint8Array(p).buffer)}class ig{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return oe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Oy(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const a=new Ny(this,t,n);return this._rangeRequestReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Oy{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const n=t.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=Mg(this._stream.httpHeaders);const a=n.url;fetch(a,Rg(this._headers,this._withCredentials,this._abortController)).then(l=>{if(!Cg(l.status))throw Ll(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const o=d=>l.headers.get(d),{allowRangeRequests:c,suggestedLength:h}=Hu({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=zu(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Gn("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Dg(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Ny{constructor(t,n,a){this._stream=t,this._reader=null,this._loaded=0;const l=t.source;this._withCredentials=l.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!l.disableStream,this._abortController=new AbortController,this._headers=Mg(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${a-1}`);const o=l.url;fetch(o,Rg(this._headers,this._withCredentials,this._abortController)).then(c=>{if(!Cg(c.status))throw Ll(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Dg(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const lu=200,ou=206;function ky(p){const t=p.response;return typeof t!="string"?t:wl(t).buffer}class Py{constructor(t,n={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,n,a){const l={begin:t,end:n};for(const o in a)l[o]=a[o];return this.request(l)}requestFull(t){return this.request(t)}request(t){const n=new XMLHttpRequest,a=this.currXhrId++,l=this.pendingRequests[a]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const o in this.httpHeaders){const c=this.httpHeaders[o];c!==void 0&&n.setRequestHeader(o,c)}return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),l.expectedStatus=ou):l.expectedStatus=lu,n.responseType="arraybuffer",t.onError&&(n.onerror=function(o){t.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,a),n.onprogress=this.onProgress.bind(this,a),l.onHeadersReceived=t.onHeadersReceived,l.onDone=t.onDone,l.onError=t.onError,l.onProgress=t.onProgress,n.send(null),a}onProgress(t,n){const a=this.pendingRequests[t];a&&a.onProgress?.(n)}onStateChange(t,n){const a=this.pendingRequests[t];if(!a)return;const l=a.xhr;if(l.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),l.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],l.status===0&&this.isHttp){a.onError?.(l.status);return}const o=l.status||lu;if(!(o===lu&&a.expectedStatus===ou)&&o!==a.expectedStatus){a.onError?.(l.status);return}const h=ky(l);if(o===ou){const d=l.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);a.onDone({begin:parseInt(g[1],10),chunk:h})}else h?a.onDone({begin:0,chunk:h}):a.onError?.(l.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const n=this.pendingRequests[t].xhr;delete this.pendingRequests[t],n.abort()}}class Hy{constructor(t){this._source=t,this._manager=new Py(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const n=this._rangeRequestReaders.indexOf(t);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return oe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new zy(this._manager,this._source),this._fullRequestReader}getRangeReader(t,n){const a=new Fy(this._manager,t,n);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class zy{constructor(t,n){this._manager=t;const a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(a),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,n=this._manager.getRequestXhr(t),a=c=>n.getResponseHeader(c),{allowRangeRequests:l,suggestedLength:o}=Hu({getResponseHeader:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=zu(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ll(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Fy{constructor(t,n,a){this._manager=t;const l={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(n,a,l),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const n=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Ll(t,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Lg=/^file:\/\/\/[a-zA-Z]:\//;function Uy(p){const t=yi.get("url"),n=t.parse(p);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(p)?t.parse(`file:///${p}`):(n.host||(n.protocol="file:"),n)}class By{constructor(t){this.source=t,this.url=Uy(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return oe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new qy(this):new jy(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const a=this.isFsUrl?new Gy(this,t,n):new Iy(this,t,n);return this._rangeRequestReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Og{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Gn("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ng{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=t.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function yl(p,t){return{protocol:p.protocol,auth:p.auth,host:p.hostname,port:p.port,path:p.path,method:"GET",headers:t}}class jy extends Og{constructor(t){super(t);const n=a=>{if(a.statusCode===404){const h=new qn(`Missing PDF "${this._url}".`);this._storedError=h,this._headersCapability.reject(h);return}this._headersCapability.resolve(),this._setReadableStream(a);const l=h=>this._readableStream.headers[h.toLowerCase()],{allowRangeRequests:o,suggestedLength:c}=Hu({getResponseHeader:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=zu(l)};if(this._request=null,this._url.protocol==="http:"){const a=yi.get("http");this._request=a.request(yl(this._url,t.httpHeaders),n)}else{const a=yi.get("https");this._request=a.request(yl(this._url,t.httpHeaders),n)}this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class Iy extends Ng{constructor(t,n,a){super(t),this._httpHeaders={};for(const o in t.httpHeaders){const c=t.httpHeaders[o];c!==void 0&&(this._httpHeaders[o]=c)}this._httpHeaders.Range=`bytes=${n}-${a-1}`;const l=o=>{if(o.statusCode===404){const c=new qn(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(o)};if(this._request=null,this._url.protocol==="http:"){const o=yi.get("http");this._request=o.request(yl(this._url,this._httpHeaders),l)}else{const o=yi.get("https");this._request=o.request(yl(this._url,this._httpHeaders),l)}this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class qy extends Og{constructor(t){super(t);let n=decodeURIComponent(this._url.path);Lg.test(this._url.href)&&(n=n.replace(/^\//,""));const a=yi.get("fs");a.promises.lstat(n).then(l=>{this._contentLength=l.size,this._setReadableStream(a.createReadStream(n)),this._headersCapability.resolve()},l=>{l.code==="ENOENT"&&(l=new qn(`Missing PDF "${n}".`)),this._storedError=l,this._headersCapability.reject(l)})}}class Gy extends Ng{constructor(t,n,a){super(t);let l=decodeURIComponent(this._url.path);Lg.test(this._url.href)&&(l=l.replace(/^\//,""));const o=yi.get("fs");this._setReadableStream(o.createReadStream(l,{start:n,end:a-1}))}}const Vy=1e5,Pe=30,Xy=.8;let Al=class vi{#t=Promise.withResolvers();#e=null;#i=!1;#s=!!globalThis.FontInspector?.enabled;#l=null;#n=null;#a=0;#o=0;#u=null;#h=null;#f=0;#c=0;#r=Object.create(null);#p=[];#m=null;#d=[];#b=new WeakMap;#g=null;static#y=new Map;static#_=new Map;static#E=null;static#w=new Set;constructor({textContentSource:t,container:n,viewport:a}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#h=n,this.#c=a.scale*(globalThis.devicePixelRatio||1),this.#f=a.rotation,this.#n={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:l,pageHeight:o,pageX:c,pageY:h}=a.rawDims;this.#g=[1,0,0,-1,-c,h+o],this.#o=l,this.#a=o,vi.#v(),Bn(n,a),this.#t.promise.catch(()=>{}).then(()=>{vi.#w.delete(this),this.#n=null,this.#r=null})}render(){const t=()=>{this.#u.read().then(({value:n,done:a})=>{if(a){this.#t.resolve();return}this.#l??=n.lang,Object.assign(this.#r,n.styles),this.#x(n.items),t()},this.#t.reject)};return this.#u=this.#m.getReader(),vi.#w.add(this),t(),this.#t.promise}update({viewport:t,onBefore:n=null}){const a=t.scale*(globalThis.devicePixelRatio||1),l=t.rotation;if(l!==this.#f&&(n?.(),this.#f=l,Bn(this.#h,{rotation:l})),a!==this.#c){n?.(),this.#c=a;const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:vi.#A(this.#l)};for(const c of this.#d)o.properties=this.#b.get(c),o.div=c,this.#T(o)}}cancel(){const t=new Gn("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#t.reject(t)}get textDivs(){return this.#d}get textContentItemsStr(){return this.#p}#x(t){if(this.#i)return;this.#n.ctx??=vi.#A(this.#l);const n=this.#d,a=this.#p;for(const l of t){if(n.length>Vy){Et("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),l.id!==null&&this.#e.setAttribute("id",`${l.id}`),o.append(this.#e)}else l.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}a.push(l.str),this.#D(l)}}#D(t){const n=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#d.push(n);const l=st.transform(this.#g,t.transform);let o=Math.atan2(l[1],l[0]);const c=this.#r[t.fontName];c.vertical&&(o+=Math.PI/2);const h=this.#s&&c.fontSubstitution||c.fontFamily,d=Math.hypot(l[2],l[3]),g=d*vi.#S(h,this.#l);let m,v;o===0?(m=l[4],v=l[5]-g):(m=l[4]+g*Math.sin(o),v=l[5]-g*Math.cos(o));const b="calc(var(--scale-factor)*",A=n.style;this.#e===this.#h?(A.left=`${(100*m/this.#o).toFixed(2)}%`,A.top=`${(100*v/this.#a).toFixed(2)}%`):(A.left=`${b}${m.toFixed(2)}px)`,A.top=`${b}${v.toFixed(2)}px)`),A.fontSize=`${b}${(vi.#E*d).toFixed(2)}px)`,A.fontFamily=h,a.fontSize=d,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,this.#s&&(n.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(a.angle=o*(180/Math.PI));let _=!1;if(t.str.length>1)_=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const E=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(_=!0)}if(_&&(a.canvasWidth=c.vertical?t.height:t.width),this.#b.set(n,a),this.#n.div=n,this.#n.properties=a,this.#T(this.#n),a.hasText&&this.#e.append(n),a.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this.#e.append(E)}}#T(t){const{div:n,properties:a,ctx:l,prevFontSize:o,prevFontFamily:c}=t,{style:h}=n;let d="";if(vi.#E>1&&(d=`scale(${1/vi.#E})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:g}=h,{canvasWidth:m,fontSize:v}=a;(o!==v||c!==g)&&(l.font=`${v*this.#c}px ${g}`,t.prevFontSize=v,t.prevFontFamily=g);const{width:b}=l.measureText(n.textContent);b>0&&(d=`scaleX(${m*this.#c/b}) ${d}`)}a.angle!==0&&(d=`rotate(${a.angle}deg) ${d}`),d.length>0&&(h.transform=d)}static cleanup(){if(!(this.#w.size>0)){this.#y.clear();for(const{canvas:t}of this.#_.values())t.remove();this.#_.clear()}}static#A(t=null){let n=this.#_.get(t||="");if(!n){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=t,document.body.append(a),n=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#_.set(t,n)}return n}static#v(){if(this.#E!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.textContent="X",document.body.append(t),this.#E=t.getBoundingClientRect().height,t.remove()}static#S(t,n){const a=this.#y.get(t);if(a)return a;const l=this.#A(n),o=l.font;l.canvas.width=l.canvas.height=Pe,l.font=`${Pe}px ${t}`;const c=l.measureText("");let h=c.fontBoundingBoxAscent,d=Math.abs(c.fontBoundingBoxDescent);if(h){const v=h/(h+d);return this.#y.set(t,v),l.canvas.width=l.canvas.height=0,l.font=o,v}l.strokeStyle="red",l.clearRect(0,0,Pe,Pe),l.strokeText("g",0,0);let g=l.getImageData(0,0,Pe,Pe).data;d=0;for(let v=g.length-1-3;v>=0;v-=4)if(g[v]>0){d=Math.ceil(v/4/Pe);break}l.clearRect(0,0,Pe,Pe),l.strokeText("A",0,Pe),g=l.getImageData(0,0,Pe,Pe).data,h=0;for(let v=0,b=g.length;v<b;v+=4)if(g[v]>0){h=Pe-Math.floor(v/4/Pe);break}l.canvas.width=l.canvas.height=0,l.font=o;const m=h?h/(h+d):Xy;return this.#y.set(t,m),m}};function Yy(){Sg("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:p,container:t,viewport:n,...a}=arguments[0],l=Object.keys(a);l.length>0&&Et("Ignoring `renderTextLayer` parameters: "+l.join(", "));const o=new Al({textContentSource:p,container:t,viewport:n}),{textDivs:c,textContentItemsStr:h}=o;return{promise:o.render(),textDivs:c,textContentItemsStr:h}}function Ky(){Sg("`updateTextLayer`, please use `TextLayer` instead.")}class qa{static textContent(t){const n=[],a={items:n,styles:Object.create(null)};function l(o){if(!o)return;let c=null;const h=o.name;if(h==="#text")c=o.value;else if(qa.shouldBuildText(h))o?.attributes?.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&n.push({str:c}),!!o.children)for(const d of o.children)l(d)}return l(t),a}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Qy=65536,$y=100,Zy=5e3,Wy=Ce?cy:$b,Jy=Ce?uy:Ag,t0=Ce?oy:Qb,e0=Ce?hy:_g;function i0(p={}){typeof p=="string"||p instanceof URL?p={url:p}:(p instanceof ArrayBuffer||ArrayBuffer.isView(p))&&(p={data:p});const t=new Fu,{docId:n}=t,a=p.url?n0(p.url):null,l=p.data?s0(p.data):null,o=p.httpHeaders||null,c=p.withCredentials===!0,h=p.password??null,d=p.range instanceof kg?p.range:null,g=Number.isInteger(p.rangeChunkSize)&&p.rangeChunkSize>0?p.rangeChunkSize:Qy;let m=p.worker instanceof ai?p.worker:null;const v=p.verbosity,b=typeof p.docBaseUrl=="string"&&!Ru(p.docBaseUrl)?p.docBaseUrl:null,A=typeof p.cMapUrl=="string"?p.cMapUrl:null,_=p.cMapPacked!==!1,E=p.CMapReaderFactory||Jy,x=typeof p.standardFontDataUrl=="string"?p.standardFontDataUrl:null,w=p.StandardFontDataFactory||e0,P=p.stopAtErrors!==!0,U=Number.isInteger(p.maxImageSize)&&p.maxImageSize>-1?p.maxImageSize:-1,H=p.isEvalSupported!==!1,F=typeof p.isOffscreenCanvasSupported=="boolean"?p.isOffscreenCanvasSupported:!Ce,G=Number.isInteger(p.canvasMaxAreaInBytes)?p.canvasMaxAreaInBytes:-1,Y=typeof p.disableFontFace=="boolean"?p.disableFontFace:Ce,Q=p.fontExtraProperties===!0,$=p.enableXfa===!0,it=p.ownerDocument||globalThis.document,W=p.disableRange===!0,ht=p.disableStream===!0,bt=p.disableAutoFetch===!0,gt=p.pdfBug===!0,ot=p.enableHWA===!0,O=d?d.length:p.length??NaN,z=typeof p.useSystemFonts=="boolean"?p.useSystemFonts:!Ce&&!Y,V=typeof p.useWorkerFetch=="boolean"?p.useWorkerFetch:E===Ag&&w===_g&&A&&x&&Ua(A,document.baseURI)&&Ua(x,document.baseURI),mt=p.canvasFactory||new Wy({ownerDocument:it,enableHWA:ot}),C=p.filterFactory||new t0({docId:n,ownerDocument:it}),q=null;Fb(v);const K={canvasFactory:mt,filterFactory:C};if(V||(K.cMapReaderFactory=new E({baseUrl:A,isCompressed:_}),K.standardFontDataFactory=new w({baseUrl:x})),!m){const dt={verbosity:v,port:Ia.workerPort};m=dt.port?ai.fromPort(dt):new ai(dt),t._worker=m}const X={docId:n,apiVersion:"4.4.168",data:l,password:h,disableAutoFetch:bt,rangeChunkSize:g,length:O,docBaseUrl:b,enableXfa:$,evaluatorOptions:{maxImageSize:U,disableFontFace:Y,ignoreErrors:P,isEvalSupported:H,isOffscreenCanvasSupported:F,canvasMaxAreaInBytes:G,fontExtraProperties:Q,useSystemFonts:z,cMapUrl:V?A:null,standardFontDataUrl:V?x:null}},tt={disableFontFace:Y,fontExtraProperties:Q,ownerDocument:it,pdfBug:gt,styleElement:q,loadingParams:{disableAutoFetch:bt,enableXfa:$}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const dt=m.messageHandler.sendWithPromise("GetDocRequest",X,l?[l.buffer]:null);let nt;if(d)nt=new Ry(d,{disableRange:W,disableStream:ht});else if(!l){if(!a)throw new Error("getDocument - no `url` parameter provided.");nt=(At=>Ce?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Ua(At.url)?new ig(At):new By(At):Ua(At.url)?new ig(At):new Hy(At))({url:a,length:O,httpHeaders:o,withCredentials:c,rangeChunkSize:g,disableRange:W,disableStream:ht})}return dt.then(yt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const At=new Ba(n,yt,m.port),ne=new o0(At,t,nt,tt,K);t._transport=ne,At.send("Ready",null)})}).catch(t._capability.reject),t}function n0(p){if(p instanceof URL)return p.href;try{return new URL(p,window.location).href}catch{if(Ce&&typeof p=="string")return p}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function s0(p){if(Ce&&typeof Buffer<"u"&&p instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength)return p;if(typeof p=="string")return wl(p);if(p instanceof ArrayBuffer||ArrayBuffer.isView(p)||typeof p=="object"&&!isNaN(p?.length))return new Uint8Array(p);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ng(p){return typeof p=="object"&&Number.isInteger(p?.num)&&p.num>=0&&Number.isInteger(p?.gen)&&p.gen>=0}class Fu{static#t=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Fu.#t++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}let kg=class{constructor(t,n,a=!1,l=null){this.length=t,this.initialData=n,this.progressiveDone=a,this.contentDispositionFilename=l,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,n){for(const a of this._rangeListeners)a(t,n)}onDataProgress(t,n){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(t,n)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,n){zt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class a0{constructor(t,n){this._pdfInfo=t,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Rt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class r0{#t=null;#e=!1;constructor(t,n,a,l=!1){this._pageIndex=t,this._pageInfo=n,this._transport=a,this._stats=l?new qp:null,this._pdfBug=l,this.commonObjs=a.commonObjs,this.objs=new Pg,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:n=this.rotate,offsetX:a=0,offsetY:l=0,dontFlip:o=!1}={}){return new Ga({viewBox:this.view,scale:t,rotation:n,offsetX:a,offsetY:l,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Rt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:n,intent:a="display",annotationMode:l=pn.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:g=null,printAnnotationStorage:m=null}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(a,l,m),{renderingIntent:b,cacheKey:A}=v;this.#e=!1,this.#s(),h||=this._transport.getOptionalContentConfig(b);let _=this._intentStates.get(A);_||(_=Object.create(null),this._intentStates.set(A,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const E=!!(b&si.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const x=U=>{_.renderTasks.delete(w),(this._maybeCleanupAfterRender||E)&&(this.#e=!0),this.#i(!E),U?(w.capability.reject(U),this._abortOperatorList({intentState:_,reason:U instanceof Error?U:new Error(U)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new Ls({callback:x,params:{canvasContext:t,viewport:n,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:g});(_.renderTasks||=new Set).add(w);const P=w.task;return Promise.all([_.displayReadyCapability.promise,h]).then(([U,H])=>{if(this.destroyed){x();return}if(this._stats?.time("Rendering"),!(H.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:U,optionalContentConfig:H}),w.operatorListChanged()}).catch(x),P}getOperatorList({intent:t="display",annotationMode:n=pn.ENABLE,printAnnotationStorage:a=null}={}){function l(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const o=this._transport.getRenderingIntent(t,n,a,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=l,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:n===!0},{highWaterMark:100,size(l){return l.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>qa.textContent(a));const n=this.streamTextContent(t);return new Promise(function(a,l){function o(){c.read().then(function({value:d,done:g}){if(g){a(h);return}h.lang??=d.lang,Object.assign(h.styles,d.styles),h.items.push(...d.items),o()},l)}const c=n.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const a of n.renderTasks)t.push(a.completed),a.cancel();return this.objs.clear(),this.#e=!1,this.#s(),Promise.all(t)}cleanup(t=!1){this.#e=!0;const n=this.#i(!1);return t&&n&&(this._stats&&=new qp),n}#i(t=!1){if(this.#s(),!this.#e||this.destroyed)return!1;if(t)return this.#t=setTimeout(()=>{this.#t=null,this.#i(!1)},Zy),!1;for(const{renderTasks:n,operatorList:a}of this._intentStates.values())if(n.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}#s(){this.#t&&(clearTimeout(this.#t),this.#t=null)}_startRenderPage(t,n){const a=this._intentStates.get(n);a&&(this._stats?.timeEnd("Page Request"),a.displayReadyCapability?.resolve(t))}_renderPageChunk(t,n){for(let a=0,l=t.length;a<l;a++)n.operatorList.fnArray.push(t.fnArray[a]),n.operatorList.argsArray.push(t.argsArray[a]);n.operatorList.lastChunk=t.lastChunk,n.operatorList.separateAnnots=t.separateAnnots;for(const a of n.renderTasks)a.operatorListChanged();t.lastChunk&&this.#i(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:n,annotationStorageSerializable:a}){const{map:l,transfer:o}=a,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:l},o).getReader(),d=this._intentStates.get(n);d.streamReader=h;const g=()=>{h.read().then(({value:m,done:v})=>{if(v){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,d),g())},m=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const v of d.renderTasks)v.operatorListChanged();this.#i(!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(m);else if(d.opListReadCapability)d.opListReadCapability.reject(m);else throw m}})};g()}_abortOperatorList({intentState:t,reason:n,force:a=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!a){if(t.renderTasks.size>0)return;if(n instanceof Cu){let l=$y;n.extraDelay>0&&n.extraDelay<1e3&&(l+=n.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},l);return}}if(t.streamReader.cancel(new Gn(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[l,o]of this._intentStates)if(o===t){this._intentStates.delete(l);break}this.cleanup()}}}get stats(){return this._stats}}class l0{#t=new Set;#e=Promise.resolve();postMessage(t,n){const a={data:structuredClone(t,n?{transfer:n}:null)};this.#e.then(()=>{for(const l of this.#t)l.call(this,a)})}addEventListener(t,n){this.#t.add(n)}removeEventListener(t,n){this.#t.delete(n)}terminate(){this.#t.clear()}}const ji={isWorkerDisabled:!1,fakeWorkerId:0};Ce&&(ji.isWorkerDisabled=!0,Ia.workerSrc||="./pdf.worker.mjs"),ji.isSameOrigin=function(p,t){let n;try{if(n=new URL(p),!n.origin||n.origin==="null")return!1}catch{return!1}const a=new URL(t,n);return n.origin===a.origin},ji.createCDNWrapper=function(p){const t=`await import("${p}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};class ai{static#t;constructor({name:t=null,port:n=null,verbosity:a=Ub()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=a,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if(ai.#t?.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(ai.#t||=new WeakMap).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return Ce?Promise.all([yi.promise,this._readyCapability.promise]):this._readyCapability.promise}#e(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Ba("main","worker",t),this._messageHandler.on("ready",function(){}),this.#e()}_initialize(){if(ji.isWorkerDisabled||ai.#i){this._setupFakeWorker();return}let{workerSrc:t}=ai;try{ji.isSameOrigin(window.location.href,t)||(t=ji.createCDNWrapper(new URL(t,window.location).href));const n=new Worker(t,{type:"module"}),a=new Ba("main","worker",n),l=()=>{o.abort(),a.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;n.addEventListener("error",()=>{this._webWorker||l()},{signal:o.signal}),a.on("test",h=>{if(o.abort(),this.destroyed||!h){l();return}this._messageHandler=a,this._port=n,this._webWorker=n,this.#e()}),a.on("ready",h=>{if(o.abort(),this.destroyed){l();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;a.send("test",h,[h.buffer])};c();return}catch{El("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){ji.isWorkerDisabled||(Et("Setting up fake worker."),ji.isWorkerDisabled=!0),ai._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new l0;this._port=n;const a=`fake${ji.fakeWorkerId++}`,l=new Ba(a+"_worker",a,n);t.setup(l,n),this._messageHandler=new Ba(a,a+"_worker",n),this.#e()}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ai.#t?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=this.#t?.get(t.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new ai(t)}static get workerSrc(){if(Ia.workerSrc)return Ia.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#i(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Rt(this,"_setupFakeWorkerGlobal",(async()=>this.#i?this.#i:(await import(this.workerSrc)).WorkerMessageHandler)())}}class o0{#t=new Map;#e=new Map;#i=new Map;#s=new Map;#l=null;constructor(t,n,a,l,o){this.messageHandler=t,this.loadingTask=n,this.commonObjs=new Pg,this.fontLoader=new ry({ownerDocument:l.ownerDocument,styleElement:l.styleElement}),this.loadingParams=l.loadingParams,this._params=l,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#n(t,n=null){const a=this.#t.get(t);if(a)return a;const l=this.messageHandler.sendWithPromise(t,n);return this.#t.set(t,l),l}get annotationStorage(){return Rt(this,"annotationStorage",new ku)}getRenderingIntent(t,n=pn.ENABLE,a=null,l=!1){let o=si.DISPLAY,c=pu;switch(t){case"any":o=si.ANY;break;case"display":break;case"print":o=si.PRINT;break;default:Et(`getRenderingIntent - invalid intent: ${t}`)}switch(n){case pn.DISABLE:o+=si.ANNOTATIONS_DISABLE;break;case pn.ENABLE:break;case pn.ENABLE_FORMS:o+=si.ANNOTATIONS_FORMS;break;case pn.ENABLE_STORAGE:o+=si.ANNOTATIONS_STORAGE,c=(o&si.PRINT&&a instanceof wg?a:this.annotationStorage).serializable;break;default:Et(`getRenderingIntent - invalid annotationMode: ${n}`)}return l&&(o+=si.OPLIST),{renderingIntent:o,cacheKey:`${o}_${c.hash}`,annotationStorageSerializable:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#l?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of this.#e.values())t.push(a._destroy());this.#e.clear(),this.#i.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Al.cleanup(),this._networkStream?.cancelAllRequests(new Gn("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:n}=this;t.on("GetReader",(a,l)=>{oe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},l.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){l.close();return}oe(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{l.error(o)})},l.onCancel=o=>{this._fullReader.cancel(o),l.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",a=>{const l=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),o.onProgress=c=>{n.onProgress?.({loaded:c.loaded,total:c.total})}),l.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},l.reject),l.promise}),t.on("GetRangeReader",(a,l)=>{oe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(a.begin,a.end);if(!o){l.close();return}l.onPull=()=>{o.read().then(function({value:c,done:h}){if(h){l.close();return}oe(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{l.error(c)})},l.onCancel=c=>{o.cancel(c),l.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,n._capability.resolve(new a0(a,this))}),t.on("DocException",function(a){let l;switch(a.name){case"PasswordException":l=new du(a.message,a.code);break;case"InvalidPDFException":l=new vg(a.message);break;case"MissingPDFException":l=new qn(a.message);break;case"UnexpectedResponseException":l=new Tl(a.message,a.status);break;case"UnknownErrorException":l=new fu(a.message,a.details);break;default:zt("DocException - expected a valid Error.")}n._capability.reject(l)}),t.on("PasswordRequest",a=>{if(this.#l=Promise.withResolvers(),n.onPassword){const l=o=>{o instanceof Error?this.#l.reject(o):this.#l.resolve({password:o})};try{n.onPassword(l,a.code)}catch(o){this.#l.reject(o)}}else this.#l.reject(new du(a.message,a.code));return this.#l.promise}),t.on("DataLoaded",a=>{n.onProgress?.({loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),t.on("StartRenderPage",a=>{if(this.destroyed)return;this.#e.get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),t.on("commonobj",([a,l,o])=>{if(this.destroyed||this.commonObjs.has(a))return null;switch(l){case"Font":const{disableFontFace:c,fontExtraProperties:h,pdfBug:d}=this._params;if("error"in o){const b=o.error;Et(`Error during font loading: ${b}`),this.commonObjs.resolve(a,b);break}const g=d&&globalThis.FontInspector?.enabled?(b,A)=>globalThis.FontInspector.fontAdded(b,A):null,m=new ly(o,{disableFontFace:c,inspectFont:g});this.fontLoader.bind(m).catch(()=>t.sendWithPromise("FontFallback",{id:a})).finally(()=>{!h&&m.data&&(m.data=null),this.commonObjs.resolve(a,m)});break;case"CopyLocalImage":const{imageRef:v}=o;oe(v,"The imageRef must be defined.");for(const b of this.#e.values())for(const[,A]of b.objs)if(A?.ref===v)return A.dataLen?(this.commonObjs.resolve(a,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,o);break;default:throw new Error(`Got unknown common object type ${l}`)}return null}),t.on("obj",([a,l,o,c])=>{if(this.destroyed)return;const h=this.#e.get(l);if(!h.objs.has(a)){if(h._intentStates.size===0){c?.bitmap?.close();return}switch(o){case"Image":h.objs.resolve(a,c),c?.dataLen>kb&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(a,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",a=>{this.destroyed||n.onProgress?.({loaded:a.loaded,total:a.total})}),t.on("FetchBuiltInCMap",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(a):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(a):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Et("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=t-1,a=this.#i.get(n);if(a)return a;const l=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#s.set(o.refStr,t);const c=new r0(n,o,this,this._params.pdfBug);return this.#e.set(n,c),c});return this.#i.set(n,l),l}getPageIndex(t){return ng(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}getFieldObjects(){return this.#n("GetFieldObjects")}hasJSActions(){return this.#n("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#n("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#n("GetOptionalContentConfig").then(n=>new Cy(n,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",n=this.#t.get(t);if(n)return n;const a=this.messageHandler.sendWithPromise(t,null).then(l=>({info:l[0],metadata:l[1]?new wy(l[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#e.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Al.cleanup()}}cachedPageNumber(t){if(!ng(t))return null;const n=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#s.get(n)??null}}const gl=Symbol("INITIAL_DATA");class Pg{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:gl}}get(t,n=null){if(n){const l=this.#e(t);return l.promise.then(()=>n(l.data)),null}const a=this.#t[t];if(!a||a.data===gl)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return a.data}has(t){const n=this.#t[t];return!!n&&n.data!==gl}resolve(t,n=null){const a=this.#e(t);a.data=n,a.resolve()}clear(){for(const t in this.#t){const{data:n}=this.#t[t];n?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:n}=this.#t[t];n!==gl&&(yield[t,n])}}}class c0{#t=null;constructor(t){this.#t=t,this.onContinue=null}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:n}=this.#t;return t.form||t.canvas&&n?.size>0}}class Ls{#t=null;static#e=new WeakSet;constructor({callback:t,params:n,objs:a,commonObjs:l,annotationCanvasMap:o,operatorList:c,pageIndex:h,canvasFactory:d,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:v=!1,pageColors:b=null}){this.callback=t,this.params=n,this.objs=a,this.commonObjs=l,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=g,this._pdfBug=v,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new c0(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(Ls.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ls.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:l,transform:o,background:c}=this.params;this.gfx=new Os(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:l,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ls.#e.delete(this._canvas),this.callback(t||new Cu(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ls.#e.delete(this._canvas),this.callback())))}}const u0="4.4.168",h0="19fbc8998";function sg(p){return Math.floor(Math.max(0,Math.min(1,p))*255).toString(16).padStart(2,"0")}function Fa(p){return Math.max(0,Math.min(255,255*p))}class ag{static CMYK_G([t,n,a,l]){return["G",1-Math.min(1,.3*t+.59*a+.11*n+l)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Fa(t),[t,t,t]}static G_HTML([t]){const n=sg(t);return`#${n}${n}${n}`}static RGB_G([t,n,a]){return["G",.3*t+.59*n+.11*a]}static RGB_rgb(t){return t.map(Fa)}static RGB_HTML(t){return`#${t.map(sg).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,n,a,l]){return["RGB",1-Math.min(1,t+l),1-Math.min(1,a+l),1-Math.min(1,n+l)]}static CMYK_rgb([t,n,a,l]){return[Fa(1-Math.min(1,t+l)),Fa(1-Math.min(1,a+l)),Fa(1-Math.min(1,n+l))]}static CMYK_HTML(t){const n=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([t,n,a]){const l=1-t,o=1-n,c=1-a,h=Math.min(l,o,c);return["CMYK",l,o,c,h]}}class Hg{static setupStorage(t,n,a,l,o){const c=l.getValue(n,{value:null});switch(a.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",h=>{l.setValue(n,{value:h.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(c.value===a.attributes.xfaOn?t.setAttribute("checked",!0):c.value===a.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",h=>{l.setValue(n,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",h=>{l.setValue(n,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of a.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const d=h.target.options,g=d.selectedIndex===-1?"":d[d.selectedIndex].value;l.setValue(n,{value:g})});break}}static setAttributes({html:t,element:n,storage:a=null,intent:l,linkService:o}){const{attributes:c}=n,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${l}`);for(const[d,g]of Object.entries(c))if(g!=null)switch(d){case"class":g.length&&t.setAttribute(d,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!h||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,g)}h&&o.addLinkAttributes(t,c.href,c.newWindow),a&&c.dataId&&this.setupStorage(t,c.dataId,n,a)}static render(t){const n=t.annotationStorage,a=t.linkService,l=t.xfaHtml,o=t.intent||"display",c=document.createElement(l.name);l.attributes&&this.setAttributes({html:c,element:l,intent:o,linkService:a});const h=o!=="richText",d=t.div;if(d.append(c),t.viewport){const v=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=v}h&&d.setAttribute("class","xfaLayer xfaFont");const g=[];if(l.children.length===0){if(l.value){const v=document.createTextNode(l.value);c.append(v),h&&qa.shouldBuildText(l.name)&&g.push(v)}return{textDivs:g}}const m=[[l,-1,c]];for(;m.length>0;){const[v,b,A]=m.at(-1);if(b+1===v.children.length){m.pop();continue}const _=v.children[++m.at(-1)[1]];if(_===null)continue;const{name:E}=_;if(E==="#text"){const w=document.createTextNode(_.value);g.push(w),A.append(w);continue}const x=_?.attributes?.xmlns?document.createElementNS(_.attributes.xmlns,E):document.createElement(E);if(A.append(x),_.attributes&&this.setAttributes({html:x,element:_,storage:n,intent:o,linkService:a}),_.children?.length>0)m.push([_,-1,x]);else if(_.value){const w=document.createTextNode(_.value);h&&qa.shouldBuildText(E)&&g.push(w),x.append(w)}}for(const v of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const n=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=n,t.div.hidden=!1}}const Ya=1e3,d0=9,jn=new WeakSet;function Ii(p){return{width:p[2]-p[0],height:p[3]-p[1]}}class f0{static create(t){switch(t.data.annotationType){case re.LINK:return new zg(t);case re.TEXT:return new p0(t);case re.WIDGET:switch(t.data.fieldType){case"Tx":return new g0(t);case"Btn":return t.data.radioButton?new Fg(t):t.data.checkBox?new v0(t):new b0(t);case"Ch":return new y0(t);case"Sig":return new m0(t)}return new Vn(t);case re.POPUP:return new bu(t);case re.FREETEXT:return new Ug(t);case re.LINE:return new _0(t);case re.SQUARE:return new S0(t);case re.CIRCLE:return new E0(t);case re.POLYLINE:return new Bg(t);case re.CARET:return new w0(t);case re.INK:return new jg(t);case re.POLYGON:return new T0(t);case re.HIGHLIGHT:return new x0(t);case re.UNDERLINE:return new C0(t);case re.SQUIGGLY:return new R0(t);case re.STRIKEOUT:return new M0(t);case re.STAMP:return new Ig(t);case re.FILEATTACHMENT:return new D0(t);default:return new $t(t)}}}class $t{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:n=!1,ignoreBorder:a=!1,createQuadrilaterals:l=!1}={}){this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,n&&(this.container=this._createContainer(a)),l&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:n,richText:a}){return!!(t?.str||n?.str||a?.str)}get hasPopupData(){return $t._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:n}=t;n&&this.#s(n),this.#i?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#s(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#s(t){const{container:{style:n},data:{rect:a,rotation:l},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:h,pageY:d}}}}=this;a?.splice(0,4,...t);const{width:g,height:m}=Ii(t);n.left=`${100*(t[0]-h)/o}%`,n.top=`${100*(c-t[3]+d)/c}%`,l===0?(n.width=`${100*g/o}%`,n.height=`${100*m/c}%`):this.setRotation(l)}_createContainer(t){const{data:n,parent:{page:a,viewport:l}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",n.id),this instanceof Vn||(o.tabIndex=Ya);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,n.popupRef&&o.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(o.title=n.alternativeText),n.noRotate&&o.classList.add("norotate"),!n.rect||this instanceof bu){const{rotation:E}=n;return!n.hasOwnCanvas&&E!==0&&this.setRotation(E,o),o}const{width:h,height:d}=Ii(n.rect);if(!t&&n.borderStyle.width>0){c.borderWidth=`${n.borderStyle.width}px`;const E=n.borderStyle.horizontalCornerRadius,x=n.borderStyle.verticalCornerRadius;if(E>0||x>0){const P=`calc(${E}px * var(--scale-factor)) / calc(${x}px * var(--scale-factor))`;c.borderRadius=P}else if(this instanceof Fg){const P=`calc(${h}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;c.borderRadius=P}switch(n.borderStyle.style){case Ha.SOLID:c.borderStyle="solid";break;case Ha.DASHED:c.borderStyle="dashed";break;case Ha.BEVELED:Et("Unimplemented border style: beveled");break;case Ha.INSET:Et("Unimplemented border style: inset");break;case Ha.UNDERLINE:c.borderBottomStyle="solid";break}const w=n.borderColor||null;w?(this.#e=!0,c.borderColor=st.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):c.borderWidth=0}const g=st.normalizeRect([n.rect[0],a.view[3]-n.rect[1]+a.view[1],n.rect[2],a.view[3]-n.rect[3]+a.view[1]]),{pageWidth:m,pageHeight:v,pageX:b,pageY:A}=l.rawDims;c.left=`${100*(g[0]-b)/m}%`,c.top=`${100*(g[1]-A)/v}%`;const{rotation:_}=n;return n.hasOwnCanvas||_===0?(c.width=`${100*h/m}%`,c.height=`${100*d/v}%`):this.setRotation(_,o),o}setRotation(t,n=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:l}=this.parent.viewport.rawDims,{width:o,height:c}=Ii(this.data.rect);let h,d;t%180===0?(h=100*o/a,d=100*c/l):(h=100*c/a,d=100*o/l),n.style.width=`${h}%`,n.style.height=`${d}%`,n.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(n,a,l)=>{const o=l.detail[n],c=o[0],h=o.slice(1);l.target.style[a]=ag[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[a]:ag[`${c}_rgb`](h)})};return Rt(this,"_commonActions",{display:n=>{const{display:a}=n.detail,l=a%2===1;this.container.style.visibility=l?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:l,noPrint:a===1||a===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:a}=n.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{t("bgColor","backgroundColor",n)},fillColor:n=>{t("fillColor","backgroundColor",n)},fgColor:n=>{t("fgColor","color",n)},textColor:n=>{t("textColor","color",n)},borderColor:n=>{t("borderColor","borderColor",n)},strokeColor:n=>{t("strokeColor","borderColor",n)},rotation:n=>{const a=n.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(t,n){const a=this._commonActions;for(const l of Object.keys(n.detail))(t[l]||a[l])?.(n)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const a=this._commonActions;for(const[l,o]of Object.entries(n)){const c=a[l];if(c){const h={detail:{[l]:o},target:t};c(h),delete n[l]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[n,a,l,o]=this.data.rect.map(E=>Math.fround(E));if(t.length===8){const[E,x,w,P]=t.subarray(2,6);if(l===E&&o===x&&n===w&&a===P)return}const{style:c}=this.container;let h;if(this.#e){const{borderColor:E,borderWidth:x}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const d=l-n,g=o-a,{svgFactory:m}=this,v=m.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const b=m.createElement("defs");v.append(b);const A=m.createElement("clipPath"),_=`clippath_${this.data.id}`;A.setAttribute("id",_),A.setAttribute("clipPathUnits","objectBoundingBox"),b.append(A);for(let E=2,x=t.length;E<x;E+=8){const w=t[E],P=t[E+1],U=t[E+2],H=t[E+3],F=m.createElement("rect"),G=(U-n)/d,Y=(o-P)/g,Q=(w-U)/d,$=(P-H)/g;F.setAttribute("x",G),F.setAttribute("y",Y),F.setAttribute("width",Q),F.setAttribute("height",$),A.append(F),h?.push(`<rect vector-effect="non-scaling-stroke" x="${G}" y="${Y}" width="${Q}" height="${$}"/>`)}this.#e&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(v),this.container.style.clipPath=`url(#${_})`}_createPopup(){const{container:t,data:n}=this;t.setAttribute("aria-haspopup","dialog");const a=this.#i=new bu({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]});this.parent.div.append(a.render())}render(){zt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,n=null){const a=[];if(this._fieldObjects){const l=this._fieldObjects[t];if(l)for(const{page:o,id:c,exportValues:h}of l){if(o===-1||c===n)continue;const d=typeof h=="string"?h:null,g=document.querySelector(`[data-element-id="${c}"]`);if(g&&!jn.has(g)){Et(`_getElementsByName - element not allowed: ${c}`);continue}a.push({id:c,exportValue:d,domElement:g})}return a}for(const l of document.getElementsByName(t)){const{exportValue:o}=l,c=l.getAttribute("data-element-id");c!==n&&jn.has(l)&&a.push({id:c,exportValue:o,domElement:l})}return a}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const n of t)n.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:n})})}}class zg extends $t{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,a=document.createElement("a");a.setAttribute("data-element-id",t.id);let l=!1;return t.url?(n.addLinkAttributes(a,t.url,t.newWindow),l=!0):t.action?(this._bindNamedAction(a,t.action),l=!0):t.attachment?(this.#e(a,t.attachment,t.attachmentDest),l=!0):t.setOCGState?(this.#i(a,t.setOCGState),l=!0):t.dest?(this._bindLink(a,t.dest),l=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,t),l=!0),t.resetForm?(this._bindResetFormAction(a,t.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(a,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(a),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#t()}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),this.#t()}#e(t,n,a=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,a),!1),this.#t()}#i(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),this.#t()}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(n.actions)){const o=a.get(l);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:l}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,n){const a=t.onclick;if(a||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Et('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(t.onclick=()=>!1);return}t.onclick=()=>{a?.();const{fields:l,refs:o,include:c}=n,h=[];if(l.length!==0||o.length!==0){const m=new Set(o);for(const v of l){const b=this._fieldObjects[v]||[];for(const{id:A}of b)m.add(A)}for(const v of Object.values(this._fieldObjects))for(const b of v)m.has(b.id)===c&&h.push(b)}else for(const m of Object.values(this._fieldObjects))h.push(...m);const d=this.annotationStorage,g=[];for(const m of h){const{id:v}=m;switch(g.push(v),m.type){case"text":{const A=m.defaultValue||"";d.setValue(v,{value:A});break}case"checkbox":case"radiobutton":{const A=m.defaultValue===m.exportValues;d.setValue(v,{value:A});break}case"combobox":case"listbox":{const A=m.defaultValue||"";d.setValue(v,{value:A});break}default:continue}const b=document.querySelector(`[data-element-id="${v}"]`);if(b){if(!jn.has(b)){Et(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}}),!1}}}class p0 extends $t{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Vn extends $t{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return ze.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,n,a,l,o){a.includes("mouse")?t.addEventListener(a,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(a,c=>{if(a==="blur"){if(!n.focused||!c.relatedTarget)return;n.focused=!1}else if(a==="focus"){if(n.focused)return;n.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:o(c)}})})}_setEventListeners(t,n,a,l){for(const[o,c]of a)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(n||={focused:!1}),this._setEventListener(t,n,o,c,l),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,n,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,n,"focus","Focus",null))}_setBackgroundColor(t){const n=this.data.backgroundColor||null;t.style.backgroundColor=n===null?"transparent":st.makeHexColor(n[0],n[1],n[2])}_setTextStyle(t){const n=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,l=this.data.defaultAppearanceData.fontSize||d0,o=t.style;let c;const h=2,d=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h),m=Math.round(g/(nu*l))||1,v=g/m;c=Math.min(l,d(v/nu))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(l,d(g/nu))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=st.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(o.textAlign=n[this.data.textAlignment])}_setRequired(t,n){n?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",n)}}class g0 extends Vn{constructor(t){const n=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:n})}setPropertyOnSiblings(t,n,a,l){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[n]=a),o.setValue(c.id,{[l]:a})}render(){const t=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const l=t.getValue(n,{value:this.data.fieldValue});let o=l.value||"";const c=t.getValue(n,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let h=l.formattedValue||this.data.textContent?.join(`
`)||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=h??o,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type="text",a.setAttribute("value",h??o),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),jn.add(a),a.setAttribute("data-element-id",n),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=Ya,this._setRequired(a,this.data.required),c&&(a.maxLength=c),a.addEventListener("input",m=>{t.setValue(n,{value:m.target.value}),this.setPropertyOnSiblings(a,"value",m.target.value,"value"),d.formattedValue=null}),a.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue??"";a.value=d.userValue=v,d.formattedValue=null});let g=m=>{const{formattedValue:v}=d;v!=null&&(m.target.value=v),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",v=>{if(d.focused)return;const{target:b}=v;d.userValue&&(b.value=d.userValue),d.lastCommittedValue=b.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),a.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const b={value(A){d.userValue=A.detail.value??"",t.setValue(n,{value:d.userValue.toString()}),A.target.value=d.userValue},formattedValue(A){const{formattedValue:_}=A.detail;d.formattedValue=_,_!=null&&A.target!==document.activeElement&&(A.target.value=_),t.setValue(n,{formattedValue:_})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:_}=A.detail,{target:E}=A;if(_===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",_);let x=d.userValue;!x||x.length<=_||(x=x.slice(0,_),E.value=d.userValue=x,t.setValue(n,{value:x}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(b,v)}),a.addEventListener("keydown",v=>{d.commitKey=1;let b=-1;if(v.key==="Escape"?b=0:v.key==="Enter"&&!this.data.multiLine?b=2:v.key==="Tab"&&(d.commitKey=3),b===-1)return;const{value:A}=v.target;d.lastCommittedValue!==A&&(d.lastCommittedValue=A,d.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:A,willCommit:!0,commitKey:b,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const m=g;g=null,a.addEventListener("blur",v=>{if(!d.focused||!v.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:b}=v.target;d.userValue=b,d.lastCommittedValue!==b&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,willCommit:!0,commitKey:d.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),m(v)}),this.data.actions?.Keystroke&&a.addEventListener("beforeinput",v=>{d.lastCommittedValue=null;const{data:b,target:A}=v,{value:_,selectionStart:E,selectionEnd:x}=A;let w=E,P=x;switch(v.inputType){case"deleteWordBackward":{const U=_.substring(0,E).match(/\w*[^\w]*$/);U&&(w-=U[0].length);break}case"deleteWordForward":{const U=_.substring(E).match(/^[^\w]*\w*/);U&&(P+=U[0].length);break}case"deleteContentBackward":E===x&&(w-=1);break;case"deleteContentForward":E===x&&(P+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,change:b||"",willCommit:!1,selStart:w,selEnd:P}})}),this._setEventListeners(a,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(g&&a.addEventListener("blur",g),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/c;a.classList.add("comb"),a.style.letterSpacing=`calc(${v}px * var(--scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class m0 extends Vn{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class v0 extends Vn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,n=this.data,a=n.id;let l=t.getValue(a,{value:n.exportValue===n.fieldValue}).value;typeof l=="string"&&(l=l!=="Off",t.setValue(a,{value:l})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return jn.add(o),o.setAttribute("data-element-id",a),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=n.fieldName,l&&o.setAttribute("checked",!0),o.setAttribute("exportValue",n.exportValue),o.tabIndex=Ya,o.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const g of this._getElementsByName(h,a)){const m=d&&g.exportValue===n.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(a,{value:d})}),o.addEventListener("resetform",c=>{const h=n.defaultFieldValue||"Off";c.target.checked=h===n.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const h={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(a,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Fg extends Vn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,n=this.data,a=n.id;let l=t.getValue(a,{value:n.fieldValue===n.buttonValue}).value;if(typeof l=="string"&&(l=l!==n.buttonValue,t.setValue(a,{value:l})),l)for(const c of this._getElementsByName(n.fieldName,a))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(jn.add(o),o.setAttribute("data-element-id",a),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=n.fieldName,l&&o.setAttribute("checked",!0),o.tabIndex=Ya,o.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const g of this._getElementsByName(h,a))t.setValue(g.id,{value:!1});t.setValue(a,{value:d})}),o.addEventListener("resetform",c=>{const h=n.defaultFieldValue;c.target.checked=h!=null&&h===n.buttonValue}),this.enableScripting&&this.hasJSActions){const c=n.buttonValue;o.addEventListener("updatefromsandbox",h=>{const d={value:g=>{const m=c===g.detail.value;for(const v of this._getElementsByName(g.target.name)){const b=m&&v.id===a;v.domElement&&(v.domElement.checked=b),t.setValue(v.id,{value:b})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class b0 extends zg{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const n=t.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),t}}class y0 extends Vn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,n=this.data.id,a=t.getValue(n,{value:this.data.fieldValue}),l=document.createElement("select");jn.add(l),l.setAttribute("data-element-id",n),l.disabled=this.data.readOnly,this._setRequired(l,this.data.required),l.name=this.data.fieldName,l.tabIndex=Ya;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(l.size=this.data.options.length,this.data.multiSelect&&(l.multiple=!0)),l.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue;for(const b of l.options)b.selected=b.value===v});for(const m of this.data.options){const v=document.createElement("option");v.textContent=m.displayValue,v.value=m.exportValue,a.value.includes(m.exportValue)&&(v.setAttribute("selected",!0),o=!1),l.append(v)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),l.prepend(m),c=()=>{m.remove(),l.removeEventListener("input",c),c=null},l.addEventListener("input",c)}const h=m=>{const v=m?"value":"textContent",{options:b,multiple:A}=l;return A?Array.prototype.filter.call(b,_=>_.selected).map(_=>_[v]):b.selectedIndex===-1?null:b[b.selectedIndex][v]};let d=h(!1);const g=m=>{const v=m.target.options;return Array.prototype.map.call(v,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(l.addEventListener("updatefromsandbox",m=>{const v={value(b){c?.();const A=b.detail.value,_=new Set(Array.isArray(A)?A:[A]);for(const E of l.options)E.selected=_.has(E.value);t.setValue(n,{value:h(!0)}),d=h(!1)},multipleSelection(b){l.multiple=!0},remove(b){const A=l.options,_=b.detail.remove;A[_].selected=!1,l.remove(_),A.length>0&&Array.prototype.findIndex.call(A,x=>x.selected)===-1&&(A[0].selected=!0),t.setValue(n,{value:h(!0),items:g(b)}),d=h(!1)},clear(b){for(;l.length!==0;)l.remove(0);t.setValue(n,{value:null,items:[]}),d=h(!1)},insert(b){const{index:A,displayValue:_,exportValue:E}=b.detail.insert,x=l.children[A],w=document.createElement("option");w.textContent=_,w.value=E,x?x.before(w):l.append(w),t.setValue(n,{value:h(!0),items:g(b)}),d=h(!1)},items(b){const{items:A}=b.detail;for(;l.length!==0;)l.remove(0);for(const _ of A){const{displayValue:E,exportValue:x}=_,w=document.createElement("option");w.textContent=E,w.value=x,l.append(w)}l.options.length>0&&(l.options[0].selected=!0),t.setValue(n,{value:h(!0),items:g(b)}),d=h(!1)},indices(b){const A=new Set(b.detail.indices);for(const _ of b.target.options)_.selected=A.has(_.index);t.setValue(n,{value:h(!0)}),d=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(v,m)}),l.addEventListener("input",m=>{const v=h(!0),b=h(!1);t.setValue(n,{value:v}),m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:d,change:b,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(l,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):l.addEventListener("input",function(m){t.setValue(n,{value:h(!0)})}),this.data.combo&&this._setTextStyle(l),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class bu extends $t{constructor(t){const{data:n,elements:a}=t;super(t,{isRenderable:$t._hasPopupData(n)}),this.elements=a,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new A0({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const a of this.elements)a.popup=t,n.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(a=>`${yg}${a}`).join(",")),this.container}}class A0{#t=this.#D.bind(this);#e=this.#S.bind(this);#i=this.#v.bind(this);#s=this.#A.bind(this);#l=null;#n=null;#a=null;#o=null;#u=null;#h=null;#f=null;#c=!1;#r=null;#p=null;#m=null;#d=null;#b=null;#g=null;#y=!1;constructor({container:t,color:n,elements:a,titleObj:l,modificationDate:o,contentsObj:c,richText:h,parent:d,rect:g,parentRect:m,open:v}){this.#n=t,this.#b=l,this.#a=c,this.#d=h,this.#h=d,this.#l=n,this.#m=g,this.#f=m,this.#u=a,this.#o=Eg.toDateObject(o),this.trigger=a.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",this.#s),b.addEventListener("mouseenter",this.#i),b.addEventListener("mouseleave",this.#e),b.classList.add("popupTriggerArea");for(const b of a)b.container?.addEventListener("keydown",this.#t);this.#n.hidden=!0,v&&this.#A()}render(){if(this.#r)return;const t=this.#r=document.createElement("div");if(t.className="popup",this.#l){const o=t.style.outlineColor=st.makeHexColor(...this.#l);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=st.makeHexColor(...this.#l.map(h=>Math.floor(.7*(255-h)+h)))}const n=document.createElement("span");n.className="header";const a=document.createElement("h1");if(n.append(a),{dir:a.dir,str:a.textContent}=this.#b,t.append(n),this.#o){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:this.#o.toLocaleDateString(),time:this.#o.toLocaleTimeString()})),n.append(o)}const l=this.#_;if(l)Hg.render({xfaHtml:l,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(this.#a);t.append(o)}this.#n.append(t)}get#_(){const t=this.#d,n=this.#a;return t?.str&&(!n?.str||n.str===t.str)&&this.#d.html||null}get#E(){return this.#_?.attributes?.style?.fontSize||0}get#w(){return this.#_?.attributes?.style?.color||null}#x(t){const n=[],a={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},l={style:{color:this.#w,fontSize:this.#E?`calc(${this.#E}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))n.push({name:"span",value:o,attributes:l});return a}_formatContents({str:t,dir:n}){const a=document.createElement("p");a.classList.add("popupContent"),a.dir=n;const l=t.split(/(?:\r\n?|\n)/);for(let o=0,c=l.length;o<c;++o){const h=l[o];a.append(document.createTextNode(h)),o<c-1&&a.append(document.createElement("br"))}return a}#D(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#c)&&this.#A()}updateEdited({rect:t,popupContent:n}){this.#g||={contentsObj:this.#a,richText:this.#d},t&&(this.#p=null),n&&(this.#d=this.#x(n),this.#a=null),this.#r?.remove(),this.#r=null}resetEdited(){this.#g&&({contentsObj:this.#a,richText:this.#d}=this.#g,this.#g=null,this.#r?.remove(),this.#r=null,this.#p=null)}#T(){if(this.#p!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:l,pageY:o}}}=this.#h;let c=!!this.#f,h=c?this.#f:this.#m;for(const _ of this.#u)if(!h||st.intersect(_.data.rect,h)!==null){h=_.data.rect,c=!0;break}const d=st.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),m=c?h[2]-h[0]+5:0,v=d[0]+m,b=d[1];this.#p=[100*(v-l)/n,100*(b-o)/a];const{style:A}=this.#n;A.left=`${this.#p[0]}%`,A.top=`${this.#p[1]}%`}#A(){this.#c=!this.#c,this.#c?(this.#v(),this.#n.addEventListener("click",this.#s),this.#n.addEventListener("keydown",this.#t)):(this.#S(),this.#n.removeEventListener("click",this.#s),this.#n.removeEventListener("keydown",this.#t))}#v(){this.#r||this.render(),this.isVisible?this.#c&&this.#n.classList.add("focused"):(this.#T(),this.#n.hidden=!1,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)+1e3)}#S(){this.#n.classList.remove("focused"),!(this.#c||!this.isVisible)&&(this.#n.hidden=!0,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#n.hidden=!0)}maybeShow(){this.#y&&(this.#r||this.#v(),this.#y=!1,this.#n.hidden=!1)}get isVisible(){return this.#n.hidden===!1}}class Ug extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ct.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const n of this.textContent){const a=document.createElement("span");a.textContent=n,t.append(a)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class _0 extends $t{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:a}=Ii(t.rect),l=this.svgFactory.create(n,a,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),l.append(o),this.container.append(l),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class S0 extends $t{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:a}=Ii(t.rect),l=this.svgFactory.create(n,a,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",n-o),c.setAttribute("height",a-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class E0 extends $t{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:a}=Ii(t.rect),l=this.svgFactory.create(n,a,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",n/2),c.setAttribute("cy",a/2),c.setAttribute("rx",n/2-o/2),c.setAttribute("ry",a/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Bg extends $t{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:a,popupRef:l}}=this;if(!n)return this.container;const{width:o,height:c}=Ii(t),h=this.svgFactory.create(o,c,!0);let d=[];for(let m=0,v=n.length;m<v;m+=2){const b=n[m]-t[0],A=t[3]-n[m+1];d.push(`${b},${A}`)}d=d.join(" ");const g=this.#t=this.svgFactory.createElement(this.svgElementName);return g.setAttribute("points",d),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g),this.container.append(h),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class T0 extends Bg{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class w0 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class jg extends $t{#t=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ct.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:a,popupRef:l}}=this,{width:o,height:c}=Ii(t),h=this.svgFactory.create(o,c,!0);for(const d of n){let g=[];for(let v=0,b=d.length;v<b;v+=2){const A=d[v]-t[0],_=t[3]-d[v+1];g.push(`${A},${_}`)}g=g.join(" ");const m=this.svgFactory.createElement(this.svgElementName);this.#t.push(m),m.setAttribute("points",g),m.setAttribute("stroke-width",a.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),!l&&this.hasPopupData&&this._createPopup(),h.append(m)}return this.container.append(h),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class x0 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class C0 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class R0 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class M0 extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ig extends $t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class D0 extends $t{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let a;n.hasAppearance||n.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),a.addEventListener("dblclick",this.#e.bind(this)),this.#t=a;const{isMac:l}=ze.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(l?o.metaKey:o.ctrlKey)&&this.#e()}),!n.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),t.append(a),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let L0=class{#t=null;#e=null;#i=new Map;constructor({div:t,accessibilityManager:n,annotationCanvasMap:a,annotationEditorUIManager:l,page:o,viewport:c}){this.div=t,this.#t=n,this.#e=a,this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=l}#s(t,n){const a=t.firstChild||t;a.id=`${yg}${n}`,this.div.append(t),this.#t?.moveElementInDOM(this.div,t,a,!1)}async render(t){const{annotations:n}=t,a=this.div;Bn(a,this.viewport);const l=new Map,o={data:null,layer:a,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new xu,annotationStorage:t.annotationStorage||new ku,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of n){if(c.noHTML)continue;const h=c.annotationType===re.POPUP;if(h){const m=l.get(c.id);if(!m)continue;o.elements=m}else{const{width:m,height:v}=Ii(c.rect);if(m<=0||v<=0)continue}o.data=c;const d=f0.create(o);if(!d.isRenderable)continue;if(!h&&c.popupRef){const m=l.get(c.popupRef);m?m.push(d):l.set(c.popupRef,[d])}const g=d.render();c.hidden&&(g.style.visibility="hidden"),this.#s(g,c.id),d.annotationEditorType>0&&(this.#i.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#l()}update({viewport:t}){const n=this.div;this.viewport=t,Bn(n,{rotation:t.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#e)return;const t=this.div;for(const[n,a]of this.#e){const l=t.querySelector(`[data-annotation-id="${n}"]`);if(!l)continue;a.className="annotationContent";const{firstChild:o}=l;o?o.nodeName==="CANVAS"?o.replaceWith(a):o.classList.contains("annotationContent")?o.after(a):o.before(a):l.append(a)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(t){return this.#i.get(t)}};const ml=/\r\n?|\n/g;class le extends ft{#t=this.editorDivBlur.bind(this);#e=this.editorDivFocus.bind(this);#i=this.editorDivInput.bind(this);#s=this.editorDivKeydown.bind(this);#l=this.editorDivPaste.bind(this);#n;#a="";#o=`${this.id}-editor`;#u;#h=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=le.prototype,n=o=>o.isEmpty(),a=gn.TRANSLATE_SMALL,l=gn.TRANSLATE_BIG;return Rt(this,"_keyboardManager",new Va([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-l,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[l,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-l],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,l],checker:n}]]))}static _type="freetext";static _editorType=Ct.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#n=t.color||le._defaultColor||ft._defaultLineColor,this.#u=t.fontSize||le._defaultFontSize}static initialize(t,n){ft.initialize(t,n,{strings:["pdfjs-free-text-default-content"]});const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case pt.FREETEXT_SIZE:le._defaultFontSize=n;break;case pt.FREETEXT_COLOR:le._defaultColor=n;break}}updateParams(t,n){switch(t){case pt.FREETEXT_SIZE:this.#f(n);break;case pt.FREETEXT_COLOR:this.#c(n);break}}static get defaultPropertiesToUpdate(){return[[pt.FREETEXT_SIZE,le._defaultFontSize],[pt.FREETEXT_COLOR,le._defaultColor||ft._defaultLineColor]]}get propertiesToUpdate(){return[[pt.FREETEXT_SIZE,this.#u],[pt.FREETEXT_COLOR,this.#n]]}#f(t){const n=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-this.#u)*this.parentScale),this.#u=l,this.#p()},a=this.#u;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#c(t){const n=l=>{this.#n=this.editorDiv.style.color=l},a=this.#n;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-le._internalPadding*t,-(le._internalPadding+this.#u)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ct.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",this.#s,{signal:t}),this.editorDiv.addEventListener("focus",this.#e,{signal:t}),this.editorDiv.addEventListener("blur",this.#t,{signal:t}),this.editorDiv.addEventListener("input",this.#i,{signal:t}),this.editorDiv.addEventListener("paste",this.#l,{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#s),this.editorDiv.removeEventListener("focus",this.#e),this.editorDiv.removeEventListener("blur",this.#t),this.editorDiv.removeEventListener("input",this.#i),this.editorDiv.removeEventListener("paste",this.#l),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();for(const n of this.editorDiv.childNodes)t.push(le.#m(n));return t.join(`
`)}#p(){const[t,n]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:l,div:o}=this,c=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",l.div.append(this.div),a=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=a.width/t,this.height=a.height/n):(this.width=a.height/t,this.height=a.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#a,n=this.#a=this.#r().trimEnd();if(t===n)return;const a=l=>{if(this.#a=l,!l){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#p()};this.addCommands({cmd:()=>{a(n)},undo:()=>{a(t)},mustExec:!1}),this.#p()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){le._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#o),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),ft._l10nPromise.get("pdfjs-free-text-default-content").then(l=>this.editorDiv?.setAttribute("default-content",l)),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${this.#u}px * var(--scale-factor))`,a.color=this.#n,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bl(this,this.div,["dblclick","keydown"]),this.width){const[l,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this.#h;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[g,m]=this.pageDimensions,[v,b]=this.pageTranslation;let A,_;switch(this.rotation){case 0:A=t+(c[0]-v)/g,_=n+this.height-(c[1]-b)/m;break;case 90:A=t+(c[0]-v)/g,_=n-(c[1]-b)/m,[h,d]=[d,-h];break;case 180:A=t-this.width+(c[0]-v)/g,_=n-(c[1]-b)/m,[h,d]=[-h,-d];break;case 270:A=t+(c[0]-v-this.height*m)/g,_=n+(c[1]-b-this.width*g)/m,[h,d]=[-d,h];break}this.setAt(A*l,_*o,h,d)}else this.setAt(t*l,n*o,this.width*l,this.height*o);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#m(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(ml,"")}editorDivPaste(t){const n=t.clipboardData||window.clipboardData,{types:a}=n;if(a.length===1&&a[0]==="text/plain")return;t.preventDefault();const l=le.#g(n.getData("text")||"").replaceAll(ml,`
`);if(!l)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!l.includes(`
`)){c.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:d}=c,g=[],m=[];if(h.nodeType===Node.TEXT_NODE){const A=h.parentElement;if(m.push(h.nodeValue.slice(d).replaceAll(ml,"")),A!==this.editorDiv){let _=g;for(const E of this.editorDiv.childNodes){if(E===A){_=m;continue}_.push(le.#m(E))}}g.push(h.nodeValue.slice(0,d).replaceAll(ml,""))}else if(h===this.editorDiv){let A=g,_=0;for(const E of this.editorDiv.childNodes)_++===d&&(A=m),A.push(le.#m(E))}this.#a=`${g.join(`
`)}${l}${m.join(`
`)}`,this.#d();const v=new Range;let b=g.reduce((A,_)=>A+_.length,0);for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const _=A.nodeValue.length;if(b<=_){v.setStart(A,b),v.setEnd(A,b);break}b-=_}o.removeAllRanges(),o.addRange(v)}#d(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const t of this.#a.split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}}#b(){return this.#a.replaceAll(""," ")}static#g(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static deserialize(t,n,a){let l=null;if(t instanceof Ug){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:d,rotation:g,id:m},textContent:v,textPosition:b,parent:{page:{pageNumber:A}}}=t;if(!v||v.length===0)return null;l=t={annotationType:Ct.FREETEXT,color:Array.from(h),fontSize:c,value:v.join(`
`),position:b,pageIndex:A-1,rect:d.slice(0),rotation:g,id:m,deleted:!1}}const o=super.deserialize(t,n,a);return o.#u=t.fontSize,o.#n=st.makeHexColor(...t.color),o.#a=le.#g(t.value),o.annotationElementId=t.id||null,o.#h=l,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=le._internalPadding*this.parentScale,a=this.getRect(n,n),l=ft._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#n),o={annotationType:Ct.FREETEXT,color:l,fontSize:this.#u,value:this.#b(),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!this.#y(o)?null:(o.id=this.annotationElementId,o)}#y(t){const{value:n,fontSize:a,color:l,pageIndex:o}=this.#h;return this._hasBeenMoved||t.value!==n||t.fontSize!==a||t.color.some((c,h)=>c!==l[h])||t.pageIndex!==o}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:a}=n;a.fontSize=`calc(${this.#u}px * var(--scale-factor))`,a.color=this.#n,n.replaceChildren();for(const o of this.#a.split(`
`)){const c=document.createElement("div");c.append(o?document.createTextNode(o):document.createElement("br")),n.append(c)}const l=le._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(l,l),popupContent:this.#a}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class yu{#t;#e=[];#i=[];constructor(t,n=0,a=0,l=!0){let o=1/0,c=-1/0,h=1/0,d=-1/0;const g=10**-4;for(const{x,y:w,width:P,height:U}of t){const H=Math.floor((x-n)/g)*g,F=Math.ceil((x+P+n)/g)*g,G=Math.floor((w-n)/g)*g,Y=Math.ceil((w+U+n)/g)*g,Q=[H,G,Y,!0],$=[F,G,Y,!1];this.#e.push(Q,$),o=Math.min(o,H),c=Math.max(c,F),h=Math.min(h,G),d=Math.max(d,Y)}const m=c-o+2*a,v=d-h+2*a,b=o-a,A=h-a,_=this.#e.at(l?-1:-2),E=[_[0],_[2]];for(const x of this.#e){const[w,P,U]=x;x[0]=(w-b)/m,x[1]=(P-A)/v,x[2]=(U-A)/v}this.#t={x:b,y:A,width:m,height:v,lastPoint:E}}getOutlines(){this.#e.sort((n,a)=>n[0]-a[0]||n[1]-a[1]||n[2]-a[2]);const t=[];for(const n of this.#e)n[3]?(t.push(...this.#o(n)),this.#n(n)):(this.#a(n),t.push(...this.#o(n)));return this.#s(t)}#s(t){const n=[],a=new Set;for(const c of t){const[h,d,g]=c;n.push([h,d,c],[h,g,c])}n.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=n.length;c<h;c+=2){const d=n[c][2],g=n[c+1][2];d.push(g),g.push(d),a.add(d),a.add(g)}const l=[];let o;for(;a.size>0;){const c=a.values().next().value;let[h,d,g,m,v]=c;a.delete(c);let b=h,A=d;for(o=[h,g],l.push(o);;){let _;if(a.has(m))_=m;else if(a.has(v))_=v;else break;a.delete(_),[h,d,g,m,v]=_,b!==h&&(o.push(b,A,h,A===d?d:g),b=h),A=A===d?g:d}o.push(b,A)}return new O0(l,this.#t)}#l(t){const n=this.#i;let a=0,l=n.length-1;for(;a<=l;){const o=a+l>>1,c=n[o][0];if(c===t)return o;c<t?a=o+1:l=o-1}return l+1}#n([,t,n]){const a=this.#l(t);this.#i.splice(a,0,[t,n])}#a([,t,n]){const a=this.#l(t);for(let l=a;l<this.#i.length;l++){const[o,c]=this.#i[l];if(o!==t)break;if(o===t&&c===n){this.#i.splice(l,1);return}}for(let l=a-1;l>=0;l--){const[o,c]=this.#i[l];if(o!==t)break;if(o===t&&c===n){this.#i.splice(l,1);return}}}#o(t){const[n,a,l]=t,o=[[n,a,l]],c=this.#l(l);for(let h=0;h<c;h++){const[d,g]=this.#i[h];for(let m=0,v=o.length;m<v;m++){const[,b,A]=o[m];if(!(g<=b||A<=d)){if(b>=d){if(A>g)o[m][1]=g;else{if(v===1)return[];o.splice(m,1),m--,v--}continue}o[m][2]=d,A>g&&o.push([n,g,A])}}}return o}}class qg{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Au}}class O0 extends qg{#t;#e;constructor(t,n){super(),this.#e=t,this.#t=n}toSVGPath(){const t=[];for(const n of this.#e){let[a,l]=n;t.push(`M${a} ${l}`);for(let o=2;o<n.length;o+=2){const c=n[o],h=n[o+1];c===a?(t.push(`V${h}`),l=h):h===l&&(t.push(`H${c}`),a=c)}t.push("Z")}return t.join(" ")}serialize([t,n,a,l],o){const c=[],h=a-t,d=l-n;for(const g of this.#e){const m=new Array(g.length);for(let v=0;v<g.length;v+=2)m[v]=t+g[v]*h,m[v+1]=l-g[v+1]*d;c.push(m)}return c}get box(){return this.#t}}class Un{#t;#e=[];#i;#s;#l=[];#n=new Float64Array(18);#a;#o;#u;#h;#f;#c;#r=[];static#p=8;static#m=2;static#d=Un.#p+Un.#m;constructor({x:t,y:n},a,l,o,c,h=0){this.#t=a,this.#c=o*l,this.#s=c,this.#n.set([NaN,NaN,NaN,NaN,t,n],6),this.#i=h,this.#h=Un.#p*l,this.#u=Un.#d*l,this.#f=l,this.#r.push(t,n)}get free(){return!0}isEmpty(){return isNaN(this.#n[8])}#b(){const t=this.#n.subarray(4,6),n=this.#n.subarray(16,18),[a,l,o,c]=this.#t;return[(this.#a+(t[0]-n[0])/2-a)/o,(this.#o+(t[1]-n[1])/2-l)/c,(this.#a+(n[0]-t[0])/2-a)/o,(this.#o+(n[1]-t[1])/2-l)/c]}add({x:t,y:n}){this.#a=t,this.#o=n;const[a,l,o,c]=this.#t;let[h,d,g,m]=this.#n.subarray(8,12);const v=t-g,b=n-m,A=Math.hypot(v,b);if(A<this.#u)return!1;const _=A-this.#h,E=_/A,x=E*v,w=E*b;let P=h,U=d;h=g,d=m,g+=x,m+=w,this.#r?.push(t,n);const H=-w/_,F=x/_,G=H*this.#c,Y=F*this.#c;return this.#n.set(this.#n.subarray(2,8),0),this.#n.set([g+G,m+Y],4),this.#n.set(this.#n.subarray(14,18),12),this.#n.set([g-G,m-Y],16),isNaN(this.#n[6])?(this.#l.length===0&&(this.#n.set([h+G,d+Y],2),this.#l.push(NaN,NaN,NaN,NaN,(h+G-a)/o,(d+Y-l)/c),this.#n.set([h-G,d-Y],14),this.#e.push(NaN,NaN,NaN,NaN,(h-G-a)/o,(d-Y-l)/c)),this.#n.set([P,U,h,d,g,m],6),!this.isEmpty()):(this.#n.set([P,U,h,d,g,m],6),Math.abs(Math.atan2(U-d,P-h)-Math.atan2(w,x))<Math.PI/2?([h,d,g,m]=this.#n.subarray(2,6),this.#l.push(NaN,NaN,NaN,NaN,((h+g)/2-a)/o,((d+m)/2-l)/c),[h,d,P,U]=this.#n.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((P+h)/2-a)/o,((U+d)/2-l)/c),!0):([P,U,h,d,g,m]=this.#n.subarray(0,6),this.#l.push(((P+5*h)/6-a)/o,((U+5*d)/6-l)/c,((5*h+g)/6-a)/o,((5*d+m)/6-l)/c,((h+g)/2-a)/o,((d+m)/2-l)/c),[g,m,h,d,P,U]=this.#n.subarray(12,18),this.#e.push(((P+5*h)/6-a)/o,((U+5*d)/6-l)/c,((5*h+g)/6-a)/o,((5*d+m)/6-l)/c,((h+g)/2-a)/o,((d+m)/2-l)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#l,n=this.#e,a=this.#n.subarray(4,6),l=this.#n.subarray(16,18),[o,c,h,d]=this.#t,[g,m,v,b]=this.#b();if(isNaN(this.#n[6])&&!this.isEmpty())return`M${(this.#n[2]-o)/h} ${(this.#n[3]-c)/d} L${(this.#n[4]-o)/h} ${(this.#n[5]-c)/d} L${g} ${m} L${v} ${b} L${(this.#n[16]-o)/h} ${(this.#n[17]-c)/d} L${(this.#n[14]-o)/h} ${(this.#n[15]-c)/d} Z`;const A=[];A.push(`M${t[4]} ${t[5]}`);for(let _=6;_<t.length;_+=6)isNaN(t[_])?A.push(`L${t[_+4]} ${t[_+5]}`):A.push(`C${t[_]} ${t[_+1]} ${t[_+2]} ${t[_+3]} ${t[_+4]} ${t[_+5]}`);A.push(`L${(a[0]-o)/h} ${(a[1]-c)/d} L${g} ${m} L${v} ${b} L${(l[0]-o)/h} ${(l[1]-c)/d}`);for(let _=n.length-6;_>=6;_-=6)isNaN(n[_])?A.push(`L${n[_+4]} ${n[_+5]}`):A.push(`C${n[_]} ${n[_+1]} ${n[_+2]} ${n[_+3]} ${n[_+4]} ${n[_+5]}`);return A.push(`L${n[4]} ${n[5]} Z`),A.join(" ")}getOutlines(){const t=this.#l,n=this.#e,a=this.#n,l=a.subarray(4,6),o=a.subarray(16,18),[c,h,d,g]=this.#t,m=new Float64Array((this.#r?.length??0)+2);for(let w=0,P=m.length-2;w<P;w+=2)m[w]=(this.#r[w]-c)/d,m[w+1]=(this.#r[w+1]-h)/g;m[m.length-2]=(this.#a-c)/d,m[m.length-1]=(this.#o-h)/g;const[v,b,A,_]=this.#b();if(isNaN(a[6])&&!this.isEmpty()){const w=new Float64Array(36);return w.set([NaN,NaN,NaN,NaN,(a[2]-c)/d,(a[3]-h)/g,NaN,NaN,NaN,NaN,(a[4]-c)/d,(a[5]-h)/g,NaN,NaN,NaN,NaN,v,b,NaN,NaN,NaN,NaN,A,_,NaN,NaN,NaN,NaN,(a[16]-c)/d,(a[17]-h)/g,NaN,NaN,NaN,NaN,(a[14]-c)/d,(a[15]-h)/g],0),new Au(w,m,this.#t,this.#f,this.#i,this.#s)}const E=new Float64Array(this.#l.length+24+this.#e.length);let x=t.length;for(let w=0;w<x;w+=2){if(isNaN(t[w])){E[w]=E[w+1]=NaN;continue}E[w]=t[w],E[w+1]=t[w+1]}E.set([NaN,NaN,NaN,NaN,(l[0]-c)/d,(l[1]-h)/g,NaN,NaN,NaN,NaN,v,b,NaN,NaN,NaN,NaN,A,_,NaN,NaN,NaN,NaN,(o[0]-c)/d,(o[1]-h)/g],x),x+=24;for(let w=n.length-6;w>=6;w-=6)for(let P=0;P<6;P+=2){if(isNaN(n[w+P])){E[x]=E[x+1]=NaN,x+=2;continue}E[x]=n[w+P],E[x+1]=n[w+P+1],x+=2}return E.set([NaN,NaN,NaN,NaN,n[4],n[5]],x),new Au(E,m,this.#t,this.#f,this.#i,this.#s)}}class Au extends qg{#t;#e=null;#i;#s;#l;#n;#a;constructor(t,n,a,l,o,c){super(),this.#a=t,this.#l=n,this.#t=a,this.#n=l,this.#i=o,this.#s=c,this.#h(c);const{x:h,y:d,width:g,height:m}=this.#e;for(let v=0,b=t.length;v<b;v+=2)t[v]=(t[v]-h)/g,t[v+1]=(t[v+1]-d)/m;for(let v=0,b=n.length;v<b;v+=2)n[v]=(n[v]-h)/g,n[v+1]=(n[v+1]-d)/m}toSVGPath(){const t=[`M${this.#a[4]} ${this.#a[5]}`];for(let n=6,a=this.#a.length;n<a;n+=6){if(isNaN(this.#a[n])){t.push(`L${this.#a[n+4]} ${this.#a[n+5]}`);continue}t.push(`C${this.#a[n]} ${this.#a[n+1]} ${this.#a[n+2]} ${this.#a[n+3]} ${this.#a[n+4]} ${this.#a[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,a,l],o){const c=a-t,h=l-n;let d,g;switch(o){case 0:d=this.#o(this.#a,t,l,c,-h),g=this.#o(this.#l,t,l,c,-h);break;case 90:d=this.#u(this.#a,t,n,c,h),g=this.#u(this.#l,t,n,c,h);break;case 180:d=this.#o(this.#a,a,n,-c,h),g=this.#o(this.#l,a,n,-c,h);break;case 270:d=this.#u(this.#a,a,l,-c,-h),g=this.#u(this.#l,a,l,-c,-h);break}return{outline:Array.from(d),points:[Array.from(g)]}}#o(t,n,a,l,o){const c=new Float64Array(t.length);for(let h=0,d=t.length;h<d;h+=2)c[h]=n+t[h]*l,c[h+1]=a+t[h+1]*o;return c}#u(t,n,a,l,o){const c=new Float64Array(t.length);for(let h=0,d=t.length;h<d;h+=2)c[h]=n+t[h+1]*l,c[h+1]=a+t[h]*o;return c}#h(t){const n=this.#a;let a=n[4],l=n[5],o=a,c=l,h=a,d=l,g=a,m=l;const v=t?Math.max:Math.min;for(let x=6,w=n.length;x<w;x+=6){if(isNaN(n[x]))o=Math.min(o,n[x+4]),c=Math.min(c,n[x+5]),h=Math.max(h,n[x+4]),d=Math.max(d,n[x+5]),m<n[x+5]?(g=n[x+4],m=n[x+5]):m===n[x+5]&&(g=v(g,n[x+4]));else{const P=st.bezierBoundingBox(a,l,...n.slice(x,x+6));o=Math.min(o,P[0]),c=Math.min(c,P[1]),h=Math.max(h,P[2]),d=Math.max(d,P[3]),m<P[3]?(g=P[2],m=P[3]):m===P[3]&&(g=v(g,P[2]))}a=n[x+4],l=n[x+5]}const b=o-this.#i,A=c-this.#i,_=h-o+2*this.#i,E=d-c+2*this.#i;this.#e={x:b,y:A,width:_,height:E,lastPoint:[g,m]}}get box(){return this.#e}getNewOutline(t,n){const{x:a,y:l,width:o,height:c}=this.#e,[h,d,g,m]=this.#t,v=o*g,b=c*m,A=a*g+h,_=l*m+d,E=new Un({x:this.#l[0]*v+A,y:this.#l[1]*b+_},this.#t,this.#n,t,this.#s,n??this.#i);for(let x=2;x<this.#l.length;x+=2)E.add({x:this.#l[x]*v+A,y:this.#l[x+1]*b+_});return E.getOutlines()}}class bi{#t=this.#m.bind(this);#e=this.#b.bind(this);#i=null;#s=null;#l;#n=null;#a=!1;#o=!1;#u=null;#h;#f=null;#c;static get _keyboardManager(){return Rt(this,"_keyboardManager",new Va([[["Escape","mac+Escape"],bi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],bi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],bi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],bi.prototype._moveToPrevious],[["Home","mac+Home"],bi.prototype._moveToBeginning],[["End","mac+End"],bi.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:n=null}){t?(this.#o=!1,this.#c=pt.HIGHLIGHT_COLOR,this.#u=t):(this.#o=!0,this.#c=pt.HIGHLIGHT_DEFAULT_COLOR),this.#f=t?._uiManager||n,this.#h=this.#f._eventBus,this.#l=t?.color||this.#f?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const t=this.#i=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const n=this.#f._signal;t.addEventListener("click",this.#d.bind(this),{signal:n}),t.addEventListener("keydown",this.#t,{signal:n});const a=this.#s=document.createElement("span");return a.className="swatch",a.setAttribute("aria-hidden",!0),a.style.backgroundColor=this.#l,t.append(a),t}renderMainDropdown(){const t=this.#n=this.#r();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#r(){const t=document.createElement("div"),n=this.#f._signal;t.addEventListener("contextmenu",Fe,{signal:n}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[a,l]of this.#f.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",l),o.title=a,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${a}`);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=l,o.setAttribute("aria-selected",l===this.#l),o.addEventListener("click",this.#p.bind(this,l),{signal:n}),t.append(o)}return t.addEventListener("keydown",this.#t,{signal:n}),t}#p(t,n){n.stopPropagation(),this.#h.dispatch("switchannotationeditorparams",{source:this,type:this.#c,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#i){this.#d(t);return}const n=t.target.getAttribute("data-color");n&&this.#p(n,t)}_moveToNext(t){if(!this.#g){this.#d(t);return}if(t.target===this.#i){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#i){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#d(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#d(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#d(t);return}this.#n.lastChild?.focus()}#m(t){bi._keyboardManager.exec(this,t)}#d(t){if(this.#g){this.hideDropdown();return}if(this.#a=t.detail===0,window.addEventListener("pointerdown",this.#e,{signal:this.#f._signal}),this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#r();this.#i.append(n)}#b(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#e)}get#g(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#o){if(!this.#g){this.#u?.unselect();return}this.hideDropdown(),this.#i.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#s&&(this.#s.style.backgroundColor=t),!this.#n)return;const n=this.#f.highlightColors.values();for(const a of this.#n.children)a.setAttribute("aria-selected",n.next().value===t)}destroy(){this.#i?.remove(),this.#i=null,this.#s=null,this.#n?.remove(),this.#n=null}}class ie extends ft{#t=null;#e=0;#i;#s=null;#l=null;#n=null;#a=null;#o=0;#u=null;#h=null;#f=null;#c=!1;#r=this.#S.bind(this);#p=null;#m;#d=null;#b="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=Ct.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ie.prototype;return Rt(this,"_keyboardManager",new Va([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ie._defaultColor,this.#g=t.thickness||ie._defaultThickness,this.#m=t.opacity||ie._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#b=t.text||"",this._isDraggable=!1,t.highlightId>-1?(this.#c=!0,this.#E(t),this.#A()):(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#a=t.focusNode,this.#o=t.focusOffset,this.#_(),this.#A(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#c?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#_(){const t=new yu(this.#i,.001);this.#h=t.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#h.box;const n=new yu(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#n=n.getOutlines();const{lastPoint:a}=this.#n.box;this.#p=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#E({highlightOutlines:t,highlightId:n,clipPathId:a}){this.#h=t;const l=1.5;if(this.#n=t.getNewOutline(this.#g/2+l,.0025),n>=0)this.#f=n,this.#s=a,this.parent.drawLayer.finalizeLine(n,t),this.#d=this.parent.drawLayer.highlightOutline(this.#n);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#f,t),this.parent.drawLayer.updateBox(this.#f,ie.#v(this.#h.box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#d,this.#n),this.parent.drawLayer.updateBox(this.#d,ie.#v(this.#n.box,m))}const{x:o,y:c,width:h,height:d}=t.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=h,this.height=d;break;case 90:{const[m,v]=this.parentDimensions;this.x=c,this.y=1-o,this.width=h*v/m,this.height=d*m/v;break}case 180:this.x=1-o,this.y=1-c,this.width=h,this.height=d;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-c,this.y=o,this.width=h*v/m,this.height=d*m/v;break}}const{lastPoint:g}=this.#n.box;this.#p=[(g[0]-o)/h,(g[1]-c)/d]}static initialize(t,n){ft.initialize(t,n),ie._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,n){switch(t){case pt.HIGHLIGHT_DEFAULT_COLOR:ie._defaultColor=n;break;case pt.HIGHLIGHT_THICKNESS:ie._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return this.#p}updateParams(t,n){switch(t){case pt.HIGHLIGHT_COLOR:this.#w(n);break;case pt.HIGHLIGHT_THICKNESS:this.#x(n);break}}static get defaultPropertiesToUpdate(){return[[pt.HIGHLIGHT_DEFAULT_COLOR,ie._defaultColor],[pt.HIGHLIGHT_THICKNESS,ie._defaultThickness]]}get propertiesToUpdate(){return[[pt.HIGHLIGHT_COLOR,this.color||ie._defaultColor],[pt.HIGHLIGHT_THICKNESS,this.#g||ie._defaultThickness],[pt.HIGHLIGHT_FREE,this.#c]]}#w(t){const n=l=>{this.color=l,this.parent?.drawLayer.changeColor(this.#f,l),this.#l?.updateColor(l)},a=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#x(t){const n=this.#g,a=l=>{this.#g=l,this.#D(l)};this.addCommands({cmd:a.bind(this,t),undo:a.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#l=new bi({editor:this}),t.addColorPicker(this.#l)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#R())}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,this.#R())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?this.#T():t&&(this.#A(t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),n&&this.select()}#D(t){if(!this.#c)return;this.#E({highlightOutlines:this.#h.getNewOutline(t/2)}),this.fixAndSetPosition();const[n,a]=this.parentDimensions;this.setDims(this.width*n,this.height*a)}#T(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#d),this.#d=null)}#A(t=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#s}=t.drawLayer.highlight(this.#h,this.color,this.#m),this.#d=t.drawLayer.highlightOutline(this.#n),this.#u&&(this.#u.style.clipPath=this.#s))}static#v({x:t,y:n,width:a,height:l},o){switch(o){case 90:return{x:1-n-l,y:t,width:l,height:a};case 180:return{x:1-t-a,y:1-n-l,width:a,height:l};case 270:return{x:n,y:1-t-a,width:l,height:a}}return{x:t,y:n,width:a,height:l}}rotate(t){const{drawLayer:n}=this.parent;let a;this.#c?(t=(t-this.rotation+360)%360,a=ie.#v(this.#h.box,t)):a=ie.#v(this,t),n.rotate(this.#f,t),n.rotate(this.#d,t),n.updateBox(this.#f,a),n.updateBox(this.#d,ie.#v(this.#n.box,t))}render(){if(this.div)return this.div;const t=super.render();this.#b&&(t.setAttribute("aria-label",this.#b),t.setAttribute("role","mark")),this.#c?t.classList.add("free"):this.div.addEventListener("keydown",this.#r,{signal:this._uiManager._signal});const n=this.#u=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#s;const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),bl(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(this.#d,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#d,"hovered")}#S(t){ie._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(t){if(!this.#t)return;const n=window.getSelection();t?n.setPosition(this.#t,this.#e):n.setPosition(this.#a,this.#o)}select(){super.select(),this.#d&&(this.parent?.drawLayer.removeClass(this.#d,"hovered"),this.parent?.drawLayer.addClass(this.#d,"selected"))}unselect(){super.unselect(),this.#d&&(this.parent?.drawLayer.removeClass(this.#d,"selected"),this.#c||this.#C(!1))}get _mustFixPosition(){return!this.#c}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(this.#f,t),this.parent.drawLayer.show(this.#d,t))}#R(){return this.#c?this.rotation:0}#O(){if(this.#c)return null;const[t,n]=this.pageDimensions,a=this.#i,l=new Float32Array(a.length*8);let o=0;for(const{x:c,y:h,width:d,height:g}of a){const m=c*t,v=(1-h-g)*n;l[o]=l[o+4]=m,l[o+1]=l[o+3]=v,l[o+2]=l[o+6]=m+d*t,l[o+5]=l[o+7]=v+g*n,o+=8}return l}#L(t){return this.#h.serialize(t,this.#R())}static startHighlighting(t,n,{target:a,x:l,y:o}){const{x:c,y:h,width:d,height:g}=a.getBoundingClientRect(),m=E=>{this.#P(t,E)},v=t._signal,b={capture:!0,passive:!1,signal:v},A=E=>{E.preventDefault(),E.stopPropagation()},_=E=>{a.removeEventListener("pointermove",m),window.removeEventListener("blur",_),window.removeEventListener("pointerup",_),window.removeEventListener("pointerdown",A,b),window.removeEventListener("contextmenu",Fe),this.#N(t,E)};window.addEventListener("blur",_,{signal:v}),window.addEventListener("pointerup",_,{signal:v}),window.addEventListener("pointerdown",A,b),window.addEventListener("contextmenu",Fe,{signal:v}),a.addEventListener("pointermove",m,{signal:v}),this._freeHighlight=new Un({x:l,y:o},[c,h,d,g],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#P(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#N(t,n){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(t,n,a){const l=super.deserialize(t,n,a),{rect:[o,c,h,d],color:g,quadPoints:m}=t;l.color=st.makeHexColor(...g),l.#m=t.opacity;const[v,b]=l.pageDimensions;l.width=(h-o)/v,l.height=(d-c)/b;const A=l.#i=[];for(let _=0;_<m.length;_+=8)A.push({x:(m[4]-h)/v,y:(d-(1-m[_+5]))/b,width:(m[_+2]-m[_])/v,height:(m[_+5]-m[_+1])/b});return l.#_(),l}serialize(t=!1){if(this.isEmpty()||t)return null;const n=this.getRect(0,0),a=ft._colorManager.convert(this.color);return{annotationType:Ct.HIGHLIGHT,color:a,opacity:this.#m,thickness:this.#g,quadPoints:this.#O(),outlines:this.#L(n),pageIndex:this.pageIndex,rect:n,rotation:this.#R(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class Ae extends ft{#t=0;#e=0;#i=this.canvasPointermove.bind(this);#s=this.canvasPointerleave.bind(this);#l=this.canvasPointerup.bind(this);#n=this.canvasPointerdown.bind(this);#a=null;#o=new Path2D;#u=!1;#h=!1;#f=!1;#c=null;#r=0;#p=0;#m=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=Ct.INK;constructor(t){super({...t,name:"inkEditor"}),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){ft.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case pt.INK_THICKNESS:Ae._defaultThickness=n;break;case pt.INK_COLOR:Ae._defaultColor=n;break;case pt.INK_OPACITY:Ae._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case pt.INK_THICKNESS:this.#d(n);break;case pt.INK_COLOR:this.#b(n);break;case pt.INK_OPACITY:this.#g(n);break}}static get defaultPropertiesToUpdate(){return[[pt.INK_THICKNESS,Ae._defaultThickness],[pt.INK_COLOR,Ae._defaultColor||ft._defaultLineColor],[pt.INK_OPACITY,Math.round(Ae._defaultOpacity*100)]]}get propertiesToUpdate(){return[[pt.INK_THICKNESS,this.thickness||Ae._defaultThickness],[pt.INK_COLOR,this.color||Ae._defaultColor||ft._defaultLineColor],[pt.INK_OPACITY,Math.round(100*(this.opacity??Ae._defaultOpacity))]]}#d(t){const n=l=>{this.thickness=l,this.#z()},a=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#b(t){const n=l=>{this.color=l,this.#S()},a=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(t){const n=l=>{this.opacity=l,this.#S()};t/=100;const a=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#R(),this.#O()),this.isAttachedToDOM||(this.parent.add(this),this.#L()),this.#z()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#a&&(clearTimeout(this.#a),this.#a=null),this.#c?.disconnect(),this.#c=null,super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,a=this.width*t,l=this.height*n;this.setDimensions(a,l)}enableEditMode(){this.#u||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#n,{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#n))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#y(){const{parentRotation:t,parentDimensions:[n,a]}=this;switch(t){case 90:return[0,a,a,n];case 180:return[n,a,n,a];case 270:return[n,0,a,n];default:return[0,0,n,a]}}#_(){const{ctx:t,color:n,opacity:a,thickness:l,parentScale:o,scaleFactor:c}=this;t.lineWidth=l*o/c,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${iy(a)}`}#E(t,n){const a=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Fe,{signal:a}),this.canvas.addEventListener("pointerleave",this.#s,{signal:a}),this.canvas.addEventListener("pointermove",this.#i,{signal:a}),this.canvas.addEventListener("pointerup",this.#l,{signal:a}),this.canvas.removeEventListener("pointerdown",this.#n),this.isEditing=!0,this.#f||(this.#f=!0,this.#L(),this.thickness||=Ae._defaultThickness,this.color||=Ae._defaultColor||ft._defaultLineColor,this.opacity??=Ae._defaultOpacity),this.currentPath.push([t,n]),this.#h=!1,this.#_(),this.#m=()=>{this.#T(),this.#m&&window.requestAnimationFrame(this.#m)},window.requestAnimationFrame(this.#m)}#w(t,n){const[a,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===a&&n===l)return;const o=this.currentPath;let c=this.#o;if(o.push([t,n]),this.#h=!0,o.length<=2){c.moveTo(...o[0]),c.lineTo(t,n);return}o.length===3&&(this.#o=c=new Path2D,c.moveTo(...o[0])),this.#A(c,...o.at(-3),...o.at(-2),t,n)}#x(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);this.#o.lineTo(...t)}#D(t,n){this.#m=null,t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),this.#w(t,n),this.#x();let a;if(this.currentPath.length!==1)a=this.#v();else{const d=[t,n];a=[[d,d.slice(),d.slice(),d]]}const l=this.#o,o=this.currentPath;this.currentPath=[],this.#o=new Path2D;const c=()=>{this.allRawPaths.push(o),this.paths.push(a),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},h=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#R(),this.#O()),this.#z())};this.addCommands({cmd:c,undo:h,mustExec:!0})}#T(){if(!this.#h)return;this.#h=!1;const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),a=n.map(c=>c[0]),l=n.map(c=>c[1]);Math.min(...a)-t,Math.max(...a)+t,Math.min(...l)-t,Math.max(...l)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)o.stroke(c);o.stroke(this.#o),o.restore()}#A(t,n,a,l,o,c,h){const d=(n+l)/2,g=(a+o)/2,m=(l+c)/2,v=(o+h)/2;t.bezierCurveTo(d+2*(l-d)/3,g+2*(o-g)/3,m+2*(l-m)/3,v+2*(o-v)/3,m,v)}#v(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let a,[l,o]=t[0];for(a=1;a<t.length-2;a++){const[b,A]=t[a],[_,E]=t[a+1],x=(b+_)/2,w=(A+E)/2,P=[l+2*(b-l)/3,o+2*(A-o)/3],U=[x+2*(b-x)/3,w+2*(A-w)/3];n.push([[l,o],P,U,[x,w]]),[l,o]=[x,w]}const[c,h]=t[a],[d,g]=t[a+1],m=[l+2*(c-l)/3,o+2*(h-o)/3],v=[d+2*(c-d)/3,g+2*(h-g)/3];return n.push([[l,o],m,v,[d,g]]),n}#S(){if(this.isEmpty()){this.#N();return}this.#_();const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),this.#N();for(const a of this.bezierPath2D)n.stroke(a)}commit(){this.#u||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#u=!0,this.div.classList.add("disabled"),this.#z(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||this.#u||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#E(t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),this.#w(t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),this.#C(t)}canvasPointerleave(t){this.#C(t)}#C(t){this.canvas.removeEventListener("pointerleave",this.#s),this.canvas.removeEventListener("pointermove",this.#i),this.canvas.removeEventListener("pointerup",this.#l),this.canvas.addEventListener("pointerdown",this.#n,{signal:this._uiManager._signal}),this.#a&&clearTimeout(this.#a),this.#a=setTimeout(()=>{this.#a=null,this.canvas.removeEventListener("contextmenu",Fe)},10),this.#D(t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#R(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#O(){this.#c=new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#u}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[a,l,o,c]=this.#y();if(this.setAt(a,l,0,0),this.setDims(o,c),this.#R(),this.width){const[h,d]=this.parentDimensions;this.setAspectRatio(this.width*h,this.height*d),this.setAt(t*h,n*d,this.width*h,this.height*d),this.#f=!0,this.#L(),this.setDims(this.width*h,this.height*d),this.#S(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#O(),this.div}#L(){if(!this.#f)return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),this.#N()}setDimensions(t,n){const a=Math.round(t),l=Math.round(n);if(this.#r===a&&this.#p===l)return;this.#r=a,this.#p=l,this.canvas.style.visibility="hidden";const[o,c]=this.parentDimensions;this.width=t/o,this.height=n/c,this.fixAndSetPosition(),this.#u&&this.#P(t,n),this.#L(),this.#S(),this.canvas.style.visibility="visible",this.fixDims()}#P(t,n){const a=this.#B(),l=(t-a)/this.#e,o=(n-a)/this.#t;this.scaleFactor=Math.min(l,o)}#N(){const t=this.#B()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#H(t){const n=new Path2D;for(let a=0,l=t.length;a<l;a++){const[o,c,h,d]=t[a];a===0&&n.moveTo(...o),n.bezierCurveTo(c[0],c[1],h[0],h[1],d[0],d[1])}return n}static#k(t,n,a){const[l,o,c,h]=n;switch(a){case 0:for(let d=0,g=t.length;d<g;d+=2)t[d]+=l,t[d+1]=h-t[d+1];break;case 90:for(let d=0,g=t.length;d<g;d+=2){const m=t[d];t[d]=t[d+1]+l,t[d+1]=m+o}break;case 180:for(let d=0,g=t.length;d<g;d+=2)t[d]=c-t[d],t[d+1]+=o;break;case 270:for(let d=0,g=t.length;d<g;d+=2){const m=t[d];t[d]=c-t[d+1],t[d+1]=h-m}break;default:throw new Error("Invalid rotation")}return t}static#G(t,n,a){const[l,o,c,h]=n;switch(a){case 0:for(let d=0,g=t.length;d<g;d+=2)t[d]-=l,t[d+1]=h-t[d+1];break;case 90:for(let d=0,g=t.length;d<g;d+=2){const m=t[d];t[d]=t[d+1]-o,t[d+1]=m-l}break;case 180:for(let d=0,g=t.length;d<g;d+=2)t[d]=c-t[d],t[d+1]-=o;break;case 270:for(let d=0,g=t.length;d<g;d+=2){const m=t[d];t[d]=h-t[d+1],t[d+1]=c-m}break;default:throw new Error("Invalid rotation")}return t}#V(t,n,a,l){const o=[],c=this.thickness/2,h=t*n+c,d=t*a+c;for(const g of this.paths){const m=[],v=[];for(let b=0,A=g.length;b<A;b++){const[_,E,x,w]=g[b];if(_[0]===w[0]&&_[1]===w[1]&&A===1){const it=t*_[0]+h,W=t*_[1]+d;m.push(it,W),v.push(it,W);break}const P=t*_[0]+h,U=t*_[1]+d,H=t*E[0]+h,F=t*E[1]+d,G=t*x[0]+h,Y=t*x[1]+d,Q=t*w[0]+h,$=t*w[1]+d;b===0&&(m.push(P,U),v.push(P,U)),m.push(H,F,G,Y,Q,$),v.push(H,F),b===A-1&&v.push(Q,$)}o.push({bezier:Ae.#k(m,l,this.rotation),points:Ae.#k(v,l,this.rotation)})}return o}#I(){let t=1/0,n=-1/0,a=1/0,l=-1/0;for(const o of this.paths)for(const[c,h,d,g]of o){const m=st.bezierBoundingBox(...c,...h,...d,...g);t=Math.min(t,m[0]),a=Math.min(a,m[1]),n=Math.max(n,m[2]),l=Math.max(l,m[3])}return[t,a,n,l]}#B(){return this.#u?Math.ceil(this.thickness*this.parentScale):0}#z(t=!1){if(this.isEmpty())return;if(!this.#u){this.#S();return}const n=this.#I(),a=this.#B();this.#e=Math.max(ft.MIN_SIZE,n[2]-n[0]),this.#t=Math.max(ft.MIN_SIZE,n[3]-n[1]);const l=Math.ceil(a+this.#e*this.scaleFactor),o=Math.ceil(a+this.#t*this.scaleFactor),[c,h]=this.parentDimensions;this.width=l/c,this.height=o/h,this.setAspectRatio(l,o);const d=this.translationX,g=this.translationY;this.translationX=-n[0],this.translationY=-n[1],this.#L(),this.#S(),this.#r=l,this.#p=o,this.setDims(l,o);const m=t?a/this.scaleFactor/2:0;this.translate(d-this.translationX-m,g-this.translationY-m)}static deserialize(t,n,a){if(t instanceof jg)return null;const l=super.deserialize(t,n,a);l.thickness=t.thickness,l.color=st.makeHexColor(...t.color),l.opacity=t.opacity;const[o,c]=l.pageDimensions,h=l.width*o,d=l.height*c,g=l.parentScale,m=t.thickness/2;l.#u=!0,l.#r=Math.round(h),l.#p=Math.round(d);const{paths:v,rect:b,rotation:A}=t;for(let{bezier:E}of v){E=Ae.#G(E,b,A);const x=[];l.paths.push(x);let w=g*(E[0]-m),P=g*(E[1]-m);for(let H=2,F=E.length;H<F;H+=6){const G=g*(E[H]-m),Y=g*(E[H+1]-m),Q=g*(E[H+2]-m),$=g*(E[H+3]-m),it=g*(E[H+4]-m),W=g*(E[H+5]-m);x.push([[w,P],[G,Y],[Q,$],[it,W]]),w=it,P=W}const U=this.#H(x);l.bezierPath2D.push(U)}const _=l.#I();return l.#e=Math.max(ft.MIN_SIZE,_[2]-_[0]),l.#t=Math.max(ft.MIN_SIZE,_[3]-_[1]),l.#P(h,d),l}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=ft._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ct.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:this.#V(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class Uu extends ft{#t=null;#e=null;#i=null;#s=null;#l=null;#n="";#a=null;#o=null;#u=null;#h=!1;#f=!1;static _type="stamp";static _editorType=Ct.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#s=t.bitmapUrl,this.#l=t.bitmapFile}static initialize(t,n){ft.initialize(t,n)}static get supportedTypes(){return Rt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Rt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Ct.STAMP,{bitmapFile:t.getAsFile()})}#c(t,n=!1){if(!t){this.remove();return}this.#t=t.bitmap,n||(this.#e=t.id,this.#h=t.isSvg),t.file&&(this.#n=t.file.name),this.#m()}#r(){this.#i=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#p(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(a=>this.#c(a,!0)).finally(()=>this.#r());return}if(this.#s){const a=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(a).then(l=>this.#c(l)).finally(()=>this.#r());return}if(this.#l){const a=this.#l;this.#l=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(a).then(l=>this.#c(l)).finally(()=>this.#r());return}const t=document.createElement("input");t.type="file",t.accept=Uu.supportedTypesStr;const n=this._uiManager._signal;this.#i=new Promise(a=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(t.files[0]);this.#c(l)}a()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),a()},{signal:n})}).finally(()=>this.#r()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#a?.remove(),this.#a=null,this.#o?.disconnect(),this.#o=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#p();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#s||this.#l||this.#e)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#t?this.#m():this.#p(),this.width){const[a,l]=this.parentDimensions;this.setAt(t*a,n*l,this.width*a,this.height*l)}return this.div}#m(){const{div:t}=this;let{width:n,height:a}=this.#t;const[l,o]=this.pageDimensions,c=.75;if(this.width)n=this.width*l,a=this.height*o;else if(n>c*l||a>c*o){const m=Math.min(c*l/n,c*o/a);n*=m,a*=m}const[h,d]=this.parentDimensions;this.setDims(n*h/l,a*d/o),this._uiManager.enableWaiting(!1);const g=this.#a=document.createElement("canvas");t.append(g),t.hidden=!1,this.#g(n,a),this.#_(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#n&&g.setAttribute("aria-label",this.#n)}#d(t,n){const[a,l]=this.parentDimensions;this.width=t/a,this.height=n/l,this.setDims(t,n),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#u!==null&&clearTimeout(this.#u);const o=200;this.#u=setTimeout(()=>{this.#u=null,this.#g(t,n)},o)}#b(t,n){const{width:a,height:l}=this.#t;let o=a,c=l,h=this.#t;for(;o>2*t||c>2*n;){const d=o,g=c;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const m=new OffscreenCanvas(o,c);m.getContext("2d").drawImage(h,0,0,d,g,0,0,o,c),h=m.transferToImageBitmap()}return h}#g(t,n){t=Math.ceil(t),n=Math.ceil(n);const a=this.#a;if(!a||a.width===t&&a.height===n)return;a.width=t,a.height=n;const l=this.#h?this.#t:this.#b(t,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const h=new OffscreenCanvas(t,n).getContext("2d");h.drawImage(l,0,0,l.width,l.height,0,0,t,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:h.getImageData(0,0,t,n).data,width:t,height:n,channels:4}}).then(d=>{const g=d?.output||"";this.parent&&g&&!this.hasAltText()&&(this.altTextData={altText:g,decorative:!1})})}const o=a.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(l,0,0,l.width,l.height,0,0,t,n)}getImageForAltText(){return this.#a}#y(t){if(t){if(this.#h){const l=this._uiManager.imageManager.getSvgUrl(this.#e);if(l)return l}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#t,n.getContext("2d").drawImage(this.#t,0,0),n.toDataURL()}if(this.#h){const[n,a]=this.pageDimensions,l=Math.round(this.width*n*Ps.PDF_TO_CSS_UNITS),o=Math.round(this.height*a*Ps.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(l,o);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,l,o),c.transferToImageBitmap()}return structuredClone(this.#t)}#_(){this._uiManager._signal&&(this.#o=new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.#d(n.width,n.height)}),this.#o.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#o?.disconnect(),this.#o=null},{once:!0}))}static deserialize(t,n,a){if(t instanceof Ig)return null;const l=super.deserialize(t,n,a),{rect:o,bitmapUrl:c,bitmapId:h,isSvg:d,accessibilityData:g}=t;h&&a.imageManager.isValidId(h)?l.#e=h:l.#s=c,l.#h=d;const[m,v]=l.pageDimensions;return l.width=(o[2]-o[0])/m,l.height=(o[3]-o[1])/v,g&&(l.altTextData=g),l}serialize(t=!1,n=null){if(this.isEmpty())return null;const a={annotationType:Ct.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#h,structTreeParentId:this._structTreeParentId};if(t)return a.bitmapUrl=this.#y(!0),a.accessibilityData=this.altTextData,a;const{decorative:l,altText:o}=this.altTextData;if(!l&&o&&(a.accessibilityData={type:"Figure",alt:o}),n===null)return a;n.stamps||=new Map;const c=this.#h?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!n.stamps.has(this.#e))n.stamps.set(this.#e,{area:c,serialized:a}),a.bitmap=this.#y(!1);else if(this.#h){const h=n.stamps.get(this.#e);c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=this.#y(!1))}return a}}class Bi{#t;#e=!1;#i=null;#s=null;#l=null;#n=null;#a=null;#o=new Map;#u=!1;#h=!1;#f=!1;#c=null;#r;static _initialized=!1;static#p=new Map([le,Ae,Uu,ie].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:n,div:a,accessibilityManager:l,annotationLayer:o,drawLayer:c,textLayer:h,viewport:d,l10n:g}){const m=[...Bi.#p.values()];if(!Bi._initialized){Bi._initialized=!0;for(const v of m)v.initialize(g,t)}t.registerEditorTypes(m),this.#r=t,this.pageIndex=n,this.div=a,this.#t=l,this.#i=o,this.viewport=d,this.#c=h,this.drawLayer=c,this.#r.addLayer(this)}get isEmpty(){return this.#o.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===Ct.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#y(),t){case Ct.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ct.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ct.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const a of Bi.#p.values())n.toggle(`${a._type}Editing`,t===a._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#c?.div}addInkEditorIfNeeded(t){if(this.#r.getMode()!==Ct.INK)return;if(!t){for(const a of this.#o.values())if(a.isEmpty()){a.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const a of this.#o.values())a.enableEditing(),a.show(!0),a.annotationElementId&&(this.#r.removeChangedExistingAnnotation(a),t.add(a.annotationElementId));if(!this.#i)return;const n=this.#i.getEditableAnnotations();for(const a of n){if(a.hide(),this.#r.isDeletedAnnotationElement(a.data.id)||t.has(a.data.id))continue;const l=this.deserialize(a);l&&(this.addOrRebuild(l),l.enableEditing())}}disable(){this.#f=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,n=new Map;for(const l of this.#o.values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else n.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}if(this.#i){const l=this.#i.getEditableAnnotations();for(const o of l){const{id:c}=o.data;if(this.#r.isDeletedAnnotationElement(c))continue;let h=n.get(c);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(c),h&&(this.#r.addChangedExistingAnnotation(h),h.renderAnnotationElement(o),h.show(!1)),o.show()}}this.#y(),this.isEmpty&&(this.div.hidden=!0);const{classList:a}=this.div;for(const l of Bi.#p.values())a.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#f=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){this.div.tabIndex=-1,this.#c?.div&&!this.#n&&(this.#n=this.#m.bind(this),this.#c.div.addEventListener("pointerdown",this.#n,{signal:this.#r._signal}),this.#c.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#c?.div&&this.#n&&(this.#c.div.removeEventListener("pointerdown",this.#n),this.#n=null,this.#c.div.classList.remove("highlighting"))}#m(t){if(this.#r.unselectAll(),t.target===this.#c.div){const{isMac:n}=ze.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#r.showAllEditors("highlight",!0,!0),this.#c.div.classList.add("free"),ie.startHighlighting(this,this.#r.direction==="ltr",t),this.#c.div.addEventListener("pointerup",()=>{this.#c.div.classList.remove("free")},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#l)return;const t=this.#r._signal;this.#l=this.pointerdown.bind(this),this.#s=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#l,{signal:t}),this.div.addEventListener("pointerup",this.#s,{signal:t})}disableClick(){this.#l&&(this.div.removeEventListener("pointerdown",this.#l),this.div.removeEventListener("pointerup",this.#s),this.#l=null,this.#s=null)}attach(t){this.#o.set(t.id,t);const{annotationElementId:n}=t;n&&this.#r.isDeletedAnnotationElement(n)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#o.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#f&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#h||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),ft.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){const n=t.render();this.div.append(n),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),n.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const n=()=>t._uiManager.rebuild(t),a=()=>{t.remove()};this.addCommands({cmd:n,undo:a,mustExec:!1})}getNextId(){return this.#r.getId()}get#d(){return Bi.#p.get(this.#r.getMode())}get _signal(){return this.#r._signal}#b(t){const n=this.#d;return n?new n.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#d?.canCreateNewEmptyEditor()}pasteEditor(t,n){this.#r.updateToolbar(t),this.#r.updateMode(t);const{offsetX:a,offsetY:l}=this.#g(),o=this.getNextId(),c=this.#b({parent:this,id:o,x:a,y:l,uiManager:this.#r,isCentered:!0,...n});c&&this.add(c)}deserialize(t){return Bi.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,n,a={}){const l=this.getNextId(),o=this.#b({parent:this,id:l,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:n,...a});return o&&this.add(o),o}#g(){const{x:t,y:n,width:a,height:l}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,n),h=Math.min(window.innerWidth,t+a),d=Math.min(window.innerHeight,n+l),g=(o+h)/2-t,m=(c+d)/2-n,[v,b]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:v,offsetY:b}}addNewEditor(){this.createAndAddNewEditor(this.#g(),!0)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}isSelected(t){return this.#r.isSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){const{isMac:n}=ze.platform;if(!(t.button!==0||t.ctrlKey&&n)&&t.target===this.div&&this.#u){if(this.#u=!1,!this.#e){this.#e=!0;return}if(this.#r.getMode()===Ct.STAMP){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#r.getMode()===Ct.HIGHLIGHT&&this.enableTextSelection(),this.#u){this.#u=!1;return}const{isMac:n}=ze.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div)return;this.#u=!0;const a=this.#r.getActive();this.#e=!a||a.isEmpty()}findNewParent(t,n,a){const l=this.#r.findParent(n,a);return l===null||l===this?!1:(l.changeParent(t),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#o.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#o.clear(),this.#r.removeLayer(this)}#y(){this.#h=!0;for(const t of this.#o.values())t.isEmpty()&&t.remove();this.#h=!1}render({viewport:t}){this.viewport=t,Bn(this.div,t);for(const n of this.#r.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#y();const n=this.viewport.rotation,a=t.rotation;if(this.viewport=t,Bn(this.div,{rotation:a}),n!==a)for(const l of this.#o.values())l.rotate(a);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:n}=this.viewport.rawDims;return[t,n]}get scale(){return this.#r.viewParameters.realScale}}class we{#t=null;#e=0;#i=new Map;#s=new Map;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#i.size>0)for(const n of this.#i.values())n.remove(),t.append(n);this.#t=t}}static get _svgFactory(){return Rt(this,"_svgFactory",new xu)}static#l(t,{x:n=0,y:a=0,width:l=1,height:o=1}={}){const{style:c}=t;c.top=`${100*a}%`,c.left=`${100*n}%`,c.width=`${100*l}%`,c.height=`${100*o}%`}#n(t){const n=we._svgFactory.create(1,1,!0);return this.#t.append(n),n.setAttribute("aria-hidden",!0),we.#l(n,t),n}#a(t,n){const a=we._svgFactory.createElement("clipPath");t.append(a);const l=`clip_${n}`;a.setAttribute("id",l),a.setAttribute("clipPathUnits","objectBoundingBox");const o=we._svgFactory.createElement("use");return a.append(o),o.setAttribute("href",`#${n}`),o.classList.add("clip"),l}highlight(t,n,a,l=!1){const o=this.#e++,c=this.#n(t.box);c.classList.add("highlight"),t.free&&c.classList.add("free");const h=we._svgFactory.createElement("defs");c.append(h);const d=we._svgFactory.createElement("path");h.append(d);const g=`path_p${this.pageIndex}_${o}`;d.setAttribute("id",g),d.setAttribute("d",t.toSVGPath()),l&&this.#s.set(o,d);const m=this.#a(h,g),v=we._svgFactory.createElement("use");return c.append(v),c.setAttribute("fill",n),c.setAttribute("fill-opacity",a),v.setAttribute("href",`#${g}`),this.#i.set(o,c),{id:o,clipPathId:`url(#${m})`}}highlightOutline(t){const n=this.#e++,a=this.#n(t.box);a.classList.add("highlightOutline");const l=we._svgFactory.createElement("defs");a.append(l);const o=we._svgFactory.createElement("path");l.append(o);const c=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",c),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.free){a.classList.add("free");const m=we._svgFactory.createElement("mask");l.append(m),h=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const v=we._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=we._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const d=we._svgFactory.createElement("use");a.append(d),d.setAttribute("href",`#${c}`),h&&d.setAttribute("mask",`url(#${h})`);const g=d.cloneNode();return a.append(g),d.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.#i.set(n,a),n}finalizeLine(t,n){const a=this.#s.get(t);this.#s.delete(t),this.updateBox(t,n.box),a.setAttribute("d",n.toSVGPath())}updateLine(t,n){this.#i.get(t).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(t){this.remove(t),this.#s.delete(t)}updatePath(t,n){this.#s.get(t).setAttribute("d",n.toSVGPath())}updateBox(t,n){we.#l(this.#i.get(t),n)}show(t,n){this.#i.get(t).classList.toggle("hidden",!n)}rotate(t,n){this.#i.get(t).setAttribute("data-main-rotation",n)}changeColor(t,n){this.#i.get(t).setAttribute("fill",n)}changeOpacity(t,n){this.#i.get(t).setAttribute("fill-opacity",n)}addClass(t,n){this.#i.get(t).classList.add(n)}removeClass(t,n){this.#i.get(t).classList.remove(n)}remove(t){this.#t!==null&&(this.#i.get(t).remove(),this.#i.delete(t))}destroy(){this.#t=null;for(const t of this.#i.values())t.remove();this.#i.clear()}}var N0=ut.AbortException,k0=ut.AnnotationEditorLayer,P0=ut.AnnotationEditorParamsType,H0=ut.AnnotationEditorType,z0=ut.AnnotationEditorUIManager,Gg=ut.AnnotationLayer,Vg=ut.AnnotationMode,F0=ut.CMapCompressionType,U0=ut.ColorPicker,B0=ut.DOMSVGFactory,j0=ut.DrawLayer,I0=ut.FeatureTest,Bu=ut.GlobalWorkerOptions,q0=ut.ImageKind,G0=ut.InvalidPDFException,V0=ut.MissingPDFException,X0=ut.OPS,Y0=ut.Outliner,K0=ut.PDFDataRangeTransport,Q0=ut.PDFDateString,$0=ut.PDFWorker,Z0=ut.PasswordResponses,W0=ut.PermissionFlag,J0=ut.PixelsPerInch,tA=ut.RenderingCancelledException,Xg=ut.TextLayer,eA=ut.UnexpectedResponseException,iA=ut.Util,nA=ut.VerbosityLevel,sA=ut.XfaLayer,aA=ut.build,rA=ut.createValidAbsoluteUrl,lA=ut.fetchData,Yg=ut.getDocument,oA=ut.getFilenameFromUrl,cA=ut.getPdfFilenameFromUrl,uA=ut.getXfaPageViewport,hA=ut.isDataScheme,dA=ut.isPdfFile,fA=ut.noContextMenu,pA=ut.normalizeUnicode,gA=ut.renderTextLayer,mA=ut.setLayerDimensions,vA=ut.shadow,bA=ut.updateTextLayer,yA=ut.version;const AA=Object.freeze(Object.defineProperty({__proto__:null,AbortException:N0,AnnotationEditorLayer:k0,AnnotationEditorParamsType:P0,AnnotationEditorType:H0,AnnotationEditorUIManager:z0,AnnotationLayer:Gg,AnnotationMode:Vg,CMapCompressionType:F0,ColorPicker:U0,DOMSVGFactory:B0,DrawLayer:j0,FeatureTest:I0,GlobalWorkerOptions:Bu,ImageKind:q0,InvalidPDFException:G0,MissingPDFException:V0,OPS:X0,Outliner:Y0,PDFDataRangeTransport:K0,PDFDateString:Q0,PDFWorker:$0,PasswordResponses:Z0,PermissionFlag:W0,PixelsPerInch:J0,RenderingCancelledException:tA,TextLayer:Xg,UnexpectedResponseException:eA,Util:iA,VerbosityLevel:nA,XfaLayer:sA,build:aA,createValidAbsoluteUrl:rA,fetchData:lA,getDocument:Yg,getFilenameFromUrl:oA,getPdfFilenameFromUrl:cA,getXfaPageViewport:uA,isDataScheme:hA,isPdfFile:dA,noContextMenu:fA,normalizeUnicode:pA,renderTextLayer:gA,setLayerDimensions:mA,shadow:vA,updateTextLayer:bA,version:yA},Symbol.toStringTag,{value:"Module"}));var ge=function(p,t,n){if(n||arguments.length===2)for(var a=0,l=t.length,o;a<l;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return p.concat(o||Array.prototype.slice.call(t))},_A=["onCopy","onCut","onPaste"],SA=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],EA=["onFocus","onBlur"],TA=["onInput","onInvalid","onReset","onSubmit"],wA=["onLoad","onError"],xA=["onKeyDown","onKeyPress","onKeyUp"],CA=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],RA=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],MA=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],DA=["onSelect"],LA=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],OA=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],NA=["onScroll"],kA=["onWheel"],PA=["onAnimationStart","onAnimationEnd","onAnimationIteration"],HA=["onTransitionEnd"],zA=["onToggle"],FA=["onChange"],UA=ge(ge(ge(ge(ge(ge(ge(ge(ge(ge(ge(ge(ge(ge(ge(ge(ge(ge([],_A,!0),SA,!0),EA,!0),TA,!0),wA,!0),xA,!0),CA,!0),RA,!0),MA,!0),DA,!0),LA,!0),OA,!0),NA,!0),kA,!0),PA,!0),HA,!0),FA,!0),zA,!0);function Kg(p,t){var n={};return UA.forEach(function(a){var l=p[a];l&&(t?n[a]=(function(o){return l(o,t(a))}):n[a]=l)}),n}function Ka(p){var t=!1,n=new Promise(function(a,l){p.then(function(o){return!t&&a(o)}).catch(function(o){return!t&&l(o)})});return{promise:n,cancel:function(){t=!0}}}function Qg(p){var t,n,a="";if(typeof p=="string"||typeof p=="number")a+=p;else if(typeof p=="object")if(Array.isArray(p)){var l=p.length;for(t=0;t<l;t++)p[t]&&(n=Qg(p[t]))&&(a&&(a+=" "),a+=n)}else for(n in p)p[n]&&(a&&(a+=" "),a+=n);return a}function Ol(){for(var p,t,n=0,a="",l=arguments.length;n<l;n++)(p=arguments[n])&&(t=Qg(p))&&(a&&(a+=" "),a+=t);return a}var BA="Invariant failed";function Ut(p,t){if(!p)throw new Error(BA)}var cu,rg;function jA(){if(rg)return cu;rg=1;var p=function(){};return cu=p,cu}var IA=jA();const xe=_b(IA);var lg=Object.prototype.hasOwnProperty;function og(p,t,n){for(n of p.keys())if(Ns(n,t))return n}function Ns(p,t){var n,a,l;if(p===t)return!0;if(p&&t&&(n=p.constructor)===t.constructor){if(n===Date)return p.getTime()===t.getTime();if(n===RegExp)return p.toString()===t.toString();if(n===Array){if((a=p.length)===t.length)for(;a--&&Ns(p[a],t[a]););return a===-1}if(n===Set){if(p.size!==t.size)return!1;for(a of p)if(l=a,l&&typeof l=="object"&&(l=og(t,l),!l)||!t.has(l))return!1;return!0}if(n===Map){if(p.size!==t.size)return!1;for(a of p)if(l=a[0],l&&typeof l=="object"&&(l=og(t,l),!l)||!Ns(a[1],t.get(l)))return!1;return!0}if(n===ArrayBuffer)p=new Uint8Array(p),t=new Uint8Array(t);else if(n===DataView){if((a=p.byteLength)===t.byteLength)for(;a--&&p.getInt8(a)===t.getInt8(a););return a===-1}if(ArrayBuffer.isView(p)){if((a=p.byteLength)===t.byteLength)for(;a--&&p[a]===t[a];);return a===-1}if(!n||typeof p=="object"){a=0;for(n in p)if(lg.call(p,n)&&++a&&!lg.call(t,n)||!(n in t)||!Ns(p[n],t[n]))return!1;return Object.keys(t).length===a}}return p!==p&&t!==t}const $g=J.createContext(null);function ks({children:p,type:t}){return Z.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:p})}const qA="noopener noreferrer nofollow";class GA{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ut(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Ut(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(n=>{Ut(this.pdfDocument),Ut(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(n):Array.isArray(t)?n(t):t.then(n)}).then(n=>{Ut(Array.isArray(n));const a=n[0];new Promise(l=>{Ut(this.pdfDocument),a instanceof Object?this.pdfDocument.getPageIndex(a).then(o=>{l(o)}).catch(()=>{Ut(!1)}):typeof a=="number"?l(a):Ut(!1)}).then(l=>{const o=l+1;Ut(this.pdfViewer),Ut(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:l,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const n=t-1;Ut(this.pdfViewer),Ut(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:t})}addLinkAttributes(t,n,a){t.href=n,t.rel=this.externalLinkRel||qA,t.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const cg={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Nl=typeof window<"u",Zg=Nl&&window.location.protocol==="file:";function VA(p){return typeof p<"u"}function zn(p){return VA(p)&&p!==null}function XA(p){return typeof p=="string"}function YA(p){return p instanceof ArrayBuffer}function KA(p){return Ut(Nl),p instanceof Blob}function _u(p){return XA(p)&&/^data:/.test(p)}function ug(p){Ut(_u(p));const[t="",n=""]=p.split(",");return t.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function QA(){return Nl&&window.devicePixelRatio||1}const Wg="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function hg(){xe(!Zg,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Wg}`)}function $A(){xe(!Zg,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Wg}`)}function In(p){p?.cancel&&p.cancel()}function Su(p,t){return Object.defineProperty(p,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(p,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(p,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(p,"originalHeight",{get(){return this.view[3]},configurable:!0}),p}function ZA(p){return p.name==="RenderingCancelledException"}function WA(p){return new Promise((t,n)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return n(new Error("Error while reading a file."));t(a.result)},a.onerror=l=>{if(!l.target)return n(new Error("Error while reading a file."));const{error:o}=l.target;if(!o)return n(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},a.readAsArrayBuffer(p)})}function JA(p,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return p}}function Hs(){return J.useReducer(JA,{value:void 0,error:void 0})}var t_=function(p,t,n,a){function l(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(m){try{g(a.next(m))}catch(v){c(v)}}function d(m){try{g(a.throw(m))}catch(v){c(v)}}function g(m){m.done?o(m.value):l(m.value).then(h,d)}g((a=a.apply(p,t||[])).next())})},dg=function(p,t){var n={};for(var a in p)Object.prototype.hasOwnProperty.call(p,a)&&t.indexOf(a)<0&&(n[a]=p[a]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(p);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(p,a[l])&&(n[a[l]]=p[a[l]]);return n};const{PDFDataRangeTransport:e_}=AA,i_=(p,t)=>{switch(t){case cg.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");p(n);break}case cg.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");p(n);break}}};function fg(p){return typeof p=="object"&&p!==null&&("data"in p||"range"in p||"url"in p)}const n_=J.forwardRef(function(t,n){var{children:a,className:l,error:o="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:d,inputRef:g,imageResourcesPath:m,loading:v="Loading PDF",noData:b="No PDF file specified.",onItemClick:A,onLoadError:_,onLoadProgress:E,onLoadSuccess:x,onPassword:w=i_,onSourceError:P,onSourceSuccess:U,options:H,renderMode:F,rotate:G}=t,Y=dg(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Q,$]=Hs(),{value:it,error:W}=Q,[ht,bt]=Hs(),{value:gt,error:ot}=ht,O=J.useRef(new GA),z=J.useRef([]),V=J.useRef(void 0),mt=J.useRef(void 0);d&&d!==V.current&&fg(d)&&(xe(!Ns(d,V.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),V.current=d),H&&H!==mt.current&&(xe(!Ns(H,mt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),mt.current=H);const C=J.useRef({scrollPageIntoView:Lt=>{const{dest:It,pageNumber:ce,pageIndex:Zt=ce-1}=Lt;if(A){A({dest:It,pageIndex:Zt,pageNumber:ce});return}const me=z.current[Zt];if(me){me.scrollIntoView();return}xe(!1,`An internal link leading to page ${ce} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});J.useImperativeHandle(n,()=>({linkService:O,pages:z,viewer:C}),[]);function q(){U&&U()}function K(){W&&(xe(!1,W.toString()),P&&P(W))}function X(){$({type:"RESET"})}J.useEffect(X,[d,$]);const tt=J.useCallback(()=>t_(this,void 0,void 0,function*(){if(!d)return null;if(typeof d=="string")return _u(d)?{data:ug(d)}:(hg(),{url:d});if(d instanceof e_)return{range:d};if(YA(d))return{data:d};if(Nl&&KA(d))return{data:yield WA(d)};if(Ut(typeof d=="object"),Ut(fg(d)),"url"in d&&typeof d.url=="string"){if(_u(d.url)){const{url:Lt}=d,It=dg(d,["url"]),ce=ug(Lt);return Object.assign({data:ce},It)}hg()}return d}),[d]);J.useEffect(()=>{const Lt=Ka(tt());return Lt.promise.then(It=>{$({type:"RESOLVE",value:It})}).catch(It=>{$({type:"REJECT",error:It})}),()=>{In(Lt)}},[tt,$]),J.useEffect(()=>{if(!(typeof it>"u")){if(it===!1){K();return}q()}},[it]);function dt(){gt&&(x&&x(gt),z.current=new Array(gt.numPages),O.current.setDocument(gt))}function nt(){ot&&(xe(!1,ot.toString()),_&&_(ot))}J.useEffect(function(){bt({type:"RESET"})},[bt,it]),J.useEffect(function(){if(!it)return;const It=H?Object.assign(Object.assign({},it),H):it,ce=Yg(It);E&&(ce.onProgress=E),w&&(ce.onPassword=w);const Zt=ce,me=Zt.promise.then(vn=>{bt({type:"RESOLVE",value:vn})}).catch(vn=>{Zt.destroyed||bt({type:"REJECT",error:vn})});return()=>{me.finally(()=>Zt.destroy())}},[H,bt,it]),J.useEffect(()=>{if(!(typeof gt>"u")){if(gt===!1){nt();return}dt()}},[gt]),J.useEffect(function(){O.current.setViewer(C.current),O.current.setExternalLinkRel(c),O.current.setExternalLinkTarget(h)},[c,h]);const yt=J.useCallback((Lt,It)=>{z.current[Lt]=It},[]),At=J.useCallback(Lt=>{delete z.current[Lt]},[]),ne=J.useMemo(()=>({imageResourcesPath:m,linkService:O.current,onItemClick:A,pdf:gt,registerPage:yt,renderMode:F,rotate:G,unregisterPage:At}),[m,A,gt,yt,F,G,At]),Bt=J.useMemo(()=>Kg(Y,()=>gt),[Y,gt]);function ui(){return Z.jsx($g.Provider,{value:ne,children:a})}function Ai(){return d?gt==null?Z.jsx(ks,{type:"loading",children:typeof v=="function"?v():v}):gt===!1?Z.jsx(ks,{type:"error",children:typeof o=="function"?o():o}):ui():Z.jsx(ks,{type:"no-data",children:typeof b=="function"?b():b})}return Z.jsx("div",Object.assign({className:Ol("react-pdf__Document",l),ref:g,style:{"--scale-factor":"1"}},Bt,{children:Ai()}))});function Jg(){return J.useContext($g)}function tm(){for(var p=[],t=0;t<arguments.length;t++)p[t]=arguments[t];var n=p.filter(Boolean);if(n.length<=1){var a=n[0];return a||null}return function(o){n.forEach(function(c){typeof c=="function"?c(o):c&&(c.current=o)})}}const em=J.createContext(null),im={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},s_=/^H(\d+)$/;function a_(p){return p in im}function kl(p){return"children"in p}function nm(p){return kl(p)?p.children.length===1&&0 in p.children&&"id"in p.children[0]:!1}function r_(p){const t={};if(kl(p)){const{role:n}=p,a=n.match(s_);if(a)t.role="heading",t["aria-level"]=Number(a[1]);else if(a_(n)){const l=im[n];l&&(t.role=l)}}return t}function sm(p){const t={};if(kl(p)){if(p.alt!==void 0&&(t["aria-label"]=p.alt),p.lang!==void 0&&(t.lang=p.lang),nm(p)){const[n]=p.children;if(n){const a=sm(n);return Object.assign(Object.assign({},t),a)}}}else"id"in p&&(t["aria-owns"]=p.id);return t}function l_(p){return p?Object.assign(Object.assign({},r_(p)),sm(p)):null}function am({className:p,node:t}){const n=J.useMemo(()=>l_(t),[t]),a=J.useMemo(()=>!kl(t)||nm(t)?null:t.children.map((l,o)=>Z.jsx(am,{node:l},o)),[t]);return Z.jsx("span",Object.assign({className:p},n,{children:a}))}function Pl(){return J.useContext(em)}function o_(){const p=Pl();Ut(p);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=p,[a,l]=Hs(),{value:o,error:c}=a,{customTextRenderer:h,page:d}=p;function g(){o&&n&&n(o)}function m(){c&&(xe(!1,c.toString()),t&&t(c))}return J.useEffect(function(){l({type:"RESET"})},[l,d]),J.useEffect(function(){if(h||!d)return;const b=Ka(d.getStructTree()),A=b;return b.promise.then(_=>{l({type:"RESOLVE",value:_})}).catch(_=>{l({type:"REJECT",error:_})}),()=>In(A)},[h,d,l]),J.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}g()}},[o]),o?Z.jsx(am,{className:"react-pdf__Page__structTree structTree",node:o}):null}const pg=Vg;function c_(p){const t=Pl();Ut(t);const n=Object.assign(Object.assign({},t),p),{_className:a,canvasBackground:l,devicePixelRatio:o=QA(),onRenderError:c,onRenderSuccess:h,page:d,renderForms:g,renderTextLayer:m,rotate:v,scale:b}=n,{canvasRef:A}=p;Ut(d);const _=J.useRef(null);function E(){d&&h&&h(Su(d,b))}function x(H){ZA(H)||(xe(!1,H.toString()),c&&c(H))}const w=J.useMemo(()=>d.getViewport({scale:b*o,rotation:v}),[o,d,v,b]),P=J.useMemo(()=>d.getViewport({scale:b,rotation:v}),[d,v,b]);J.useEffect(function(){if(!d)return;d.cleanup();const{current:F}=_;if(!F)return;F.width=w.width,F.height=w.height,F.style.width=`${Math.floor(P.width)}px`,F.style.height=`${Math.floor(P.height)}px`,F.style.visibility="hidden";const G={annotationMode:g?pg.ENABLE_FORMS:pg.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:w};l&&(G.background=l);const Y=d.render(G),Q=Y;return Y.promise.then(()=>{F.style.visibility="",E()}).catch(x),()=>In(Q)},[l,d,g,w,P]);const U=J.useCallback(()=>{const{current:H}=_;H&&(H.width=0,H.height=0)},[]);return J.useEffect(()=>U,[U]),Z.jsx("canvas",{className:`${a}__canvas`,dir:"ltr",ref:tm(A,_),style:{display:"block",userSelect:"none"},children:m?Z.jsx(o_,{}):null})}function u_(p){return"str"in p}function h_(){const p=Pl();Ut(p);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:a,onRenderTextLayerError:l,onRenderTextLayerSuccess:o,page:c,pageIndex:h,pageNumber:d,rotate:g,scale:m}=p;Ut(c);const[v,b]=Hs(),{value:A,error:_}=v,E=J.useRef(null),x=J.useRef(void 0);xe(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function w(){A&&a&&a(A)}function P(){_&&(xe(!1,_.toString()),n&&n(_))}J.useEffect(function(){b({type:"RESET"})},[c,b]),J.useEffect(function(){if(!c)return;const $=Ka(c.getTextContent()),it=$;return $.promise.then(W=>{b({type:"RESOLVE",value:W})}).catch(W=>{b({type:"REJECT",error:W})}),()=>In(it)},[c,b]),J.useEffect(()=>{if(A!==void 0){if(A===!1){P();return}w()}},[A]);const U=J.useCallback(()=>{o&&o()},[o]),H=J.useCallback(Q=>{xe(!1,Q.toString()),l&&l(Q)},[l]);function F(){const Q=x.current;Q&&Q.classList.add("active")}function G(){const Q=x.current;Q&&Q.classList.remove("active")}const Y=J.useMemo(()=>c.getViewport({scale:m,rotation:g}),[c,g,m]);return J.useLayoutEffect(function(){if(!c||!A)return;const{current:$}=E;if(!$)return;$.innerHTML="";const it=c.streamTextContent({includeMarkedContent:!0}),W={container:$,textContentSource:it,viewport:Y},ht=new Xg(W),bt=ht;return ht.render().then(()=>{const gt=document.createElement("div");gt.className="endOfContent",$.append(gt),x.current=gt;const ot=$.querySelectorAll('[role="presentation"]');if(t){let O=0;A.items.forEach((z,V)=>{if(!u_(z))return;const mt=ot[O];if(!mt)return;const C=t(Object.assign({pageIndex:h,pageNumber:d,itemIndex:V},z));mt.innerHTML=C,O+=z.str&&z.hasEOL?2:1})}U()}).catch(H),()=>In(bt)},[t,H,U,c,h,d,A,Y]),Z.jsx("div",{className:Ol("react-pdf__Page__textContent","textLayer"),onMouseUp:G,onMouseDown:F,ref:E})}function d_(){const p=Jg(),t=Pl();Ut(t);const n=Object.assign(Object.assign({},p),t),{imageResourcesPath:a,linkService:l,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,page:g,pdf:m,renderForms:v,rotate:b,scale:A=1}=n;Ut(m),Ut(g),Ut(l);const[_,E]=Hs(),{value:x,error:w}=_,P=J.useRef(null);xe(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function U(){x&&c&&c(x)}function H(){w&&(xe(!1,w.toString()),o&&o(w))}J.useEffect(function(){E({type:"RESET"})},[E,g]),J.useEffect(function(){if(!g)return;const $=Ka(g.getAnnotations()),it=$;return $.promise.then(W=>{E({type:"RESOLVE",value:W})}).catch(W=>{E({type:"REJECT",error:W})}),()=>{In(it)}},[E,g]),J.useEffect(()=>{if(x!==void 0){if(x===!1){H();return}U()}},[x]);function F(){d&&d()}function G(Q){xe(!1,`${Q}`),h&&h(Q)}const Y=J.useMemo(()=>g.getViewport({scale:A,rotation:b}),[g,b,A]);return J.useEffect(function(){if(!m||!g||!l||!x)return;const{current:$}=P;if(!$)return;const it=Y.clone({dontFlip:!0}),W={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:$,l10n:null,page:g,viewport:it},ht={annotations:x,annotationStorage:m.annotationStorage,div:$,imageResourcesPath:a,linkService:l,page:g,renderForms:v,viewport:it};$.innerHTML="";try{new Gg(W).render(ht),F()}catch(bt){G(bt)}return()=>{}},[x,a,l,g,m,v,Y]),Z.jsx("div",{className:Ol("react-pdf__Page__annotations","annotationLayer"),ref:P})}var f_=function(p,t){var n={};for(var a in p)Object.prototype.hasOwnProperty.call(p,a)&&t.indexOf(a)<0&&(n[a]=p[a]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(p);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(p,a[l])&&(n[a[l]]=p[a[l]]);return n};const gg=1;function p_(p){const t=Jg(),n=Object.assign(Object.assign({},t),p),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:l=!0,canvasBackground:o,canvasRef:c,children:h,className:d,customRenderer:g,customTextRenderer:m,devicePixelRatio:v,error:b="Failed to load the page.",height:A,inputRef:_,loading:E="Loading page",noData:x="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:P,onGetStructTreeError:U,onGetStructTreeSuccess:H,onGetTextError:F,onGetTextSuccess:G,onLoadError:Y,onLoadSuccess:Q,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:it,onRenderError:W,onRenderSuccess:ht,onRenderTextLayerError:bt,onRenderTextLayerSuccess:gt,pageIndex:ot,pageNumber:O,pdf:z,registerPage:V,renderAnnotationLayer:mt=!0,renderForms:C=!1,renderMode:q="canvas",renderTextLayer:K=!0,rotate:X,scale:tt=gg,unregisterPage:dt,width:nt}=n,yt=f_(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[At,ne]=Hs(),{value:Bt,error:ui}=At,Ai=J.useRef(null);Ut(z);const Lt=zn(O)?O-1:ot??null,It=O??(zn(ot)?ot+1:null),ce=X??(Bt?Bt.rotate:null),Zt=J.useMemo(()=>{if(!Bt)return null;let Wt=1;const Ue=tt??gg;if(nt||A){const ue=Bt.getViewport({scale:1,rotation:ce});nt?Wt=nt/ue.width:A&&(Wt=A/ue.height)}return Ue*Wt},[A,Bt,ce,tt,nt]);J.useEffect(function(){return()=>{zn(Lt)&&l&&dt&&dt(Lt)}},[l,z,Lt,dt]);function me(){if(Q){if(!Bt||!Zt)return;Q(Su(Bt,Zt))}if(l&&V){if(!zn(Lt)||!Ai.current)return;V(Lt,Ai.current)}}function vn(){ui&&(xe(!1,ui.toString()),Y&&Y(ui))}J.useEffect(function(){ne({type:"RESET"})},[ne,z,Lt]),J.useEffect(function(){if(!z||!It)return;const Ue=Ka(z.getPage(It)),ue=Ue;return Ue.promise.then(zs=>{ne({type:"RESOLVE",value:zs})}).catch(zs=>{ne({type:"REJECT",error:zs})}),()=>In(ue)},[ne,z,It]),J.useEffect(()=>{if(Bt!==void 0){if(Bt===!1){vn();return}me()}},[Bt,Zt]);const Qa=J.useMemo(()=>Bt&&zn(Lt)&&It&&zn(ce)&&zn(Zt)?{_className:a,canvasBackground:o,customTextRenderer:m,devicePixelRatio:v,onGetAnnotationsError:w,onGetAnnotationsSuccess:P,onGetStructTreeError:U,onGetStructTreeSuccess:H,onGetTextError:F,onGetTextSuccess:G,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:it,onRenderError:W,onRenderSuccess:ht,onRenderTextLayerError:bt,onRenderTextLayerSuccess:gt,page:Bt,pageIndex:Lt,pageNumber:It,renderForms:C,renderTextLayer:K,rotate:ce,scale:Zt}:null,[a,o,m,v,w,P,U,H,F,G,$,it,W,ht,bt,gt,Bt,Lt,It,C,K,ce,Zt]),$a=J.useMemo(()=>Kg(yt,()=>Bt&&(Zt?Su(Bt,Zt):void 0)),[yt,Bt,Zt]),_i=`${Lt}@${Zt}/${ce}`;function Hl(){switch(q){case"custom":return Ut(g),Z.jsx(g,{},`${_i}_custom`);case"none":return null;case"canvas":default:return Z.jsx(c_,{canvasRef:c},`${_i}_canvas`)}}function Za(){return K?Z.jsx(h_,{},`${_i}_text`):null}function zl(){return mt?Z.jsx(d_,{},`${_i}_annotations`):null}function Fl(){return Z.jsxs(em.Provider,{value:Qa,children:[Hl(),Za(),zl(),h]})}function bn(){return It?z===null||Bt===void 0||Bt===null?Z.jsx(ks,{type:"loading",children:typeof E=="function"?E():E}):z===!1||Bt===!1?Z.jsx(ks,{type:"error",children:typeof b=="function"?b():b}):Fl():Z.jsx(ks,{type:"no-data",children:typeof x=="function"?x():x})}return Z.jsx("div",Object.assign({className:Ol(a,d),"data-page-number":It,ref:tm(_,Ai),style:{"--scale-factor":`${Zt}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},$a,{children:bn()}))}$A();Bu.workerSrc="pdf.worker.mjs";Bu.workerSrc="/pdf.worker.min.js";const g_=({file:p})=>{const[t,n]=J.useState(0),[a,l]=J.useState(1),[o,c]=J.useState(""),[h,d]=J.useState("");J.useEffect(()=>{const A=URL.createObjectURL(p);return c(A),d(""),()=>{URL.revokeObjectURL(A)}},[p]);const g=({numPages:A})=>{n(A),l(1),d("")},m=A=>{console.error("Error loading PDF:",A),d("Failed to load PDF. Please try a different file.")},v=()=>{l(a<=1?1:a-1)},b=()=>{l(a>=t?t:a+1)};return Z.jsxs("div",{className:"pdf-viewer",children:[Z.jsxs("div",{className:"pdf-controls",children:[Z.jsx("button",{onClick:v,disabled:a<=1,children:"Previous"}),Z.jsxs("span",{children:["Page ",a," of ",t]}),Z.jsx("button",{onClick:b,disabled:a>=t,children:"Next"})]}),Z.jsx("div",{className:"pdf-document",children:h?Z.jsx("div",{className:"pdf-error",children:h}):Z.jsx(n_,{file:o,onLoadSuccess:g,onLoadError:m,children:Z.jsx(p_,{pageNumber:a,width:400})})})]})},m_=({data:p})=>{const[t,n]=J.useState("formatted"),a=h=>{try{return JSON.stringify(h,null,2)}catch{return String(h)}},l=(h,d=0)=>{if(h===null)return Z.jsx("span",{className:"json-null",children:"null"});if(typeof h=="boolean")return Z.jsx("span",{className:"json-boolean",children:h.toString()});if(typeof h=="number")return Z.jsx("span",{className:"json-number",children:h});if(typeof h=="string")return Z.jsxs("span",{className:"json-string",children:['"',h,'"']});if(Array.isArray(h))return h.length===0?Z.jsx("span",{className:"json-bracket",children:"[]"}):Z.jsxs("div",{className:"json-array",children:[Z.jsx("span",{className:"json-bracket",children:"["}),h.map((g,m)=>Z.jsxs("div",{className:"json-array-item",style:{marginLeft:`${(d+1)*16}px`},children:[l(g,d+1),m<h.length-1&&Z.jsx("span",{className:"json-comma",children:","})]},m)),Z.jsx("span",{className:"json-bracket",style:{marginLeft:`${d*16}px`},children:"]"})]});if(typeof h=="object"){const g=Object.entries(h);return g.length===0?Z.jsx("span",{className:"json-bracket"}):Z.jsxs("div",{className:"json-object",children:[Z.jsx("span",{className:"json-bracket",children:"{"}),g.map(([m,v],b)=>Z.jsxs("div",{className:"json-object-entry",style:{marginLeft:`${(d+1)*16}px`},children:[Z.jsxs("span",{className:"json-key",children:['"',m,'"']}),Z.jsx("span",{className:"json-colon",children:": "}),l(v,d+1),b<g.length-1&&Z.jsx("span",{className:"json-comma",children:","})]},m)),Z.jsx("span",{className:"json-bracket",style:{marginLeft:`${d*16}px`},children:"}"})]})}return Z.jsx("span",{children:String(h)})},c=(()=>{if(p?.signature_details?.signature_validation){const h=p.signature_details.signature_validation;return{status:h.validation_status,message:`${h.completed_signatures||0}/${h.total_signature_fields||0} signatures complete`,notes:h.validation_notes}}if(p?.signature_validation){const h=p.signature_validation;return{status:h.validation_status,message:`${h.completed_signatures||0}/${h.total_signature_fields||0} signatures complete`,notes:h.validation_notes}}return null})();return Z.jsxs("div",{className:"json-display",children:[c&&Z.jsxs("div",{className:`validation-banner validation-${c.status?.toLowerCase()}`,children:[Z.jsxs("div",{className:"validation-header",children:[Z.jsx("span",{className:"validation-icon",children:c.status==="COMPLETE"?"":c.status==="INCOMPLETE"?"":""}),Z.jsx("span",{className:"validation-status",children:c.status}),Z.jsx("span",{className:"validation-message",children:c.message})]}),c.notes&&Z.jsx("div",{className:"validation-notes",children:c.notes})]}),Z.jsxs("div",{className:"json-controls",children:[Z.jsx("button",{className:t==="formatted"?"active":"",onClick:()=>n("formatted"),children:"Formatted"}),Z.jsx("button",{className:t==="raw"?"active":"",onClick:()=>n("raw"),children:"Raw JSON"})]}),Z.jsx("div",{className:"json-content-wrapper",children:t==="formatted"?Z.jsx("div",{className:"json-formatted",children:l(p)}):Z.jsx("pre",{className:"json-raw",children:a(p)})})]})};function v_(){const[p,t]=J.useState(null),[n,a]=J.useState(null),[l,o]=J.useState(!1),c=g=>{t(g),a(null)},h=async()=>{if(p){o(!0);try{const g=new FormData;g.append("file",p);const m=await fetch("/api/analyze-pdf",{method:"POST",body:g});if(!m.ok)throw new Error("Failed to analyze PDF");const v=await m.json();a(v)}catch(g){console.error("Error analyzing PDF:",g),alert("Error analyzing PDF. Please try again.")}finally{o(!1)}}},d=async()=>{if(p){o(!0);try{const g=new FormData;g.append("file",p);const m=await fetch("/api/debug-extract",{method:"POST",body:g});if(!m.ok)throw new Error("Failed to debug extract PDF");const v=await m.json();a(v)}catch(g){console.error("Error in debug extraction:",g),alert("Error in debug extraction. Please try again.")}finally{o(!1)}}};return Z.jsxs("div",{className:"app",children:[Z.jsxs("header",{className:"app-header",children:[Z.jsx("h1",{children:"Payout Process"}),Z.jsx("p",{children:"Upload a PDF and extract its structure using AI"})]}),Z.jsxs("div",{className:"upload-section",children:[Z.jsx("input",{type:"file",accept:".pdf",onChange:g=>g.target.files&&c(g.target.files[0]),className:"file-input"}),p&&Z.jsxs("div",{className:"button-group",children:[Z.jsx("button",{onClick:h,disabled:l,className:"analyze-button",children:l?"Analyzing...":"Analyze PDF Structure"}),Z.jsx("button",{onClick:d,disabled:l,className:"debug-button",children:l?"Extracting...":"Debug Raw Extract"})]})]}),Z.jsxs("div",{className:"content-container",children:[Z.jsxs("div",{className:"pdf-panel",children:[Z.jsx("h3",{children:"PDF Viewer"}),p?Z.jsx(g_,{file:p}):Z.jsx("div",{className:"placeholder",children:"Select a PDF file to view"})]}),Z.jsxs("div",{className:"json-panel",children:[Z.jsx("h3",{children:"Extracted JSON Structure"}),n?Z.jsx(m_,{data:n}):Z.jsx("div",{className:"placeholder",children:p?'Click "Analyze PDF Structure" to extract data':"Upload a PDF first"})]})]})]})}Lb.createRoot(document.getElementById("root")).render(Z.jsx(J.StrictMode,{children:Z.jsx(v_,{})}));
